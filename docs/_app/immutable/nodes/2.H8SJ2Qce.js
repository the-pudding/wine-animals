import{n as ge,Q as yl,s as Ae,e as R,m as le,G as mu,c as z,f as g,u,h as _,K as je,g as L,q as cn,x as ua,b as T,v as fe,C as at,D as lt,E as it,F as ot,w as He,l as U,o as Z,A as fa,J as de,r as ht,ac as Fr,af as hu,L as gu,t as ee,d as te,j as we,z as Xe,a0 as ye,k as Q,O as wt,a3 as Ea,H as tt,B as nt,ag as Ye,i as pa,I as rn,a5 as ct,a1 as an,ah as Pe,a4 as ma,a7 as be,a8 as _e,a6 as jt,y as Ts,ai as Sn,aj as or,a9 as sr,ab as ur,ak as du,al as Nt,ad as dt}from"../chunks/scheduler.UCKdZ23Y.js";import{n as ha,l as kl,h as bu,j as _u,S as Ie,i as De,a as q,g as Le,t as X,c as Ve,b as oe,d as pe,m as ce,e as se,k as Ps,o as Rs,p as fr,f as ln}from"../chunks/index.w5d_eoIb.js";import{e as ve,u as pr,f as vl,a as yu,d as Pl}from"../chunks/each.27yXlK1x.js";import{s as wl,b as Gl,c as ga,d as En,e as Ee,f as Rl,g as zs,h as ku,t as Ca,i as mr,j as vu,k as wu,n as zl,l as Ns,C as da,m as Sl,o as El,p as Cl,q as Al,r as Nl,u as Ll,v as Vl,w as Gu,S as Su,T as Eu,a as Cu}from"../chunks/Tap.LZGeCBtl.js";import{_ as Ls}from"../chunks/preload-helper.0HuHagjb.js";import{d as Au,S as ba,r as Vs,a as Mu,c as Iu,i as ll,b as Fl,e as Ol,f as Du,I as Wl,g as Nr,h as Tu,j as Pu}from"../chunks/transform.ftKUDlNm.js";import{w as Re,d as xe}from"../chunks/index.-TYdB1u-.js";const Ru=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Aa(n,e,t,r){if(!e)return ge;const a=n.getBoundingClientRect();if(e.left===a.left&&e.right===a.right&&e.top===a.top&&e.bottom===a.bottom)return ge;const{delay:l=0,duration:i=300,easing:o=yl,start:c=ha()+l,end:s=c+i,tick:f=ge,css:p}=t(n,{from:e,to:a},r);let m=!0,h=!1,d;function b(){p&&(d=bu(n,0,1,i,l,o,p)),l||(h=!0)}function v(){p&&_u(n,d),m=!1}return kl(y=>{if(!h&&y>=c&&(h=!0),h&&y>=s&&(f(1,0),v()),!m)return!1;if(h){const G=y-c,w=0+1*o(G/i);f(w,1-w)}return!0}),b(),f(0,1),v}function Ma(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,a=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=r,zu(n,a)}}function zu(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(n),a=r.transform==="none"?"":r.transform;n.style.transform=`${a} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function ql(n,e,t){const r=n.slice();return r[5]=e[t],r}function Bl(n){let e,t;return{c(){e=R("link"),this.h()},l(r){e=z(r,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){u(e,"rel","preload"),u(e,"href",t=n[5]),u(e,"as","font"),u(e,"type","font/woff2"),u(e,"crossorigin","")},m(r,a){L(r,e,a)},p(r,a){a&16&&t!==(t=r[5])&&u(e,"href",t)},d(r){r&&g(e)}}}function Nu(n){let e,t,r,a,l,i,o,c,s,f,p,m,h,d,b,v,y,G,w,k,C,E,A,S,I,M;document.title=e=n[0];let D=ve(n[4]),P=[];for(let B=0;B<D.length;B+=1)P[B]=Bl(ql(n,D,B));return{c(){t=R("meta"),r=R("meta"),a=R("meta"),l=R("meta"),i=R("meta"),o=R("meta"),c=R("meta"),s=R("meta"),f=R("meta"),p=R("meta"),h=R("meta"),d=R("meta"),b=R("meta"),v=R("meta"),y=R("meta"),G=R("meta"),w=R("meta"),k=R("meta"),C=R("meta"),A=R("meta"),S=R("link");for(let B=0;B<P.length;B+=1)P[B].c();M=le(),this.h()},l(B){const H=mu("svelte-166obrt",document.head);t=z(H,"META",{name:!0,content:!0}),r=z(H,"META",{name:!0,content:!0}),a=z(H,"META",{name:!0,content:!0}),l=z(H,"META",{property:!0,content:!0}),i=z(H,"META",{property:!0,content:!0}),o=z(H,"META",{property:!0,content:!0}),c=z(H,"META",{property:!0,content:!0}),s=z(H,"META",{property:!0,content:!0}),f=z(H,"META",{property:!0,content:!0}),p=z(H,"META",{property:!0,content:!0}),h=z(H,"META",{property:!0,content:!0}),d=z(H,"META",{property:!0,content:!0}),b=z(H,"META",{property:!0,content:!0}),v=z(H,"META",{name:!0,content:!0}),y=z(H,"META",{name:!0,content:!0}),G=z(H,"META",{name:!0,content:!0}),w=z(H,"META",{name:!0,content:!0}),k=z(H,"META",{name:!0,content:!0}),C=z(H,"META",{name:!0,content:!0}),A=z(H,"META",{name:!0,content:!0}),S=z(H,"LINK",{rel:!0,href:!0});for(let V=0;V<P.length;V+=1)P[V].l(H);M=le(),H.forEach(g),this.h()},h(){u(t,"name","description"),u(t,"content",n[1]),u(r,"name","author"),u(r,"content","The Pudding"),u(a,"name","news_keywords"),u(a,"content",n[3]),u(l,"property","og:title"),u(l,"content",n[0]),u(i,"property","og:site_name"),u(i,"content","The Pudding"),u(o,"property","og:url"),u(o,"content",n[2]),u(c,"property","og:description"),u(c,"content",n[1]),u(s,"property","og:type"),u(s,"content","article"),u(f,"property","og:locale"),u(f,"content","en_US"),u(p,"property","og:image"),u(p,"content",m=n[2]+"/assets/images/social.jpg"),u(h,"property","og:image:type"),u(h,"content","image/jpeg"),u(d,"property","og:image:width"),u(d,"content","1200"),u(b,"property","og:image:height"),u(b,"content","600"),u(v,"name","twitter:card"),u(v,"content","summary_large_image"),u(y,"name","twitter:site"),u(y,"content","https://pudding.cool"),u(G,"name","twitter:creator"),u(G,"content","@puddingviz"),u(w,"name","twitter:title"),u(w,"content",n[0]),u(k,"name","twitter:description"),u(k,"content",n[1]),u(C,"name","twitter:image:src"),u(C,"content",E=n[2]+"/assets/images/social.jpg"),u(A,"name","robots"),u(A,"content","max-image-preview:large"),u(S,"rel","canonical"),u(S,"href",I=n[2]+"/")},m(B,H){_(document.head,t),_(document.head,r),_(document.head,a),_(document.head,l),_(document.head,i),_(document.head,o),_(document.head,c),_(document.head,s),_(document.head,f),_(document.head,p),_(document.head,h),_(document.head,d),_(document.head,b),_(document.head,v),_(document.head,y),_(document.head,G),_(document.head,w),_(document.head,k),_(document.head,C),_(document.head,A),_(document.head,S);for(let V=0;V<P.length;V+=1)P[V]&&P[V].m(document.head,null);_(document.head,M)},p(B,[H]){if(H&1&&e!==(e=B[0])&&(document.title=e),H&2&&u(t,"content",B[1]),H&8&&u(a,"content",B[3]),H&1&&u(l,"content",B[0]),H&4&&u(o,"content",B[2]),H&2&&u(c,"content",B[1]),H&4&&m!==(m=B[2]+"/assets/images/social.jpg")&&u(p,"content",m),H&1&&u(w,"content",B[0]),H&2&&u(k,"content",B[1]),H&4&&E!==(E=B[2]+"/assets/images/social.jpg")&&u(C,"content",E),H&4&&I!==(I=B[2]+"/")&&u(S,"href",I),H&16){D=ve(B[4]);let V;for(V=0;V<D.length;V+=1){const F=ql(B,D,V);P[V]?P[V].p(F,H):(P[V]=Bl(F),P[V].c(),P[V].m(M.parentNode,M))}for(;V<P.length;V+=1)P[V].d(1);P.length=D.length}},i:ge,o:ge,d(B){g(t),g(r),g(a),g(l),g(i),g(o),g(c),g(s),g(f),g(p),g(h),g(d),g(b),g(v),g(y),g(G),g(w),g(k),g(C),g(A),g(S),je(P,B),g(M)}}}function Lu(n,e,t){let{title:r="The Pour-igin of Species"}=e,{description:a="We scraped the labels of to 10,000 wines to see if we could predict the price and quality of a bottle based on the animal on the label."}=e,{url:l="https://pudding.cool/2025/03/wine-animals"}=e,{keywords:i="wine, animal, label, vivino, bottle, price, quality, design, data, analysis, predict, drink, packaging, alcohol"}=e,{preloadFont:o=[]}=e;return n.$$set=c=>{"title"in c&&t(0,r=c.title),"description"in c&&t(1,a=c.description),"url"in c&&t(2,l=c.url),"keywords"in c&&t(3,i=c.keywords),"preloadFont"in c&&t(4,o=c.preloadFont)},[r,a,l,i,o]}class Vu extends Ie{constructor(e){super(),De(this,e,Lu,Nu,Ae,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function Ia(n,e={}){let t;const r=l=>{const i=l[0].isIntersecting,o=i?"enter":"exit";if(n.dispatchEvent(new CustomEvent(o)),e.progress&&i){const s={ratio:l[0].intersectionRatio};n.dispatchEvent(new CustomEvent("progress",{detail:s}))}},a=({root:l,top:i,bottom:o})=>{const c=i?i*-1:0,s=o?o*-1:0,f=`${c}px 0px ${s}px 0px`,p={root:l,rootMargin:f};t&&t.disconnect(),t=new IntersectionObserver(r,p),t.observe(n)};return a(e),{update(l){a(l)},destroy(){t&&t.disconnect()}}}function jl(n){let e,t,r;var a=n[4];function l(i,o){return{props:{size:i[0],color:i[1],strokeWidth:i[2]}}}return a&&(t=ua(a,l(n))),{c(){e=R("span"),t&&oe(t.$$.fragment),this.h()},l(i){e=z(i,"SPAN",{class:!0,style:!0});var o=T(e);t&&pe(t.$$.fragment,o),o.forEach(g),this.h()},h(){u(e,"class","icon svelte-1r7hpvv"),fe(e,"transform","rotate("+n[3]+"deg)")},m(i,o){L(i,e,o),t&&ce(t,e,null),r=!0},p(i,o){if(o&16&&a!==(a=i[4])){if(t){Le();const c=t;X(c.$$.fragment,1,0,()=>{se(c,1)}),Ve()}a?(t=ua(a,l(i)),oe(t.$$.fragment),q(t.$$.fragment,1),ce(t,e,null)):t=null}else if(a){const c={};o&1&&(c.size=i[0]),o&2&&(c.color=i[1]),o&4&&(c.strokeWidth=i[2]),t.$set(c)}(!r||o&8)&&fe(e,"transform","rotate("+i[3]+"deg)")},i(i){r||(t&&q(t.$$.fragment,i),r=!0)},o(i){t&&X(t.$$.fragment,i),r=!1},d(i){i&&g(e),t&&se(t)}}}function Fu(n){let e,t,r=n[4]&&jl(n);return{c(){r&&r.c(),e=le()},l(a){r&&r.l(a),e=le()},m(a,l){r&&r.m(a,l),L(a,e,l),t=!0},p(a,[l]){a[4]?r?(r.p(a,l),l&16&&q(r,1)):(r=jl(a),r.c(),q(r,1),r.m(e.parentNode,e)):r&&(Le(),X(r,1,1,()=>{r=null}),Ve())},i(a){t||(q(r),t=!0)},o(a){X(r),t=!1},d(a){a&&g(e),r&&r.d(a)}}}function Ou(n,e,t){const r=["n","ne","e","se","s","sw","w","nw"];let{name:a}=e,{size:l="1em"}=e,{color:i=void 0}=e,{strokeWidth:o=3}=e,{rotation:c}=e,s;const f=p=>{const m=p.replace(/[^a-zA-Z0-9]+(.)/g,(b,v)=>v.toUpperCase()),h=p.charAt(0).toUpperCase(),d=m.slice(1);return`${h}${d}`};return cn(async()=>{const p=f(a);t(4,s=(await Ls(()=>import("../chunks/lucide-svelte.5v8IhGDE.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url))[p])}),n.$$set=p=>{"name"in p&&t(6,a=p.name),"size"in p&&t(0,l=p.size),"color"in p&&t(1,i=p.color),"strokeWidth"in p&&t(2,o=p.strokeWidth),"rotation"in p&&t(3,c=p.rotation)},[l,i,o,c,s,r,a]}class Lt extends Ie{constructor(e){super(),De(this,e,Ou,Fu,Ae,{directions:5,name:6,size:0,color:1,strokeWidth:2,rotation:3})}get directions(){return this.$$.ctx[5]}}function Wu(n){let e,t;const r=n[7].default,a=at(r,n,n[6],null);return{c(){e=R("div"),a&&a.c(),this.h()},l(l){e=z(l,"DIV",{class:!0});var i=T(e);a&&a.l(i),i.forEach(g),this.h()},h(){u(e,"class","svelte-1ywq5jx")},m(l,i){L(l,e,i),a&&a.m(e,null),n[8](e),t=!0},p(l,[i]){a&&a.p&&(!t||i&64)&&lt(a,r,l,l[6],t?ot(r,l[6],i,null):it(l[6]),null)},i(l){t||(q(a,l),t=!0)},o(l){X(a,l),t=!1},d(l){l&&g(e),a&&a.d(l),n[8](null)}}}function qu(n,e,t){let{$$slots:r={},$$scope:a}=e,{root:l=null}=e,{top:i=0}=e,{bottom:o=0}=e,{increments:c=100}=e,{value:s=void 0}=e,{container:f}=e;const p=[],m=[];let h=[],d=[],b=new Array(p.length).fill(0);const v=()=>{h.length&&h.forEach(G)},y=()=>{let k=0,C=-1,E=!1;for(let A=0;A<p.length;A++)p[A]>k&&(k=p[A],C=A),b[A]>0&&p[A]===0&&A===p.length-1&&(E=!0),b[A]=p[A];k>0?t(1,s=C):E?t(1,s="exit"):t(1,s=void 0)},G=(k,C)=>{const E=P=>{P[0].isIntersecting;const B=P[0].intersectionRatio;p[C]=B,y()},A=i?i*-1:0,S=o?o*-1:0,I=`${A}px 0px ${S}px 0px`,M={root:l,rootMargin:I,threshold:m};d[C]&&d[C].disconnect();const D=new IntersectionObserver(E,M);D.observe(k),d[C]=D};cn(()=>{for(let k=0;k<c+1;k++)m.push(k/c);h=f.querySelectorAll(":scope > *:not(iframe)"),v()});function w(k){He[k?"unshift":"push"](()=>{f=k,t(0,f)})}return n.$$set=k=>{"root"in k&&t(2,l=k.root),"top"in k&&t(3,i=k.top),"bottom"in k&&t(4,o=k.bottom),"increments"in k&&t(5,c=k.increments),"value"in k&&t(1,s=k.value),"container"in k&&t(0,f=k.container),"$$scope"in k&&t(6,a=k.$$scope)},n.$$.update=()=>{n.$$.dirty&24&&v()},[f,s,l,i,o,c,a,r,w]}class Bu extends Ie{constructor(e){super(),De(this,e,qu,Wu,Ae,{root:2,top:3,bottom:4,increments:5,value:1,container:0})}}function Rn(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Fs(n){let e,t,r;n.length!==2?(e=Rn,t=(o,c)=>Rn(n(o),c),r=(o,c)=>n(o)-c):(e=n===Rn||n===Au?n:ju,t=n,r=n);function a(o,c,s=0,f=o.length){if(s<f){if(e(c,c)!==0)return f;do{const p=s+f>>>1;t(o[p],c)<0?s=p+1:f=p}while(s<f)}return s}function l(o,c,s=0,f=o.length){if(s<f){if(e(c,c)!==0)return f;do{const p=s+f>>>1;t(o[p],c)<=0?s=p+1:f=p}while(s<f)}return s}function i(o,c,s=0,f=o.length){const p=a(o,c,s,f-1);return p>s&&r(o[p-1],c)>-r(o[p],c)?p-1:p}return{left:a,center:i,right:l}}function ju(){return 0}function Hu(n){return n===null?NaN:+n}function*Uu(n,e){if(e===void 0)for(let t of n)t!=null&&(t=+t)>=t&&(yield t);else{let t=-1;for(let r of n)(r=e(r,++t,n))!=null&&(r=+r)>=r&&(yield r)}}const Zu=Fs(Rn),Yu=Zu.right;Fs(Hu).center;function Ku(n=Rn){if(n===Rn)return Os;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const r=n(e,t);return r||r===0?r:(n(t,t)===0)-(n(e,e)===0)}}function Os(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const Xu=Math.sqrt(50),Ju=Math.sqrt(10),Qu=Math.sqrt(2);function _a(n,e,t){const r=(e-n)/Math.max(0,t),a=Math.floor(Math.log10(r)),l=r/Math.pow(10,a),i=l>=Xu?10:l>=Ju?5:l>=Qu?2:1;let o,c,s;return a<0?(s=Math.pow(10,-a)/i,o=Math.round(n*s),c=Math.round(e*s),o/s<n&&++o,c/s>e&&--c,s=-s):(s=Math.pow(10,a)*i,o=Math.round(n/s),c=Math.round(e/s),o*s<n&&++o,c*s>e&&--c),c<o&&.5<=t&&t<2?_a(n,e,t*2):[o,c,s]}function xu(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[a,l,i]=r?_a(e,n,t):_a(n,e,t);if(!(l>=a))return[];const o=l-a+1,c=new Array(o);if(r)if(i<0)for(let s=0;s<o;++s)c[s]=(l-s)/-i;else for(let s=0;s<o;++s)c[s]=(l-s)*i;else if(i<0)for(let s=0;s<o;++s)c[s]=(a+s)/-i;else for(let s=0;s<o;++s)c[s]=(a+s)*i;return c}function il(n,e,t){return e=+e,n=+n,t=+t,_a(n,e,t)[2]}function $u(n,e,t){e=+e,n=+n,t=+t;const r=e<n,a=r?il(e,n,t):il(n,e,t);return(r?-1:1)*(a<0?1/-a:a)}function Hl(n,e){let t;if(e===void 0)for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);else{let r=-1;for(let a of n)(a=e(a,++r,n))!=null&&(t<a||t===void 0&&a>=a)&&(t=a)}return t}function Ul(n,e){let t;if(e===void 0)for(const r of n)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);else{let r=-1;for(let a of n)(a=e(a,++r,n))!=null&&(t>a||t===void 0&&a>=a)&&(t=a)}return t}function Ws(n,e,t=0,r=1/0,a){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(n.length-1,r)),!(t<=e&&e<=r))return n;for(a=a===void 0?Os:Ku(a);r>t;){if(r-t>600){const c=r-t+1,s=e-t+1,f=Math.log(c),p=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*p*(c-p)/c)*(s-c/2<0?-1:1),h=Math.max(t,Math.floor(e-s*p/c+m)),d=Math.min(r,Math.floor(e+(c-s)*p/c+m));Ws(n,e,h,d,a)}const l=n[e];let i=t,o=r;for(Dr(n,t,e),a(n[r],l)>0&&Dr(n,t,r);i<o;){for(Dr(n,i,o),++i,--o;a(n[i],l)<0;)++i;for(;a(n[o],l)>0;)--o}a(n[t],l)===0?Dr(n,t,o):(++o,Dr(n,o,r)),o<=e&&(t=o+1),e<=o&&(r=o-1)}return n}function Dr(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function ef(n,e,t){if(n=Float64Array.from(Uu(n,t)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return Ul(n);if(e>=1)return Hl(n);var r,a=(r-1)*e,l=Math.floor(a),i=Hl(Ws(n,l).subarray(0,l+1)),o=Ul(n.subarray(l+1));return i+(o-i)*(a-l)}}function ft(n,e){let t=0,r=0;if(e===void 0)for(let a of n)a!=null&&(a=+a)>=a&&(++t,r+=a);else{let a=-1;for(let l of n)(l=e(l,++a,n))!=null&&(l=+l)>=l&&(++t,r+=l)}if(t)return r/t}function Te(n,e){return ef(n,.5,e)}function tf(n,e,t){n=+n,e=+e,t=(a=arguments.length)<2?(e=n,n=0,1):a<3?1:+t;for(var r=-1,a=Math.max(0,Math.ceil((e-n)/t))|0,l=new Array(a);++r<a;)l[r]=n+r*t;return l}function Lr(n){return typeof n=="string"?new ba([[document.querySelector(n)]],[document.documentElement]):new ba([[n]],Vs)}function cr(n){return typeof n=="string"?new ba([document.querySelectorAll(n)],[document.documentElement]):new ba([Mu(n)],Vs)}function nf(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),a;return function(l){for(a=0;a<t;++a)r[a]=n[a]*(1-l)+e[a]*l;return r}}function rf(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function af(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,a=new Array(r),l=new Array(t),i;for(i=0;i<r;++i)a[i]=Ml(n[i],e[i]);for(;i<t;++i)l[i]=e[i];return function(o){for(i=0;i<r;++i)l[i]=a[i](o);return l}}function lf(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function of(n,e){var t={},r={},a;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in n?t[a]=Ml(n[a],e[a]):r[a]=e[a];return function(l){for(a in t)r[a]=t[a](l);return r}}function Ml(n,e){var t=typeof e,r;return e==null||t==="boolean"?Iu(e):(t==="number"?ll:t==="string"?(r=Fl(e))?(e=r,Ol):Du:e instanceof Fl?Ol:e instanceof Date?lf:rf(e)?nf:Array.isArray(e)?af:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?of:ll)(n,e)}function cf(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}const ol=Math.PI,cl=2*ol,Dn=1e-6,sf=cl-Dn;function qs(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function uf(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return qs;const t=10**e;return function(r){this._+=r[0];for(let a=1,l=r.length;a<l;++a)this._+=Math.round(arguments[a]*t)/t+r[a]}}let ff=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?qs:uf(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,a){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,t,r,a,l,i){this._append`C${+e},${+t},${+r},${+a},${this._x1=+l},${this._y1=+i}`}arcTo(e,t,r,a,l){if(e=+e,t=+t,r=+r,a=+a,l=+l,l<0)throw new Error(`negative radius: ${l}`);let i=this._x1,o=this._y1,c=r-e,s=a-t,f=i-e,p=o-t,m=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(m>Dn)if(!(Math.abs(p*c-s*f)>Dn)||!l)this._append`L${this._x1=e},${this._y1=t}`;else{let h=r-i,d=a-o,b=c*c+s*s,v=h*h+d*d,y=Math.sqrt(b),G=Math.sqrt(m),w=l*Math.tan((ol-Math.acos((b+m-v)/(2*y*G)))/2),k=w/G,C=w/y;Math.abs(k-1)>Dn&&this._append`L${e+k*f},${t+k*p}`,this._append`A${l},${l},0,0,${+(p*h>f*d)},${this._x1=e+C*c},${this._y1=t+C*s}`}}arc(e,t,r,a,l,i){if(e=+e,t=+t,r=+r,i=!!i,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(a),c=r*Math.sin(a),s=e+o,f=t+c,p=1^i,m=i?a-l:l-a;this._x1===null?this._append`M${s},${f}`:(Math.abs(this._x1-s)>Dn||Math.abs(this._y1-f)>Dn)&&this._append`L${s},${f}`,r&&(m<0&&(m=m%cl+cl),m>sf?this._append`A${r},${r},0,1,${p},${e-o},${t-c}A${r},${r},0,1,${p},${this._x1=s},${this._y1=f}`:m>Dn&&this._append`A${r},${r},0,${+(m>=ol)},${p},${this._x1=e+r*Math.cos(l)},${this._y1=t+r*Math.sin(l)}`)}rect(e,t,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}};const on=11102230246251565e-32,bt=134217729,pf=(3+8*on)*on;function Ua(n,e,t,r,a){let l,i,o,c,s=e[0],f=r[0],p=0,m=0;f>s==f>-s?(l=s,s=e[++p]):(l=f,f=r[++m]);let h=0;if(p<n&&m<t)for(f>s==f>-s?(i=s+l,o=l-(i-s),s=e[++p]):(i=f+l,o=l-(i-f),f=r[++m]),l=i,o!==0&&(a[h++]=o);p<n&&m<t;)f>s==f>-s?(i=l+s,c=i-l,o=l-(i-c)+(s-c),s=e[++p]):(i=l+f,c=i-l,o=l-(i-c)+(f-c),f=r[++m]),l=i,o!==0&&(a[h++]=o);for(;p<n;)i=l+s,c=i-l,o=l-(i-c)+(s-c),s=e[++p],l=i,o!==0&&(a[h++]=o);for(;m<t;)i=l+f,c=i-l,o=l-(i-c)+(f-c),f=r[++m],l=i,o!==0&&(a[h++]=o);return(l!==0||h===0)&&(a[h++]=l),h}function mf(n,e){let t=e[0];for(let r=1;r<n;r++)t+=e[r];return t}function Or(n){return new Float64Array(n)}const hf=(3+16*on)*on,gf=(2+12*on)*on,df=(9+64*on)*on*on,nr=Or(4),Zl=Or(8),Yl=Or(12),Kl=Or(16),kt=Or(4);function bf(n,e,t,r,a,l,i){let o,c,s,f,p,m,h,d,b,v,y,G,w,k,C,E,A,S;const I=n-a,M=t-a,D=e-l,P=r-l;k=I*P,m=bt*I,h=m-(m-I),d=I-h,m=bt*P,b=m-(m-P),v=P-b,C=d*v-(k-h*b-d*b-h*v),E=D*M,m=bt*D,h=m-(m-D),d=D-h,m=bt*M,b=m-(m-M),v=M-b,A=d*v-(E-h*b-d*b-h*v),y=C-A,p=C-y,nr[0]=C-(y+p)+(p-A),G=k+y,p=G-k,w=k-(G-p)+(y-p),y=w-E,p=w-y,nr[1]=w-(y+p)+(p-E),S=G+y,p=S-G,nr[2]=G-(S-p)+(y-p),nr[3]=S;let B=mf(4,nr),H=gf*i;if(B>=H||-B>=H||(p=n-I,o=n-(I+p)+(p-a),p=t-M,s=t-(M+p)+(p-a),p=e-D,c=e-(D+p)+(p-l),p=r-P,f=r-(P+p)+(p-l),o===0&&c===0&&s===0&&f===0)||(H=df*i+pf*Math.abs(B),B+=I*f+P*o-(D*s+M*c),B>=H||-B>=H))return B;k=o*P,m=bt*o,h=m-(m-o),d=o-h,m=bt*P,b=m-(m-P),v=P-b,C=d*v-(k-h*b-d*b-h*v),E=c*M,m=bt*c,h=m-(m-c),d=c-h,m=bt*M,b=m-(m-M),v=M-b,A=d*v-(E-h*b-d*b-h*v),y=C-A,p=C-y,kt[0]=C-(y+p)+(p-A),G=k+y,p=G-k,w=k-(G-p)+(y-p),y=w-E,p=w-y,kt[1]=w-(y+p)+(p-E),S=G+y,p=S-G,kt[2]=G-(S-p)+(y-p),kt[3]=S;const V=Ua(4,nr,4,kt,Zl);k=I*f,m=bt*I,h=m-(m-I),d=I-h,m=bt*f,b=m-(m-f),v=f-b,C=d*v-(k-h*b-d*b-h*v),E=D*s,m=bt*D,h=m-(m-D),d=D-h,m=bt*s,b=m-(m-s),v=s-b,A=d*v-(E-h*b-d*b-h*v),y=C-A,p=C-y,kt[0]=C-(y+p)+(p-A),G=k+y,p=G-k,w=k-(G-p)+(y-p),y=w-E,p=w-y,kt[1]=w-(y+p)+(p-E),S=G+y,p=S-G,kt[2]=G-(S-p)+(y-p),kt[3]=S;const F=Ua(V,Zl,4,kt,Yl);k=o*f,m=bt*o,h=m-(m-o),d=o-h,m=bt*f,b=m-(m-f),v=f-b,C=d*v-(k-h*b-d*b-h*v),E=c*s,m=bt*c,h=m-(m-c),d=c-h,m=bt*s,b=m-(m-s),v=s-b,A=d*v-(E-h*b-d*b-h*v),y=C-A,p=C-y,kt[0]=C-(y+p)+(p-A),G=k+y,p=G-k,w=k-(G-p)+(y-p),y=w-E,p=w-y,kt[1]=w-(y+p)+(p-E),S=G+y,p=S-G,kt[2]=G-(S-p)+(y-p),kt[3]=S;const K=Ua(F,Yl,4,kt,Kl);return Kl[K-1]}function ta(n,e,t,r,a,l){const i=(e-l)*(t-a),o=(n-a)*(r-l),c=i-o,s=Math.abs(i+o);return Math.abs(c)>=hf*s?c:-bf(n,e,t,r,a,l,s)}const Xl=Math.pow(2,-52),na=new Uint32Array(512);class ya{static from(e,t=wf,r=Gf){const a=e.length,l=new Float64Array(a*2);for(let i=0;i<a;i++){const o=e[i];l[2*i]=t(o),l[2*i+1]=r(o)}return new ya(l)}constructor(e){const t=e.length>>1;if(t>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const r=Math.max(2*t-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:r,_hullTri:a,_hullHash:l}=this,i=e.length>>1;let o=1/0,c=1/0,s=-1/0,f=-1/0;for(let M=0;M<i;M++){const D=e[2*M],P=e[2*M+1];D<o&&(o=D),P<c&&(c=P),D>s&&(s=D),P>f&&(f=P),this._ids[M]=M}const p=(o+s)/2,m=(c+f)/2;let h=1/0,d,b,v;for(let M=0;M<i;M++){const D=Za(p,m,e[2*M],e[2*M+1]);D<h&&(d=M,h=D)}const y=e[2*d],G=e[2*d+1];h=1/0;for(let M=0;M<i;M++){if(M===d)continue;const D=Za(y,G,e[2*M],e[2*M+1]);D<h&&D>0&&(b=M,h=D)}let w=e[2*b],k=e[2*b+1],C=1/0;for(let M=0;M<i;M++){if(M===d||M===b)continue;const D=kf(y,G,w,k,e[2*M],e[2*M+1]);D<C&&(v=M,C=D)}let E=e[2*v],A=e[2*v+1];if(C===1/0){for(let P=0;P<i;P++)this._dists[P]=e[2*P]-e[0]||e[2*P+1]-e[1];lr(this._ids,this._dists,0,i-1);const M=new Uint32Array(i);let D=0;for(let P=0,B=-1/0;P<i;P++){const H=this._ids[P];this._dists[H]>B&&(M[D++]=H,B=this._dists[H])}this.hull=M.subarray(0,D),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(ta(y,G,w,k,E,A)<0){const M=b,D=w,P=k;b=v,w=E,k=A,v=M,E=D,A=P}const S=vf(y,G,w,k,E,A);this._cx=S.x,this._cy=S.y;for(let M=0;M<i;M++)this._dists[M]=Za(e[2*M],e[2*M+1],S.x,S.y);lr(this._ids,this._dists,0,i-1),this._hullStart=d;let I=3;r[d]=t[v]=b,r[b]=t[d]=v,r[v]=t[b]=d,a[d]=0,a[b]=1,a[v]=2,l.fill(-1),l[this._hashKey(y,G)]=d,l[this._hashKey(w,k)]=b,l[this._hashKey(E,A)]=v,this.trianglesLen=0,this._addTriangle(d,b,v,-1,-1,-1);for(let M=0,D,P;M<this._ids.length;M++){const B=this._ids[M],H=e[2*B],V=e[2*B+1];if(M>0&&Math.abs(H-D)<=Xl&&Math.abs(V-P)<=Xl||(D=H,P=V,B===d||B===b||B===v))continue;let F=0;for(let ne=0,W=this._hashKey(H,V);ne<this._hashSize&&(F=l[(W+ne)%this._hashSize],!(F!==-1&&F!==r[F]));ne++);F=t[F];let K=F,$;for(;$=r[K],ta(H,V,e[2*K],e[2*K+1],e[2*$],e[2*$+1])>=0;)if(K=$,K===F){K=-1;break}if(K===-1)continue;let x=this._addTriangle(K,B,r[K],-1,-1,a[K]);a[B]=this._legalize(x+2),a[K]=x,I++;let me=r[K];for(;$=r[me],ta(H,V,e[2*me],e[2*me+1],e[2*$],e[2*$+1])<0;)x=this._addTriangle(me,B,$,a[B],-1,a[me]),a[B]=this._legalize(x+2),r[me]=me,I--,me=$;if(K===F)for(;$=t[K],ta(H,V,e[2*$],e[2*$+1],e[2*K],e[2*K+1])<0;)x=this._addTriangle($,B,K,-1,a[K],a[$]),this._legalize(x+2),a[$]=x,r[K]=K,I--,K=$;this._hullStart=t[B]=K,r[K]=t[me]=B,r[B]=me,l[this._hashKey(H,V)]=B,l[this._hashKey(e[2*K],e[2*K+1])]=K}this.hull=new Uint32Array(I);for(let M=0,D=this._hullStart;M<I;M++)this.hull[M]=D,D=r[D];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(_f(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:r,coords:a}=this;let l=0,i=0;for(;;){const o=r[e],c=e-e%3;if(i=c+(e+2)%3,o===-1){if(l===0)break;e=na[--l];continue}const s=o-o%3,f=c+(e+1)%3,p=s+(o+2)%3,m=t[i],h=t[e],d=t[f],b=t[p];if(yf(a[2*m],a[2*m+1],a[2*h],a[2*h+1],a[2*d],a[2*d+1],a[2*b],a[2*b+1])){t[e]=b,t[o]=m;const y=r[p];if(y===-1){let w=this._hullStart;do{if(this._hullTri[w]===p){this._hullTri[w]=e;break}w=this._hullPrev[w]}while(w!==this._hullStart)}this._link(e,y),this._link(o,r[i]),this._link(i,p);const G=s+(o+1)%3;l<na.length&&(na[l++]=G)}else{if(l===0)break;e=na[--l]}}return i}_link(e,t){this._halfedges[e]=t,t!==-1&&(this._halfedges[t]=e)}_addTriangle(e,t,r,a,l,i){const o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=r,this._link(o,a),this._link(o+1,l),this._link(o+2,i),this.trianglesLen+=3,o}}function _f(n,e){const t=n/(Math.abs(n)+Math.abs(e));return(e>0?3-t:1+t)/4}function Za(n,e,t,r){const a=n-t,l=e-r;return a*a+l*l}function yf(n,e,t,r,a,l,i,o){const c=n-i,s=e-o,f=t-i,p=r-o,m=a-i,h=l-o,d=c*c+s*s,b=f*f+p*p,v=m*m+h*h;return c*(p*v-b*h)-s*(f*v-b*m)+d*(f*h-p*m)<0}function kf(n,e,t,r,a,l){const i=t-n,o=r-e,c=a-n,s=l-e,f=i*i+o*o,p=c*c+s*s,m=.5/(i*s-o*c),h=(s*f-o*p)*m,d=(i*p-c*f)*m;return h*h+d*d}function vf(n,e,t,r,a,l){const i=t-n,o=r-e,c=a-n,s=l-e,f=i*i+o*o,p=c*c+s*s,m=.5/(i*s-o*c),h=n+(s*f-o*p)*m,d=e+(i*p-c*f)*m;return{x:h,y:d}}function lr(n,e,t,r){if(r-t<=20)for(let a=t+1;a<=r;a++){const l=n[a],i=e[l];let o=a-1;for(;o>=t&&e[n[o]]>i;)n[o+1]=n[o--];n[o+1]=l}else{const a=t+r>>1;let l=t+1,i=r;Tr(n,a,l),e[n[t]]>e[n[r]]&&Tr(n,t,r),e[n[l]]>e[n[r]]&&Tr(n,l,r),e[n[t]]>e[n[l]]&&Tr(n,t,l);const o=n[l],c=e[o];for(;;){do l++;while(e[n[l]]<c);do i--;while(e[n[i]]>c);if(i<l)break;Tr(n,l,i)}n[t+1]=n[i],n[i]=o,r-l+1>=i-t?(lr(n,e,l,r),lr(n,e,t,i-1)):(lr(n,e,t,i-1),lr(n,e,l,r))}}function Tr(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function wf(n){return n[0]}function Gf(n){return n[1]}const Jl=1e-6;class Tn{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,r){e=+e,t=+t,r=+r;const a=e+r,l=t;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${a},${l}`:(Math.abs(this._x1-a)>Jl||Math.abs(this._y1-l)>Jl)&&(this._+="L"+a+","+l),r&&(this._+=`A${r},${r},0,1,1,${e-r},${t}A${r},${r},0,1,1,${this._x1=a},${this._y1=l}`)}rect(e,t,r,a){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+r}v${+a}h${-r}Z`}value(){return this._||null}}class sl{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}let Sf=class{constructor(e,[t,r,a,l]=[0,0,960,500]){if(!((a=+a)>=(t=+t))||!((l=+l)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=a,this.xmin=t,this.ymax=l,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:r},vectors:a}=this;let l,i;const o=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let b=0,v=0,y=r.length,G,w;b<y;b+=3,v+=2){const k=r[b]*2,C=r[b+1]*2,E=r[b+2]*2,A=e[k],S=e[k+1],I=e[C],M=e[C+1],D=e[E],P=e[E+1],B=I-A,H=M-S,V=D-A,F=P-S,K=(B*F-H*V)*2;if(Math.abs(K)<1e-9){if(l===void 0){l=i=0;for(const x of t)l+=e[x*2],i+=e[x*2+1];l/=t.length,i/=t.length}const $=1e9*Math.sign((l-A)*F-(i-S)*V);G=(A+D)/2-$*F,w=(S+P)/2+$*V}else{const $=1/K,x=B*B+H*H,me=V*V+F*F;G=A+(F*x-H*me)*$,w=S+(B*me-V*x)*$}o[v]=G,o[v+1]=w}let c=t[t.length-1],s,f=c*4,p,m=e[2*c],h,d=e[2*c+1];a.fill(0);for(let b=0;b<t.length;++b)c=t[b],s=f,p=m,h=d,f=c*4,m=e[2*c],d=e[2*c+1],a[s+2]=a[f]=h-d,a[s+3]=a[f+1]=m-p}render(e){const t=e==null?e=new Tn:void 0,{delaunay:{halfedges:r,inedges:a,hull:l},circumcenters:i,vectors:o}=this;if(l.length<=1)return null;for(let f=0,p=r.length;f<p;++f){const m=r[f];if(m<f)continue;const h=Math.floor(f/3)*2,d=Math.floor(m/3)*2,b=i[h],v=i[h+1],y=i[d],G=i[d+1];this._renderSegment(b,v,y,G,e)}let c,s=l[l.length-1];for(let f=0;f<l.length;++f){c=s,s=l[f];const p=Math.floor(a[s]/3)*2,m=i[p],h=i[p+1],d=c*4,b=this._project(m,h,o[d+2],o[d+3]);b&&this._renderSegment(m,h,b[0],b[1],e)}return t&&t.value()}renderBounds(e){const t=e==null?e=new Tn:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const r=t==null?t=new Tn:void 0,a=this._clip(e);if(a===null||!a.length)return;t.moveTo(a[0],a[1]);let l=a.length;for(;a[0]===a[l-2]&&a[1]===a[l-1]&&l>1;)l-=2;for(let i=2;i<l;i+=2)(a[i]!==a[i-2]||a[i+1]!==a[i-1])&&t.lineTo(a[i],a[i+1]);return t.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,r=e.length/2;t<r;++t){const a=this.cellPolygon(t);a&&(a.index=t,yield a)}}cellPolygon(e){const t=new sl;return this.renderCell(e,t),t.value()}_renderSegment(e,t,r,a,l){let i;const o=this._regioncode(e,t),c=this._regioncode(r,a);o===0&&c===0?(l.moveTo(e,t),l.lineTo(r,a)):(i=this._clipSegment(e,t,r,a,o,c))&&(l.moveTo(i[0],i[1]),l.lineTo(i[2],i[3]))}contains(e,t,r){return t=+t,t!==t||(r=+r,r!==r)?!1:this.delaunay._step(e,t,r)===e}*neighbors(e){const t=this._clip(e);if(t)for(const r of this.delaunay.neighbors(e)){const a=this._clip(r);if(a){e:for(let l=0,i=t.length;l<i;l+=2)for(let o=0,c=a.length;o<c;o+=2)if(t[l]===a[o]&&t[l+1]===a[o+1]&&t[(l+2)%i]===a[(o+c-2)%c]&&t[(l+3)%i]===a[(o+c-1)%c]){yield r;break e}}}}_cell(e){const{circumcenters:t,delaunay:{inedges:r,halfedges:a,triangles:l}}=this,i=r[e];if(i===-1)return null;const o=[];let c=i;do{const s=Math.floor(c/3);if(o.push(t[s*2],t[s*2+1]),c=c%3===2?c-2:c+1,l[c]!==e)break;c=a[c]}while(c!==i&&c!==-1);return o}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(t===null)return null;const{vectors:r}=this,a=e*4;return this._simplify(r[a]||r[a+1]?this._clipInfinite(e,t,r[a],r[a+1],r[a+2],r[a+3]):this._clipFinite(e,t))}_clipFinite(e,t){const r=t.length;let a=null,l,i,o=t[r-2],c=t[r-1],s,f=this._regioncode(o,c),p,m=0;for(let h=0;h<r;h+=2)if(l=o,i=c,o=t[h],c=t[h+1],s=f,f=this._regioncode(o,c),s===0&&f===0)p=m,m=0,a?a.push(o,c):a=[o,c];else{let d,b,v,y,G;if(s===0){if((d=this._clipSegment(l,i,o,c,s,f))===null)continue;[b,v,y,G]=d}else{if((d=this._clipSegment(o,c,l,i,f,s))===null)continue;[y,G,b,v]=d,p=m,m=this._edgecode(b,v),p&&m&&this._edge(e,p,m,a,a.length),a?a.push(b,v):a=[b,v]}p=m,m=this._edgecode(y,G),p&&m&&this._edge(e,p,m,a,a.length),a?a.push(y,G):a=[y,G]}if(a)p=m,m=this._edgecode(a[0],a[1]),p&&m&&this._edge(e,p,m,a,a.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return a}_clipSegment(e,t,r,a,l,i){const o=l<i;for(o&&([e,t,r,a,l,i]=[r,a,e,t,i,l]);;){if(l===0&&i===0)return o?[r,a,e,t]:[e,t,r,a];if(l&i)return null;let c,s,f=l||i;f&8?(c=e+(r-e)*(this.ymax-t)/(a-t),s=this.ymax):f&4?(c=e+(r-e)*(this.ymin-t)/(a-t),s=this.ymin):f&2?(s=t+(a-t)*(this.xmax-e)/(r-e),c=this.xmax):(s=t+(a-t)*(this.xmin-e)/(r-e),c=this.xmin),l?(e=c,t=s,l=this._regioncode(e,t)):(r=c,a=s,i=this._regioncode(r,a))}}_clipInfinite(e,t,r,a,l,i){let o=Array.from(t),c;if((c=this._project(o[0],o[1],r,a))&&o.unshift(c[0],c[1]),(c=this._project(o[o.length-2],o[o.length-1],l,i))&&o.push(c[0],c[1]),o=this._clipFinite(e,o))for(let s=0,f=o.length,p,m=this._edgecode(o[f-2],o[f-1]);s<f;s+=2)p=m,m=this._edgecode(o[s],o[s+1]),p&&m&&(s=this._edge(e,p,m,o,s),f=o.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(e,t,r,a,l){for(;t!==r;){let i,o;switch(t){case 5:t=4;continue;case 4:t=6,i=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,i=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,i=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,i=this.xmin,o=this.ymin;break}(a[l]!==i||a[l+1]!==o)&&this.contains(e,i,o)&&(a.splice(l,0,i,o),l+=2)}return l}_project(e,t,r,a){let l=1/0,i,o,c;if(a<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/a)<l&&(c=this.ymin,o=e+(l=i)*r)}else if(a>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/a)<l&&(c=this.ymax,o=e+(l=i)*r)}if(r>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/r)<l&&(o=this.xmax,c=t+(l=i)*a)}else if(r<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/r)<l&&(o=this.xmin,c=t+(l=i)*a)}return[o,c]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){const r=(t+2)%e.length,a=(t+4)%e.length;(e[t]===e[r]&&e[r]===e[a]||e[t+1]===e[r+1]&&e[r+1]===e[a+1])&&(e.splice(r,2),t-=2)}e.length||(e=null)}return e}};const Ef=2*Math.PI,rr=Math.pow;function Cf(n){return n[0]}function Af(n){return n[1]}function Mf(n){const{triangles:e,coords:t}=n;for(let r=0;r<e.length;r+=3){const a=2*e[r],l=2*e[r+1],i=2*e[r+2];if((t[i]-t[a])*(t[l+1]-t[a+1])-(t[l]-t[a])*(t[i+1]-t[a+1])>1e-10)return!1}return!0}function If(n,e,t){return[n+Math.sin(n+e)*t,e+Math.cos(n-e)*t]}class Da{static from(e,t=Cf,r=Af,a){return new Da("length"in e?Df(e,t,r,a):Float64Array.from(Tf(e,t,r,a)))}constructor(e){this._delaunator=new ya(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&Mf(e)){this.collinear=Int32Array.from({length:t.length/2},(m,h)=>h).sort((m,h)=>t[2*m]-t[2*h]||t[2*m+1]-t[2*h+1]);const c=this.collinear[0],s=this.collinear[this.collinear.length-1],f=[t[2*c],t[2*c+1],t[2*s],t[2*s+1]],p=1e-8*Math.hypot(f[3]-f[1],f[2]-f[0]);for(let m=0,h=t.length/2;m<h;++m){const d=If(t[2*m],t[2*m+1],p);t[2*m]=d[0],t[2*m+1]=d[1]}this._delaunator=new ya(t)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,a=this.hull=this._delaunator.hull,l=this.triangles=this._delaunator.triangles,i=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let c=0,s=r.length;c<s;++c){const f=l[c%3===2?c-2:c+1];(r[c]===-1||i[f]===-1)&&(i[f]=c)}for(let c=0,s=a.length;c<s;++c)o[a[c]]=c;a.length<=2&&a.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=a[0],i[a[0]]=1,a.length===2&&(i[a[1]]=0,this.triangles[1]=a[1],this.triangles[2]=a[1]))}voronoi(e){return new Sf(this,e)}*neighbors(e){const{inedges:t,hull:r,_hullIndex:a,halfedges:l,triangles:i,collinear:o}=this;if(o){const p=o.indexOf(e);p>0&&(yield o[p-1]),p<o.length-1&&(yield o[p+1]);return}const c=t[e];if(c===-1)return;let s=c,f=-1;do{if(yield f=i[s],s=s%3===2?s-2:s+1,i[s]!==e)return;if(s=l[s],s===-1){const p=r[(a[e]+1)%r.length];p!==f&&(yield p);return}}while(s!==c)}find(e,t,r=0){if(e=+e,e!==e||(t=+t,t!==t))return-1;const a=r;let l;for(;(l=this._step(r,e,t))>=0&&l!==r&&l!==a;)r=l;return l}_step(e,t,r){const{inedges:a,hull:l,_hullIndex:i,halfedges:o,triangles:c,points:s}=this;if(a[e]===-1||!s.length)return(e+1)%(s.length>>1);let f=e,p=rr(t-s[e*2],2)+rr(r-s[e*2+1],2);const m=a[e];let h=m;do{let d=c[h];const b=rr(t-s[d*2],2)+rr(r-s[d*2+1],2);if(b<p&&(p=b,f=d),h=h%3===2?h-2:h+1,c[h]!==e)break;if(h=o[h],h===-1){if(h=l[(i[e]+1)%l.length],h!==d&&rr(t-s[h*2],2)+rr(r-s[h*2+1],2)<p)return h;break}}while(h!==m);return f}render(e){const t=e==null?e=new Tn:void 0,{points:r,halfedges:a,triangles:l}=this;for(let i=0,o=a.length;i<o;++i){const c=a[i];if(c<i)continue;const s=l[i]*2,f=l[c]*2;e.moveTo(r[s],r[s+1]),e.lineTo(r[f],r[f+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){t===void 0&&(!e||typeof e.moveTo!="function")&&(t=e,e=null),t=t==null?2:+t;const r=e==null?e=new Tn:void 0,{points:a}=this;for(let l=0,i=a.length;l<i;l+=2){const o=a[l],c=a[l+1];e.moveTo(o+t,c),e.arc(o,c,t,0,Ef)}return r&&r.value()}renderHull(e){const t=e==null?e=new Tn:void 0,{hull:r,points:a}=this,l=r[0]*2,i=r.length;e.moveTo(a[l],a[l+1]);for(let o=1;o<i;++o){const c=2*r[o];e.lineTo(a[c],a[c+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new sl;return this.renderHull(e),e.value()}renderTriangle(e,t){const r=t==null?t=new Tn:void 0,{points:a,triangles:l}=this,i=l[e*=3]*2,o=l[e+1]*2,c=l[e+2]*2;return t.moveTo(a[i],a[i+1]),t.lineTo(a[o],a[o+1]),t.lineTo(a[c],a[c+1]),t.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,r=e.length/3;t<r;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new sl;return this.renderTriangle(e,t),t.value()}}function Df(n,e,t,r){const a=n.length,l=new Float64Array(a*2);for(let i=0;i<a;++i){const o=n[i];l[i*2]=e.call(r,o,i,n),l[i*2+1]=t.call(r,o,i,n)}return l}function*Tf(n,e,t,r){let a=0;for(const l of n)yield e.call(r,l,a,n),yield t.call(r,l,a,n),++a}function Pf(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function ka(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function hr(n){return n=ka(Math.abs(n)),n?n[1]:NaN}function Rf(n,e){return function(t,r){for(var a=t.length,l=[],i=0,o=n[0],c=0;a>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),l.push(t.substring(a-=o,a+o)),!((c+=o+1)>r));)o=n[i=(i+1)%n.length];return l.reverse().join(e)}}function zf(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var Nf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function va(n){if(!(e=Nf.exec(n)))throw new Error("invalid format: "+n);var e;return new Il({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}va.prototype=Il.prototype;function Il(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Il.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lf(n){e:for(var e=n.length,t=1,r=-1,a;t<e;++t)switch(n[t]){case".":r=a=t;break;case"0":r===0&&(r=t),a=t;break;default:if(!+n[t])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(a+1):n}var Bs;function Vf(n,e){var t=ka(n,e);if(!t)return n+"";var r=t[0],a=t[1],l=a-(Bs=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=r.length;return l===i?r:l>i?r+new Array(l-i+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+ka(n,Math.max(0,e+l-1))[0]}function Ql(n,e){var t=ka(n,e);if(!t)return n+"";var r=t[0],a=t[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const xl={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Pf,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>Ql(n*100,e),r:Ql,s:Vf,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function $l(n){return n}var ei=Array.prototype.map,ti=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ff(n){var e=n.grouping===void 0||n.thousands===void 0?$l:Rf(ei.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",a=n.decimal===void 0?".":n.decimal+"",l=n.numerals===void 0?$l:zf(ei.call(n.numerals,String)),i=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"−":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function s(p){p=va(p);var m=p.fill,h=p.align,d=p.sign,b=p.symbol,v=p.zero,y=p.width,G=p.comma,w=p.precision,k=p.trim,C=p.type;C==="n"?(G=!0,C="g"):xl[C]||(w===void 0&&(w=12),k=!0,C="g"),(v||m==="0"&&h==="=")&&(v=!0,m="0",h="=");var E=b==="$"?t:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",A=b==="$"?r:/[%p]/.test(C)?i:"",S=xl[C],I=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function M(D){var P=E,B=A,H,V,F;if(C==="c")B=S(D)+B,D="";else{D=+D;var K=D<0||1/D<0;if(D=isNaN(D)?c:S(Math.abs(D),w),k&&(D=Lf(D)),K&&+D==0&&d!=="+"&&(K=!1),P=(K?d==="("?d:o:d==="-"||d==="("?"":d)+P,B=(C==="s"?ti[8+Bs/3]:"")+B+(K&&d==="("?")":""),I){for(H=-1,V=D.length;++H<V;)if(F=D.charCodeAt(H),48>F||F>57){B=(F===46?a+D.slice(H+1):D.slice(H))+B,D=D.slice(0,H);break}}}G&&!v&&(D=e(D,1/0));var $=P.length+D.length+B.length,x=$<y?new Array(y-$+1).join(m):"";switch(G&&v&&(D=e(x+D,x.length?y-B.length:1/0),x=""),h){case"<":D=P+D+B+x;break;case"=":D=P+x+D+B;break;case"^":D=x.slice(0,$=x.length>>1)+P+D+B+x.slice($);break;default:D=x+P+D+B;break}return l(D)}return M.toString=function(){return p+""},M}function f(p,m){var h=s((p=va(p),p.type="f",p)),d=Math.max(-8,Math.min(8,Math.floor(hr(m)/3)))*3,b=Math.pow(10,-d),v=ti[8+d/3];return function(y){return h(b*y)+v}}return{format:s,formatPrefix:f}}var ra,js,Hs;Of({thousands:",",grouping:[3],currency:["$",""]});function Of(n){return ra=Ff(n),js=ra.format,Hs=ra.formatPrefix,ra}function Wf(n){return Math.max(0,-hr(Math.abs(n)))}function qf(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hr(e)/3)))*3-hr(Math.abs(n)))}function Bf(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,hr(e)-hr(n))+1}function Ta(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const ni=Symbol("implicit");function Us(){var n=new Wl,e=[],t=[],r=ni;function a(l){let i=n.get(l);if(i===void 0){if(r!==ni)return r;n.set(l,i=e.push(l)-1)}return t[i%t.length]}return a.domain=function(l){if(!arguments.length)return e.slice();e=[],n=new Wl;for(const i of l)n.has(i)||n.set(i,e.push(i)-1);return a},a.range=function(l){return arguments.length?(t=Array.from(l),a):t.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return Us(e,t).unknown(r)},Ta.apply(a,arguments),a}function Dl(){var n=Us().unknown(void 0),e=n.domain,t=n.range,r=0,a=1,l,i,o=!1,c=0,s=0,f=.5;delete n.unknown;function p(){var m=e().length,h=a<r,d=h?a:r,b=h?r:a;l=(b-d)/Math.max(1,m-c+s*2),o&&(l=Math.floor(l)),d+=(b-d-l*(m-c))*f,i=l*(1-c),o&&(d=Math.round(d),i=Math.round(i));var v=tf(m).map(function(y){return d+l*y});return t(h?v.reverse():v)}return n.domain=function(m){return arguments.length?(e(m),p()):e()},n.range=function(m){return arguments.length?([r,a]=m,r=+r,a=+a,p()):[r,a]},n.rangeRound=function(m){return[r,a]=m,r=+r,a=+a,o=!0,p()},n.bandwidth=function(){return i},n.step=function(){return l},n.round=function(m){return arguments.length?(o=!!m,p()):o},n.padding=function(m){return arguments.length?(c=Math.min(1,s=+m),p()):c},n.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),p()):c},n.paddingOuter=function(m){return arguments.length?(s=+m,p()):s},n.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),p()):f},n.copy=function(){return Dl(e(),[r,a]).round(o).paddingInner(c).paddingOuter(s).align(f)},Ta.apply(p(),arguments)}function Zs(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return Zs(e())},n}function jf(){return Zs(Dl.apply(null,arguments).paddingInner(1))}function Hf(n){return function(){return n}}function Uf(n){return+n}var ri=[0,1];function Qt(n){return n}function ul(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:Hf(isNaN(e)?NaN:.5)}function Zf(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function Yf(n,e,t){var r=n[0],a=n[1],l=e[0],i=e[1];return a<r?(r=ul(a,r),l=t(i,l)):(r=ul(r,a),l=t(l,i)),function(o){return l(r(o))}}function Kf(n,e,t){var r=Math.min(n.length,e.length)-1,a=new Array(r),l=new Array(r),i=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++i<r;)a[i]=ul(n[i],n[i+1]),l[i]=t(e[i],e[i+1]);return function(o){var c=Yu(n,o,1,r)-1;return l[c](a[c](o))}}function Ys(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Ks(){var n=ri,e=ri,t=Ml,r,a,l,i=Qt,o,c,s;function f(){var m=Math.min(n.length,e.length);return i!==Qt&&(i=Zf(n[0],n[m-1])),o=m>2?Kf:Yf,c=s=null,p}function p(m){return m==null||isNaN(m=+m)?l:(c||(c=o(n.map(r),e,t)))(r(i(m)))}return p.invert=function(m){return i(a((s||(s=o(e,n.map(r),ll)))(m)))},p.domain=function(m){return arguments.length?(n=Array.from(m,Uf),f()):n.slice()},p.range=function(m){return arguments.length?(e=Array.from(m),f()):e.slice()},p.rangeRound=function(m){return e=Array.from(m),t=cf,f()},p.clamp=function(m){return arguments.length?(i=m?!0:Qt,f()):i!==Qt},p.interpolate=function(m){return arguments.length?(t=m,f()):t},p.unknown=function(m){return arguments.length?(l=m,p):l},function(m,h){return r=m,a=h,f()}}function Xf(){return Ks()(Qt,Qt)}function Jf(n,e,t,r){var a=$u(n,e,t),l;switch(r=va(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(l=qf(a,i))&&(r.precision=l),Hs(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=Bf(a,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=Wf(a))&&(r.precision=l-(r.type==="%")*2);break}}return js(r)}function Xs(n){var e=n.domain;return n.ticks=function(t){var r=e();return xu(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var a=e();return Jf(a[0],a[a.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),a=0,l=r.length-1,i=r[a],o=r[l],c,s,f=10;for(o<i&&(s=i,i=o,o=s,s=a,a=l,l=s);f-- >0;){if(s=il(i,o,t),s===c)return r[a]=i,r[l]=o,e(r);if(s>0)i=Math.floor(i/s)*s,o=Math.ceil(o/s)*s;else if(s<0)i=Math.ceil(i*s)/s,o=Math.floor(o*s)/s;else break;c=s}return n},n}function sa(){var n=Xf();return n.copy=function(){return Ys(n,sa())},Ta.apply(n,arguments),Xs(n)}function ai(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function Qf(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function xf(n){return n<0?-n*n:n*n}function $f(n){var e=n(Qt,Qt),t=1;function r(){return t===1?n(Qt,Qt):t===.5?n(Qf,xf):n(ai(t),ai(1/t))}return e.exponent=function(a){return arguments.length?(t=+a,r()):t},Xs(e)}function Js(){var n=$f(Ks());return n.copy=function(){return Ys(n,Js()).exponent(n.exponent())},Ta.apply(n,arguments),n}function e1(){return Js.apply(null,arguments).exponent(.5)}function ar(n){return function(){return n}}function t1(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new ff(e)}function n1(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Qs(n){this._context=n}Qs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function r1(n){return new Qs(n)}function a1(n){return n[0]}function l1(n){return n[1]}function Wr(n,e){var t=ar(!0),r=null,a=r1,l=null,i=t1(o);n=typeof n=="function"?n:n===void 0?a1:ar(n),e=typeof e=="function"?e:e===void 0?l1:ar(e);function o(c){var s,f=(c=n1(c)).length,p,m=!1,h;for(r==null&&(l=a(h=i())),s=0;s<=f;++s)!(s<f&&t(p=c[s],s,c))===m&&((m=!m)?l.lineStart():l.lineEnd()),m&&l.point(+n(p,s,c),+e(p,s,c));if(h)return l=null,h+""||null}return o.x=function(c){return arguments.length?(n=typeof c=="function"?c:ar(+c),o):n},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:ar(+c),o):e},o.defined=function(c){return arguments.length?(t=typeof c=="function"?c:ar(!!c),o):t},o.curve=function(c){return arguments.length?(a=c,r!=null&&(l=a(r)),o):a},o.context=function(c){return arguments.length?(c==null?r=l=null:l=a(r=c),o):r},o}function xs(n,e){this._context=n,this._t=e}xs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function i1(n){return new xs(n,1)}function li(n){return n*n*n}function o1(n){const e=n-1;return e*e*e+1}function xt(n,{delay:e=0,duration:t=400,easing:r=yl}={}){const a=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:l=>`opacity: ${l*a}`}}function c1(n){let e;return{c(){e=ee(n[8])},l(t){e=te(t,n[8])},m(t,r){L(t,e,r)},p(t,r){r&256&&we(e,t[8])},d(t){t&&g(e)}}}function s1(n){let e,t;return{c(){e=ee("$"),t=ee(n[8])},l(r){e=te(r,"$"),t=te(r,n[8])},m(r,a){L(r,e,a),L(r,t,a)},p(r,a){a&256&&we(t,r[8])},d(r){r&&(g(e),g(t))}}}function u1(n){let e,t,r,a,l,i,o,c;function s(m,h){return m[4]=="price"?s1:c1}let f=s(n),p=f(n);return{c(){e=R("div"),t=R("input"),r=U(),a=R("div"),l=R("p"),p.c(),this.h()},l(m){e=z(m,"DIV",{class:!0,id:!0,style:!0});var h=T(e);t=z(h,"INPUT",{type:!0,"aria-label":!0,min:!0,max:!0,step:!0,class:!0}),r=Z(h),a=z(h,"DIV",{class:!0,style:!0});var d=T(a);l=z(d,"P",{class:!0});var b=T(l);p.l(b),b.forEach(g),d.forEach(g),h.forEach(g),this.h()},h(){u(t,"type","range"),u(t,"aria-label",n[3]),u(t,"min",n[0]),u(t,"max",n[1]),u(t,"step",n[2]),u(t,"class","svelte-16j1x3l"),u(l,"class","svelte-16j1x3l"),u(a,"class","thumb-label svelte-16j1x3l"),fe(a,"left",n[9]+"px"),u(e,"class","range svelte-16j1x3l"),u(e,"id",i="range-"+n[4]),fe(e,"width","calc("+(n[4]=="price"?n[6]:n[5])+"px - "+n[7]+"px")},m(m,h){L(m,e,h),_(e,t),fa(t,n[8]),n[14](t),_(e,r),_(e,a),_(a,l),p.m(l,null),o||(c=[de(t,"change",n[13]),de(t,"input",n[13]),de(t,"input",n[11])],o=!0)},p(m,[h]){h&8&&u(t,"aria-label",m[3]),h&1&&u(t,"min",m[0]),h&2&&u(t,"max",m[1]),h&4&&u(t,"step",m[2]),h&256&&fa(t,m[8]),f===(f=s(m))&&p?p.p(m,h):(p.d(1),p=f(m),p&&(p.c(),p.m(l,null))),h&512&&fe(a,"left",m[9]+"px"),h&16&&i!==(i="range-"+m[4])&&u(e,"id",i),h&240&&fe(e,"width","calc("+(m[4]=="price"?m[6]:m[5])+"px - "+m[7]+"px")},i:ge,o:ge,d(m){m&&g(e),n[14](null),p.d(),o=!1,ht(c)}}}function f1(n,e,t){let{min:r=0}=e,{max:a=700}=e,{step:l=1}=e,{showTicks:i=!1}=e,{label:o=""}=e,{metric:c}=e,{rangeW:s}=e,{rangeH:f}=e,{padding:p}=e,m=0,h;const d=Fr();let b=c==="price"?wl:Gl,v=hu(b);function y(C){t(8,v=+C.target.value),d("input",v)}function G(C){if(h){const E=h.offsetWidth;parseInt(getComputedStyle(h).getPropertyValue("--thumb-width"),10);const A=(C-r)/(a-r);t(9,m=A*E)}}cn(()=>{G(v)});function w(){v=gu(this.value),t(8,v)}function k(C){He[C?"unshift":"push"](()=>{h=C,t(10,h)})}return n.$$set=C=>{"min"in C&&t(0,r=C.min),"max"in C&&t(1,a=C.max),"step"in C&&t(2,l=C.step),"showTicks"in C&&t(12,i=C.showTicks),"label"in C&&t(3,o=C.label),"metric"in C&&t(4,c=C.metric),"rangeW"in C&&t(5,s=C.rangeW),"rangeH"in C&&t(6,f=C.rangeH),"padding"in C&&t(7,p=C.padding)},n.$$.update=()=>{n.$$.dirty&256&&b.set(v),n.$$.dirty&96&&console.log({rangeW:s,rangeH:f}),n.$$.dirty&256&&G(v)},[r,a,l,o,c,s,f,p,v,m,h,y,i,w,k]}let ii=class extends Ie{constructor(e){super(),De(this,e,f1,u1,Ae,{min:0,max:1,step:2,showTicks:12,label:3,metric:4,rangeW:5,rangeH:6,padding:7})}};function p1(n){let e,t,r="",a,l,i="",o,c,s,f;return{c(){e=R("div"),t=R("div"),t.innerHTML=r,a=U(),l=R("div"),l.innerHTML=i,this.h()},l(p){e=z(p,"DIV",{class:!0,"data-animal":!0,style:!0});var m=T(e);t=z(m,"DIV",{class:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-17i8taq"&&(t.innerHTML=r),a=Z(m),l=z(m,"DIV",{class:!0,"data-svelte-h":!0}),Xe(l)!=="svelte-tr4r1h"&&(l.innerHTML=i),m.forEach(g),this.h()},h(){u(t,"class","shadows svelte-13gsj1r"),u(l,"class","wine svelte-13gsj1r"),ye(l,"spin",n[0]==4?n[6]:n[5][n[0]]),u(e,"class",o="product product-"+n[1].bottleSlot+" svelte-13gsj1r"),u(e,"data-animal",c=n[1].animal),fe(e,"--transition-delay",n[7]+"ms"),fe(e,"width",Pr(n[2].bottlesWidth,n[2].bottlesHeight).width+"px"),fe(e,"height",Pr(n[2].bottlesWidth,n[2].bottlesHeight).height+"px"),fe(e,"left",n[3])},m(p,m){L(p,e,m),_(e,t),_(e,a),_(e,l),s||(f=[de(l,"mousemove",n[8]),de(l,"mouseleave",m1),de(e,"transitionend",n[9]),de(e,"click",n[15])],s=!0)},p(p,[m]){m&97&&ye(l,"spin",p[0]==4?p[6]:p[5][p[0]]),m&2&&o!==(o="product product-"+p[1].bottleSlot+" svelte-13gsj1r")&&u(e,"class",o),m&2&&c!==(c=p[1].animal)&&u(e,"data-animal",c),m&128&&fe(e,"--transition-delay",p[7]+"ms"),m&4&&fe(e,"width",Pr(p[2].bottlesWidth,p[2].bottlesHeight).width+"px"),m&4&&fe(e,"height",Pr(p[2].bottlesWidth,p[2].bottlesHeight).height+"px"),m&8&&fe(e,"left",p[3])},i:ge,o:ge,d(p){p&&g(e),s=!1,ht(f)}}}let oi=3.5;function m1(n){let e=n.currentTarget;e.style.backgroundPosition="0 0"}function Pr(n,e){let t=n/3,r=e/oi,a=Math.min(t,r),l=a*oi;return{width:a,height:l}}function h1(n,e,t){let r,a,l;Q(n,ga,E=>t(14,a=E)),Q(n,En,E=>t(17,l=E));let{bottleIndex:i}=e,{wineData:o}=e,{containerDimensions:c}=e,{bottlePosLeft:s}=e,{pricesLocked:f}=e,{pricesSkipped:p}=e,{scrollIndex:m}=e,{outroVisible:h}=e,d,b=[!0,!0,!0],v=!0;o.price;const y=Fr();function G(E){let A=E.currentTarget,S=E.offsetX;d=A.offsetWidth,S<d/5?A.style.backgroundPosition="200% 0":S<2*d/5?A.style.backgroundPosition="100% 0":S<3*d/5?A.style.backgroundPosition="0 0":S<4*d/5?A.style.backgroundPosition="-100% 0":A.style.backgroundPosition="-200% 0"}function w(E){E.propertyName==="left"&&(t(5,b=[...b]),t(5,b[i]=!1,b),h&&t(6,v=!1))}function k(E){En.set(E.animal),ga.set(!0);const A=document.querySelectorAll(".product");A.forEach(S=>{const I=S.getAttribute("data-animal");S.querySelector(".wine"),I!==l&&i!==4?(S.classList.add("faded"),S.style.left=E.startingPos):(S.classList.remove("faded"),S.style.left="50%")}),t(5,b=Array.from(A).map(S=>S.style.left!=="50%")),A.forEach(S=>{const I=S.querySelector(".wine");I&&(S.style.left==="50%"?I.classList.remove("spin"):I.classList.add("spin"))}),y("bottleClicked",E)}const C=()=>k(o);return n.$$set=E=>{"bottleIndex"in E&&t(0,i=E.bottleIndex),"wineData"in E&&t(1,o=E.wineData),"containerDimensions"in E&&t(2,c=E.containerDimensions),"bottlePosLeft"in E&&t(3,s=E.bottlePosLeft),"pricesLocked"in E&&t(10,f=E.pricesLocked),"pricesSkipped"in E&&t(11,p=E.pricesSkipped),"scrollIndex"in E&&t(12,m=E.scrollIndex),"outroVisible"in E&&t(13,h=E.outroVisible)},n.$$.update=()=>{n.$$.dirty&4&&Pr(c.bottlesWidth,c.height),n.$$.dirty&16385&&t(7,r=a==!1?(2-i)*300:i==4?0:i*300),n.$$.dirty&4096&&m>=2&&t(5,b=[!0,!0,!0]),n.$$.dirty&8192&&(h==!1||h==null)&&t(6,v=!0)},[i,o,c,s,k,b,v,r,G,w,f,p,m,h,a,C]}class $s extends Ie{constructor(e){super(),De(this,e,h1,p1,Ae,{bottleIndex:0,wineData:1,containerDimensions:2,bottlePosLeft:3,pricesLocked:10,pricesSkipped:11,scrollIndex:12,outroVisible:13,handleClick:4})}get handleClick(){return this.$$.ctx[4]}}function ci(n,e,t){const r=n.slice();return r[9]=e[t],r[10]=e,r[11]=t,r}function si(n){let e,t,r=ve(n[4]),a=[];for(let i=0;i<r.length;i+=1)a[i]=ui(ci(n,r,i));const l=i=>X(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=le()},l(i){for(let o=0;o<a.length;o+=1)a[o].l(i);e=le()},m(i,o){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(i,o);L(i,e,o),t=!0},p(i,o){if(o&63){r=ve(i[4]);let c;for(c=0;c<r.length;c+=1){const s=ci(i,r,c);a[c]?(a[c].p(s,o),q(a[c],1)):(a[c]=ui(s),a[c].c(),q(a[c],1),a[c].m(e.parentNode,e))}for(Le(),c=r.length;c<a.length;c+=1)l(c);Ve()}},i(i){if(!t){for(let o=0;o<r.length;o+=1)q(a[o]);t=!0}},o(i){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)X(a[o]);t=!1},d(i){i&&g(e),je(a,i)}}}function ui(n){let e,t=n[11],r;const a=()=>n[6](e,t),l=()=>n[6](null,t);let i={scrollIndex:n[0],bottleIndex:n[11],wineData:n[9],containerDimensions:{bottlesWidth:n[1],bottlesHeight:n[2]},bottlePosLeft:n[0]>=0&&n[0]<2?n[9].targetPos:n[9].startingPos};return e=new $s({props:i}),a(),e.$on("bottleClicked",n[5]),{c(){oe(e.$$.fragment)},l(o){pe(e.$$.fragment,o)},m(o,c){ce(e,o,c),r=!0},p(o,c){t!==o[11]&&(l(),t=o[11],a());const s={};c&1&&(s.scrollIndex=o[0]),c&6&&(s.containerDimensions={bottlesWidth:o[1],bottlesHeight:o[2]}),c&1&&(s.bottlePosLeft=o[0]>=0&&o[0]<2?o[9].targetPos:o[9].startingPos),e.$set(s)},i(o){r||(q(e.$$.fragment,o),r=!0)},o(o){X(e.$$.fragment,o),r=!1},d(o){l(),se(e,o)}}}function g1(n){let e,t,r,a=n[1]&&n[2]&&si(n);return{c(){e=R("div"),a&&a.c(),this.h()},l(l){e=z(l,"DIV",{class:!0});var i=T(e);a&&a.l(i),i.forEach(g),this.h()},h(){u(e,"class","bottles svelte-e8fpjf"),wt(()=>n[7].call(e))},m(l,i){L(l,e,i),a&&a.m(e,null),t=Ea(e,n[7].bind(e)),r=!0},p(l,[i]){l[1]&&l[2]?a?(a.p(l,i),i&6&&q(a,1)):(a=si(l),a.c(),q(a,1),a.m(e,null)):a&&(Le(),X(a,1,1,()=>{a=null}),Ve())},i(l){r||(q(a),r=!0)},o(l){X(a),r=!1},d(l){l&&g(e),a&&a.d(),t()}}}function d1(n,e,t){let{scrollIndex:r}=e;const a=[{animal:"cattle",name:"Pinotage",winery:"Survivor",country:"South Africa",price:21.99,bottleSlot:"left",targetPos:"25%",startingPos:"-75%",rangeValue:0},{animal:"cat",name:"Bordeaux Supérieur",winery:"Château Les Gravieres de la Brandille",country:"France",price:18.33,bottleSlot:"center",targetPos:"50%",startingPos:"-50%",rangeValue:0},{animal:"bird",name:"Pinot Noir",winery:"Mohua",country:"New Zealand",price:21.95,bottleSlot:"right",targetPos:"75%",startingPos:"-25%",rangeValue:0}],l=Fr();function i(m){l("bottleClicked",m.detail)}let o=0,c=0,s=[];function f(m,h){He[m?"unshift":"push"](()=>{s[h]=m,t(3,s)})}function p(){c=this.clientHeight,o=this.clientWidth,t(2,c),t(1,o)}return n.$$set=m=>{"scrollIndex"in m&&t(0,r=m.scrollIndex)},[r,o,c,s,a,i,f,p]}class b1 extends Ie{constructor(e){super(),De(this,e,d1,g1,Ae,{scrollIndex:0})}}function fi(n,e,t){const r=n.slice();return r[5]=e[t],r[7]=t,r}function pi(n,e,t){const r=n.slice();return r[5]=e[t],r[7]=t,r}function _1(n){let e,t,r=ve(n[3]),a=[];for(let i=0;i<r.length;i+=1)a[i]=hi(fi(n,r,i));const l=i=>X(a[i],1,1,()=>{a[i]=null});return{c(){e=R("div");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=z(i,"DIV",{class:!0});var o=T(e);for(let c=0;c<a.length;c+=1)a[c].l(o);o.forEach(g),this.h()},h(){u(e,"class","example-wrapper svelte-ve9z2m")},m(i,o){L(i,e,o);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);t=!0},p(i,o){if(o&10){r=ve(i[3]);let c;for(c=0;c<r.length;c+=1){const s=fi(i,r,c);a[c]?(a[c].p(s,o),q(a[c],1)):(a[c]=hi(s),a[c].c(),q(a[c],1),a[c].m(e,null))}for(Le(),c=r.length;c<a.length;c+=1)l(c);Ve()}},i(i){if(!t){for(let o=0;o<r.length;o+=1)q(a[o]);t=!0}},o(i){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)X(a[o]);t=!1},d(i){i&&g(e),je(a,i)}}}function y1(n){let e,t,r=ve(n[2]),a=[];for(let i=0;i<r.length;i+=1)a[i]=di(pi(n,r,i));const l=i=>X(a[i],1,1,()=>{a[i]=null});return{c(){e=R("div");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=z(i,"DIV",{class:!0});var o=T(e);for(let c=0;c<a.length;c+=1)a[c].l(o);o.forEach(g),this.h()},h(){u(e,"class","example-wrapper svelte-ve9z2m")},m(i,o){L(i,e,o);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);t=!0},p(i,o){if(o&6){r=ve(i[2]);let c;for(c=0;c<r.length;c+=1){const s=pi(i,r,c);a[c]?(a[c].p(s,o),q(a[c],1)):(a[c]=di(s),a[c].c(),q(a[c],1),a[c].m(e,null))}for(Le(),c=r.length;c<a.length;c+=1)l(c);Ve()}},i(i){if(!t){for(let o=0;o<r.length;o+=1)q(a[o]);t=!0}},o(i){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)X(a[o]);t=!1},d(i){i&&g(e),je(a,i)}}}function mi(n){let e,t,r,a,l,i,o,c,s,f=n[5].text+"",p,m,h,d;return i=new Lt({props:{name:"x",size:"1.5rem"}}),{c(){e=R("div"),t=R("img"),a=U(),l=R("div"),oe(i.$$.fragment),o=U(),c=R("p"),s=new tt(!1),p=U(),this.h()},l(b){e=z(b,"DIV",{class:!0});var v=T(e);t=z(v,"IMG",{src:!0,alt:!0,class:!0}),a=Z(v),l=z(v,"DIV",{class:!0});var y=T(l);pe(i.$$.fragment,y),y.forEach(g),o=Z(v),c=z(v,"P",{class:!0});var G=T(c);s=nt(G,!1),G.forEach(g),p=Z(v),v.forEach(g),this.h()},h(){Ye(t.src,r=`./assets/images/vivinoLabels/img_${n[5].img}.png`)||u(t,"src",r),u(t,"alt","Wine label"),u(t,"class","svelte-ve9z2m"),u(l,"class","wrong-icon svelte-ve9z2m"),s.a=null,u(c,"class","svelte-ve9z2m"),u(e,"class","example svelte-ve9z2m")},m(b,v){L(b,e,v),_(e,t),_(e,a),_(e,l),ce(i,l,null),_(e,o),_(e,c),s.m(f,c),_(e,p),d=!0},p:ge,i(b){d||(q(i.$$.fragment,b),b&&wt(()=>{d&&(h&&h.end(1),m=Ps(e,xt,{duration:250,delay:n[7]*250}),m.start())}),d=!0)},o(b){X(i.$$.fragment,b),m&&m.invalidate(),b&&(h=Rs(e,xt,{duration:250})),d=!1},d(b){b&&g(e),se(i),b&&h&&h.end()}}}function hi(n){let e,t,r=n[1]==4&&mi(n);return{c(){r&&r.c(),e=le()},l(a){r&&r.l(a),e=le()},m(a,l){r&&r.m(a,l),L(a,e,l),t=!0},p(a,l){a[1]==4?r?(r.p(a,l),l&2&&q(r,1)):(r=mi(a),r.c(),q(r,1),r.m(e.parentNode,e)):r&&(Le(),X(r,1,1,()=>{r=null}),Ve())},i(a){t||(q(r),t=!0)},o(a){X(r),t=!1},d(a){a&&g(e),r&&r.d(a)}}}function gi(n){let e,t,r,a,l,i,o,c,s,f=n[5].text+"",p,m,h,d;return i=new Lt({props:{name:"check",size:"1.5rem"}}),{c(){e=R("div"),t=R("img"),a=U(),l=R("div"),oe(i.$$.fragment),o=U(),c=R("p"),s=new tt(!1),p=U(),this.h()},l(b){e=z(b,"DIV",{class:!0});var v=T(e);t=z(v,"IMG",{src:!0,alt:!0,class:!0}),a=Z(v),l=z(v,"DIV",{class:!0});var y=T(l);pe(i.$$.fragment,y),y.forEach(g),o=Z(v),c=z(v,"P",{class:!0});var G=T(c);s=nt(G,!1),G.forEach(g),p=Z(v),v.forEach(g),this.h()},h(){Ye(t.src,r=`./assets/images/vivinoLabels/img_${n[5].img}.png`)||u(t,"src",r),u(t,"alt","Wine label"),u(t,"class","svelte-ve9z2m"),u(l,"class","correct-icon svelte-ve9z2m"),s.a=null,u(c,"class","svelte-ve9z2m"),u(e,"class","example svelte-ve9z2m")},m(b,v){L(b,e,v),_(e,t),_(e,a),_(e,l),ce(i,l,null),_(e,o),_(e,c),s.m(f,c),_(e,p),d=!0},p:ge,i(b){d||(q(i.$$.fragment,b),b&&wt(()=>{d&&(h&&h.end(1),m=Ps(e,xt,{duration:250,delay:n[7]*250}),m.start())}),d=!0)},o(b){X(i.$$.fragment,b),m&&m.invalidate(),b&&(h=Rs(e,xt,{duration:250})),d=!1},d(b){b&&g(e),se(i),b&&h&&h.end()}}}function di(n){let e,t,r=n[1]==3&&gi(n);return{c(){r&&r.c(),e=le()},l(a){r&&r.l(a),e=le()},m(a,l){r&&r.m(a,l),L(a,e,l),t=!0},p(a,l){a[1]==3?r?(r.p(a,l),l&2&&q(r,1)):(r=gi(a),r.c(),q(r,1),r.m(e.parentNode,e)):r&&(Le(),X(r,1,1,()=>{r=null}),Ve())},i(a){t||(q(r),t=!0)},o(a){X(r),t=!1},d(a){a&&g(e),r&&r.d(a)}}}function k1(n){let e,t,r,a;const l=[y1,_1],i=[];function o(c,s){return c[0]=="correct"?0:1}return e=o(n),t=i[e]=l[e](n),{c(){t.c(),r=le()},l(c){t.l(c),r=le()},m(c,s){i[e].m(c,s),L(c,r,s),a=!0},p(c,[s]){let f=e;e=o(c),e===f?i[e].p(c,s):(Le(),X(i[f],1,1,()=>{i[f]=null}),Ve(),t=i[e],t?t.p(c,s):(t=i[e]=l[e](c),t.c()),q(t,1),t.m(r.parentNode,r))},i(c){a||(q(t),a=!0)},o(c){X(t),a=!1},d(c){c&&g(r),i[e].d(c)}}}function v1(n,e,t){let{exampleType:r}=e,{scrollIndex:a}=e;const l=[{img:"3216207",text:"The image on the wine label features a <span class='correct-prompt'>duck</span>, which is an animal."},{img:"151590018",text:"There is an image of a <span class='correct-prompt'>bird</span> on this wine label, identified as a 'Gruccione' (<span class='correct-prompt'>European Bee-eater</span>, scientific name: Merops apiaster)."},{img:"155725899",text:"The image on the wine label appears to depict a stylized <span class='correct-prompt'>peacock</span>, which is an animal."},{img:"168501049",text:"The image shows a wine label. There is an illustration of a <span class='correct-prompt'>bird</span> in flight at the top of the label, which is an animal."}],i=[{img:"163091436",text:"There are <span class='wrong-prompt'>no animals or humans</span> on this wine label. The image prominently features a <span class='wrong-prompt'>hot air balloon</span> with the text 'Balance BEST BLEND Chenin Blanc Colombard south africa.'"},{img:"150722226",text:"The image is a wine label that reads 'Terrasse du Diable' and 'Les Pallières Gigondas.' To the left side of the label, there are illustrations that resemble <span class='wrong-prompt'>demonic or mythical creatures</span> which are <span class='wrong-prompt'>neither real animals nor humans</span>."},{img:"176113705",text:"The image depicts two animated characters on a wine label. One appears to be a stylized, humanoid version of a <span class='wrong-prompt'>mythical creature often known as a 'chupacabra,'</span> and the other is an <span class='wrong-prompt'>anthropomorphic goat</span>. Both characters are portrayed in a cartoonish style, and there are <span class='wrong-prompt'>no real animals or humans</span> present on the label."},{img:"167324613",text:"This appears to be an image of a wine label that reads 'Spook Light - Skin Fermented - Pinot Gris' from 'Hawke's Bay'. The label features some illustrations that resemble <span class='wrong-prompt'>insects</span> around the edges, such as moths or butterflies. I <span class='wrong-prompt'>do not see any animals or humans</span> on this label."}];return n.$$set=o=>{"exampleType"in o&&t(0,r=o.exampleType),"scrollIndex"in o&&t(1,a=o.scrollIndex)},n.$$.update=()=>{n.$$.dirty&1},[r,a,l,i]}class bi extends Ie{constructor(e){super(),De(this,e,v1,k1,Ae,{exampleType:0,scrollIndex:1})}}const Pn=[{animalGroup:"amphibian/reptile",category:"price",bucket:"<10",percent:"0",count:"0"},{animalGroup:"amphibian/reptile",category:"price",bucket:"10–19.99",percent:"36.84210526315789",count:"14"},{animalGroup:"amphibian/reptile",category:"price",bucket:"20–29.99",percent:"13.157894736842104",count:"5"},{animalGroup:"amphibian/reptile",category:"price",bucket:"30–39.99",percent:"13.157894736842104",count:"5"},{animalGroup:"amphibian/reptile",category:"price",bucket:"40–49.99",percent:"7.894736842105263",count:"3"},{animalGroup:"amphibian/reptile",category:"price",bucket:"50–59.99",percent:"2.631578947368421",count:"1"},{animalGroup:"amphibian/reptile",category:"price",bucket:"60–69.99",percent:"13.157894736842104",count:"5"},{animalGroup:"amphibian/reptile",category:"price",bucket:"70–79.99",percent:"2.631578947368421",count:"1"},{animalGroup:"amphibian/reptile",category:"price",bucket:"80–89.99",percent:"2.631578947368421",count:"1"},{animalGroup:"amphibian/reptile",category:"price",bucket:"90–99.99",percent:"0",count:"0"},{animalGroup:"amphibian/reptile",category:"price",bucket:"100–109.99",percent:"2.631578947368421",count:"1"},{animalGroup:"amphibian/reptile",category:"price",bucket:"110–119.99",percent:"0",count:"0"},{animalGroup:"amphibian/reptile",category:"price",bucket:"120–129.99",percent:"0",count:"0"},{animalGroup:"amphibian/reptile",category:"price",bucket:"130–139.99",percent:"0",count:"0"},{animalGroup:"amphibian/reptile",category:"price",bucket:"140–149.99",percent:"0",count:"0"},{animalGroup:"amphibian/reptile",category:"price",bucket:"150+",percent:"5.263157894736842",count:"2"},{animalGroup:"amphibian/reptile",category:"rating",bucket:"3 & less",percent:"0",count:"0"},{animalGroup:"amphibian/reptile",category:"rating",bucket:"3.1–3.5",percent:"2.631578947368421",count:"1"},{animalGroup:"amphibian/reptile",category:"rating",bucket:"3.6–4",percent:"60.526315789473685",count:"23"},{animalGroup:"amphibian/reptile",category:"rating",bucket:"4.1–4.5",percent:"34.21052631578947",count:"13"},{animalGroup:"amphibian/reptile",category:"rating",bucket:"4.6 & above",percent:"2.631578947368421",count:"1"},{animalGroup:"amphibian/reptile",category:"type",bucket:"Dessert",percent:"2.631578947368421",count:"1"},{animalGroup:"amphibian/reptile",category:"type",bucket:"Fortified",percent:"0",count:"0"},{animalGroup:"amphibian/reptile",category:"type",bucket:"Red",percent:"44.73684210526316",count:"17"},{animalGroup:"amphibian/reptile",category:"type",bucket:"Rose",percent:"2.631578947368421",count:"1"},{animalGroup:"amphibian/reptile",category:"type",bucket:"Sparkling",percent:"2.631578947368421",count:"1"},{animalGroup:"amphibian/reptile",category:"type",bucket:"White",percent:"47.368421052631575",count:"18"},{animalGroup:"amphibian/reptile",category:"country",bucket:"France",percent:"10.526315789473683",count:"4"},{animalGroup:"amphibian/reptile",category:"country",bucket:"United States",percent:"39.473684210526315",count:"15"},{animalGroup:"amphibian/reptile",category:"country",bucket:"Italy",percent:"13.157894736842104",count:"5"},{animalGroup:"amphibian/reptile",category:"country",bucket:"Spain",percent:"13.157894736842104",count:"5"},{animalGroup:"amphibian/reptile",category:"country",bucket:"Argentina",percent:"0",count:"0"},{animalGroup:"amphibian/reptile",category:"country",bucket:"Portugal",percent:"0",count:"0"},{animalGroup:"amphibian/reptile",category:"country",bucket:"South Africa",percent:"5.263157894736842",count:"2"},{animalGroup:"amphibian/reptile",category:"country",bucket:"Australia",percent:"10.526315789473683",count:"4"},{animalGroup:"amphibian/reptile",category:"country",bucket:"Germany",percent:"0",count:"0"},{animalGroup:"amphibian/reptile",category:"country",bucket:"Chile",percent:"5.263157894736842",count:"2"},{animalGroup:"amphibian/reptile",category:"country",bucket:"New Zealand",percent:"2.631578947368421",count:"1"},{animalGroup:"amphibian/reptile",category:"country",bucket:"Austria",percent:"0",count:"0"},{animalGroup:"amphibian/reptile",category:"median",bucket:"medianPrice",percent:"",count:"30.965000000000003"},{animalGroup:"amphibian/reptile",category:"median",bucket:"medianRating",percent:"",count:"3.95"},{animalGroup:"amphibian/reptile",category:"count",bucket:"count",percent:"",count:"38"},{animalGroup:"amphibian/reptile",category:"steals",bucket:"steals",percent:"5.263157894736842",count:"2"},{animalGroup:"bear",category:"price",bucket:"<10",percent:"0",count:"0"},{animalGroup:"bear",category:"price",bucket:"10–19.99",percent:"30.434782608695656",count:"7"},{animalGroup:"bear",category:"price",bucket:"20–29.99",percent:"17.391304347826086",count:"4"},{animalGroup:"bear",category:"price",bucket:"30–39.99",percent:"21.73913043478261",count:"5"},{animalGroup:"bear",category:"price",bucket:"40–49.99",percent:"13.043478260869565",count:"3"},{animalGroup:"bear",category:"price",bucket:"50–59.99",percent:"4.3478260869565215",count:"1"},{animalGroup:"bear",category:"price",bucket:"60–69.99",percent:"4.3478260869565215",count:"1"},{animalGroup:"bear",category:"price",bucket:"70–79.99",percent:"0",count:"0"},{animalGroup:"bear",category:"price",bucket:"80–89.99",percent:"0",count:"0"},{animalGroup:"bear",category:"price",bucket:"90–99.99",percent:"0",count:"0"},{animalGroup:"bear",category:"price",bucket:"100–109.99",percent:"0",count:"0"},{animalGroup:"bear",category:"price",bucket:"110–119.99",percent:"4.3478260869565215",count:"1"},{animalGroup:"bear",category:"price",bucket:"120–129.99",percent:"4.3478260869565215",count:"1"},{animalGroup:"bear",category:"price",bucket:"130–139.99",percent:"0",count:"0"},{animalGroup:"bear",category:"price",bucket:"140–149.99",percent:"0",count:"0"},{animalGroup:"bear",category:"price",bucket:"150+",percent:"0",count:"0"},{animalGroup:"bear",category:"rating",bucket:"3 & less",percent:"0",count:"0"},{animalGroup:"bear",category:"rating",bucket:"3.1–3.5",percent:"4.3478260869565215",count:"1"},{animalGroup:"bear",category:"rating",bucket:"3.6–4",percent:"43.47826086956522",count:"10"},{animalGroup:"bear",category:"rating",bucket:"4.1–4.5",percent:"47.82608695652174",count:"11"},{animalGroup:"bear",category:"rating",bucket:"4.6 & above",percent:"4.3478260869565215",count:"1"},{animalGroup:"bear",category:"type",bucket:"Dessert",percent:"0",count:"0"},{animalGroup:"bear",category:"type",bucket:"Fortified",percent:"0",count:"0"},{animalGroup:"bear",category:"type",bucket:"Red",percent:"43.47826086956522",count:"10"},{animalGroup:"bear",category:"type",bucket:"Rose",percent:"13.043478260869565",count:"3"},{animalGroup:"bear",category:"type",bucket:"Sparkling",percent:"0",count:"0"},{animalGroup:"bear",category:"type",bucket:"White",percent:"43.47826086956522",count:"10"},{animalGroup:"bear",category:"country",bucket:"France",percent:"13.043478260869565",count:"3"},{animalGroup:"bear",category:"country",bucket:"United States",percent:"60.86956521739131",count:"14"},{animalGroup:"bear",category:"country",bucket:"Italy",percent:"13.043478260869565",count:"3"},{animalGroup:"bear",category:"country",bucket:"Spain",percent:"13.043478260869565",count:"3"},{animalGroup:"bear",category:"country",bucket:"Argentina",percent:"0",count:"0"},{animalGroup:"bear",category:"country",bucket:"Portugal",percent:"0",count:"0"},{animalGroup:"bear",category:"country",bucket:"South Africa",percent:"0",count:"0"},{animalGroup:"bear",category:"country",bucket:"Australia",percent:"0",count:"0"},{animalGroup:"bear",category:"country",bucket:"Germany",percent:"0",count:"0"},{animalGroup:"bear",category:"country",bucket:"Chile",percent:"0",count:"0"},{animalGroup:"bear",category:"country",bucket:"New Zealand",percent:"0",count:"0"},{animalGroup:"bear",category:"country",bucket:"Austria",percent:"0",count:"0"},{animalGroup:"bear",category:"median",bucket:"medianPrice",percent:"",count:"31.55"},{animalGroup:"bear",category:"median",bucket:"medianRating",percent:"",count:"4.1"},{animalGroup:"bear",category:"count",bucket:"count",percent:"",count:"23"},{animalGroup:"bear",category:"steals",bucket:"steals",percent:"13.043478260869565",count:"3"},{animalGroup:"bird",category:"price",bucket:"<10",percent:"0.8658008658008658",count:"4"},{animalGroup:"bird",category:"price",bucket:"10–19.99",percent:"31.818181818181817",count:"147"},{animalGroup:"bird",category:"price",bucket:"20–29.99",percent:"28.78787878787879",count:"133"},{animalGroup:"bird",category:"price",bucket:"30–39.99",percent:"11.255411255411255",count:"52"},{animalGroup:"bird",category:"price",bucket:"40–49.99",percent:"6.70995670995671",count:"31"},{animalGroup:"bird",category:"price",bucket:"50–59.99",percent:"3.896103896103896",count:"18"},{animalGroup:"bird",category:"price",bucket:"60–69.99",percent:"4.545454545454546",count:"21"},{animalGroup:"bird",category:"price",bucket:"70–79.99",percent:"2.5974025974025974",count:"12"},{animalGroup:"bird",category:"price",bucket:"80–89.99",percent:"1.0822510822510822",count:"5"},{animalGroup:"bird",category:"price",bucket:"90–99.99",percent:"1.948051948051948",count:"9"},{animalGroup:"bird",category:"price",bucket:"100–109.99",percent:"1.2987012987012987",count:"6"},{animalGroup:"bird",category:"price",bucket:"110–119.99",percent:"0.8658008658008658",count:"4"},{animalGroup:"bird",category:"price",bucket:"120–129.99",percent:"0",count:"0"},{animalGroup:"bird",category:"price",bucket:"130–139.99",percent:"0.4329004329004329",count:"2"},{animalGroup:"bird",category:"price",bucket:"140–149.99",percent:"0.4329004329004329",count:"2"},{animalGroup:"bird",category:"price",bucket:"150+",percent:"3.463203463203463",count:"16"},{animalGroup:"bird",category:"rating",bucket:"3 & less",percent:"0",count:"0"},{animalGroup:"bird",category:"rating",bucket:"3.1–3.5",percent:"5.627705627705628",count:"26"},{animalGroup:"bird",category:"rating",bucket:"3.6–4",percent:"54.97835497835498",count:"254"},{animalGroup:"bird",category:"rating",bucket:"4.1–4.5",percent:"38.311688311688314",count:"177"},{animalGroup:"bird",category:"rating",bucket:"4.6 & above",percent:"1.0822510822510822",count:"5"},{animalGroup:"bird",category:"type",bucket:"Dessert",percent:"1.0822510822510822",count:"5"},{animalGroup:"bird",category:"type",bucket:"Fortified",percent:"1.5151515151515151",count:"7"},{animalGroup:"bird",category:"type",bucket:"Red",percent:"41.125541125541126",count:"190"},{animalGroup:"bird",category:"type",bucket:"Rose",percent:"8.008658008658008",count:"37"},{animalGroup:"bird",category:"type",bucket:"Sparkling",percent:"6.277056277056277",count:"29"},{animalGroup:"bird",category:"type",bucket:"White",percent:"41.99134199134199",count:"194"},{animalGroup:"bird",category:"country",bucket:"France",percent:"17.316017316017316",count:"80"},{animalGroup:"bird",category:"country",bucket:"United States",percent:"23.376623376623375",count:"108"},{animalGroup:"bird",category:"country",bucket:"Italy",percent:"21.645021645021643",count:"100"},{animalGroup:"bird",category:"country",bucket:"Spain",percent:"7.792207792207792",count:"36"},{animalGroup:"bird",category:"country",bucket:"Argentina",percent:"3.0303030303030303",count:"14"},{animalGroup:"bird",category:"country",bucket:"Portugal",percent:"4.112554112554113",count:"19"},{animalGroup:"bird",category:"country",bucket:"South Africa",percent:"6.0606060606060606",count:"28"},{animalGroup:"bird",category:"country",bucket:"Australia",percent:"3.67965367965368",count:"17"},{animalGroup:"bird",category:"country",bucket:"Germany",percent:"2.813852813852814",count:"13"},{animalGroup:"bird",category:"country",bucket:"Chile",percent:"1.5151515151515151",count:"7"},{animalGroup:"bird",category:"country",bucket:"New Zealand",percent:"5.411255411255411",count:"25"},{animalGroup:"bird",category:"country",bucket:"Austria",percent:"1.2987012987012987",count:"6"},{animalGroup:"bird",category:"median",bucket:"medianPrice",percent:"",count:"25.99"},{animalGroup:"bird",category:"median",bucket:"medianRating",percent:"",count:"4"},{animalGroup:"bird",category:"count",bucket:"count",percent:"",count:"462"},{animalGroup:"bird",category:"steals",bucket:"steals",percent:"16.450216450216452",count:"76"},{animalGroup:"bug",category:"price",bucket:"<10",percent:"1.0204081632653061",count:"1"},{animalGroup:"bug",category:"price",bucket:"10–19.99",percent:"33.6734693877551",count:"33"},{animalGroup:"bug",category:"price",bucket:"20–29.99",percent:"33.6734693877551",count:"33"},{animalGroup:"bug",category:"price",bucket:"30–39.99",percent:"10.204081632653061",count:"10"},{animalGroup:"bug",category:"price",bucket:"40–49.99",percent:"6.122448979591836",count:"6"},{animalGroup:"bug",category:"price",bucket:"50–59.99",percent:"5.1020408163265305",count:"5"},{animalGroup:"bug",category:"price",bucket:"60–69.99",percent:"2.0408163265306123",count:"2"},{animalGroup:"bug",category:"price",bucket:"70–79.99",percent:"2.0408163265306123",count:"2"},{animalGroup:"bug",category:"price",bucket:"80–89.99",percent:"1.0204081632653061",count:"1"},{animalGroup:"bug",category:"price",bucket:"90–99.99",percent:"2.0408163265306123",count:"2"},{animalGroup:"bug",category:"price",bucket:"100–109.99",percent:"0",count:"0"},{animalGroup:"bug",category:"price",bucket:"110–119.99",percent:"2.0408163265306123",count:"2"},{animalGroup:"bug",category:"price",bucket:"120–129.99",percent:"0",count:"0"},{animalGroup:"bug",category:"price",bucket:"130–139.99",percent:"0",count:"0"},{animalGroup:"bug",category:"price",bucket:"140–149.99",percent:"0",count:"0"},{animalGroup:"bug",category:"price",bucket:"150+",percent:"1.0204081632653061",count:"1"},{animalGroup:"bug",category:"rating",bucket:"3 & less",percent:"0",count:"0"},{animalGroup:"bug",category:"rating",bucket:"3.1–3.5",percent:"11.224489795918368",count:"11"},{animalGroup:"bug",category:"rating",bucket:"3.6–4",percent:"57.14285714285714",count:"56"},{animalGroup:"bug",category:"rating",bucket:"4.1–4.5",percent:"30.612244897959183",count:"30"},{animalGroup:"bug",category:"rating",bucket:"4.6 & above",percent:"1.0204081632653061",count:"1"},{animalGroup:"bug",category:"type",bucket:"Dessert",percent:"2.0408163265306123",count:"2"},{animalGroup:"bug",category:"type",bucket:"Fortified",percent:"0",count:"0"},{animalGroup:"bug",category:"type",bucket:"Red",percent:"30.612244897959183",count:"30"},{animalGroup:"bug",category:"type",bucket:"Rose",percent:"14.285714285714285",count:"14"},{animalGroup:"bug",category:"type",bucket:"Sparkling",percent:"3.061224489795918",count:"3"},{animalGroup:"bug",category:"type",bucket:"White",percent:"50",count:"49"},{animalGroup:"bug",category:"country",bucket:"France",percent:"14.285714285714285",count:"14"},{animalGroup:"bug",category:"country",bucket:"United States",percent:"22.448979591836736",count:"22"},{animalGroup:"bug",category:"country",bucket:"Italy",percent:"20.408163265306122",count:"20"},{animalGroup:"bug",category:"country",bucket:"Spain",percent:"8.16326530612245",count:"8"},{animalGroup:"bug",category:"country",bucket:"Argentina",percent:"5.1020408163265305",count:"5"},{animalGroup:"bug",category:"country",bucket:"Portugal",percent:"2.0408163265306123",count:"2"},{animalGroup:"bug",category:"country",bucket:"South Africa",percent:"3.061224489795918",count:"3"},{animalGroup:"bug",category:"country",bucket:"Australia",percent:"7.142857142857142",count:"7"},{animalGroup:"bug",category:"country",bucket:"Germany",percent:"3.061224489795918",count:"3"},{animalGroup:"bug",category:"country",bucket:"Chile",percent:"1.0204081632653061",count:"1"},{animalGroup:"bug",category:"country",bucket:"New Zealand",percent:"6.122448979591836",count:"6"},{animalGroup:"bug",category:"country",bucket:"Austria",percent:"5.1020408163265305",count:"5"},{animalGroup:"bug",category:"median",bucket:"medianPrice",percent:"",count:"22.655"},{animalGroup:"bug",category:"median",bucket:"medianRating",percent:"",count:"3.9"},{animalGroup:"bug",category:"count",bucket:"count",percent:"",count:"98"},{animalGroup:"bug",category:"steals",bucket:"steals",percent:"21.428571428571427",count:"21"},{animalGroup:"canine",category:"price",bucket:"<10",percent:"0.8695652173913043",count:"1"},{animalGroup:"canine",category:"price",bucket:"10–19.99",percent:"29.565217391304348",count:"34"},{animalGroup:"canine",category:"price",bucket:"20–29.99",percent:"25.217391304347824",count:"29"},{animalGroup:"canine",category:"price",bucket:"30–39.99",percent:"13.043478260869565",count:"15"},{animalGroup:"canine",category:"price",bucket:"40–49.99",percent:"4.3478260869565215",count:"5"},{animalGroup:"canine",category:"price",bucket:"50–59.99",percent:"3.4782608695652173",count:"4"},{animalGroup:"canine",category:"price",bucket:"60–69.99",percent:"7.82608695652174",count:"9"},{animalGroup:"canine",category:"price",bucket:"70–79.99",percent:"1.7391304347826086",count:"2"},{animalGroup:"canine",category:"price",bucket:"80–89.99",percent:"0.8695652173913043",count:"1"},{animalGroup:"canine",category:"price",bucket:"90–99.99",percent:"4.3478260869565215",count:"5"},{animalGroup:"canine",category:"price",bucket:"100–109.99",percent:"0",count:"0"},{animalGroup:"canine",category:"price",bucket:"110–119.99",percent:"0.8695652173913043",count:"1"},{animalGroup:"canine",category:"price",bucket:"120–129.99",percent:"0",count:"0"},{animalGroup:"canine",category:"price",bucket:"130–139.99",percent:"0",count:"0"},{animalGroup:"canine",category:"price",bucket:"140–149.99",percent:"0",count:"0"},{animalGroup:"canine",category:"price",bucket:"150+",percent:"7.82608695652174",count:"9"},{animalGroup:"canine",category:"rating",bucket:"3 & less",percent:"0",count:"0"},{animalGroup:"canine",category:"rating",bucket:"3.1–3.5",percent:"4.3478260869565215",count:"5"},{animalGroup:"canine",category:"rating",bucket:"3.6–4",percent:"56.52173913043478",count:"65"},{animalGroup:"canine",category:"rating",bucket:"4.1–4.5",percent:"37.391304347826086",count:"43"},{animalGroup:"canine",category:"rating",bucket:"4.6 & above",percent:"1.7391304347826086",count:"2"},{animalGroup:"canine",category:"type",bucket:"Dessert",percent:"2.608695652173913",count:"3"},{animalGroup:"canine",category:"type",bucket:"Fortified",percent:"0",count:"0"},{animalGroup:"canine",category:"type",bucket:"Red",percent:"43.47826086956522",count:"50"},{animalGroup:"canine",category:"type",bucket:"Rose",percent:"12.173913043478262",count:"14"},{animalGroup:"canine",category:"type",bucket:"Sparkling",percent:"5.217391304347826",count:"6"},{animalGroup:"canine",category:"type",bucket:"White",percent:"36.52173913043478",count:"42"},{animalGroup:"canine",category:"country",bucket:"France",percent:"20.869565217391305",count:"24"},{animalGroup:"canine",category:"country",bucket:"United States",percent:"18.26086956521739",count:"21"},{animalGroup:"canine",category:"country",bucket:"Italy",percent:"24.347826086956523",count:"28"},{animalGroup:"canine",category:"country",bucket:"Spain",percent:"6.086956521739131",count:"7"},{animalGroup:"canine",category:"country",bucket:"Argentina",percent:"0",count:"0"},{animalGroup:"canine",category:"country",bucket:"Portugal",percent:"5.217391304347826",count:"6"},{animalGroup:"canine",category:"country",bucket:"South Africa",percent:"9.565217391304348",count:"11"},{animalGroup:"canine",category:"country",bucket:"Australia",percent:"2.608695652173913",count:"3"},{animalGroup:"canine",category:"country",bucket:"Germany",percent:"4.3478260869565215",count:"5"},{animalGroup:"canine",category:"country",bucket:"Chile",percent:"0",count:"0"},{animalGroup:"canine",category:"country",bucket:"New Zealand",percent:"3.4782608695652173",count:"4"},{animalGroup:"canine",category:"country",bucket:"Austria",percent:"2.608695652173913",count:"3"},{animalGroup:"canine",category:"median",bucket:"medianPrice",percent:"",count:"28.99"},{animalGroup:"canine",category:"median",bucket:"medianRating",percent:"",count:"4"},{animalGroup:"canine",category:"count",bucket:"count",percent:"",count:"115"},{animalGroup:"canine",category:"steals",bucket:"steals",percent:"10.434782608695652",count:"12"},{animalGroup:"cat",category:"price",bucket:"<10",percent:"2.941176470588235",count:"9"},{animalGroup:"cat",category:"price",bucket:"10–19.99",percent:"18.30065359477124",count:"56"},{animalGroup:"cat",category:"price",bucket:"20–29.99",percent:"22.875816993464053",count:"70"},{animalGroup:"cat",category:"price",bucket:"30–39.99",percent:"11.437908496732026",count:"35"},{animalGroup:"cat",category:"price",bucket:"40–49.99",percent:"7.8431372549019605",count:"24"},{animalGroup:"cat",category:"price",bucket:"50–59.99",percent:"6.209150326797386",count:"19"},{animalGroup:"cat",category:"price",bucket:"60–69.99",percent:"4.901960784313726",count:"15"},{animalGroup:"cat",category:"price",bucket:"70–79.99",percent:"3.594771241830065",count:"11"},{animalGroup:"cat",category:"price",bucket:"80–89.99",percent:"3.594771241830065",count:"11"},{animalGroup:"cat",category:"price",bucket:"90–99.99",percent:"3.2679738562091507",count:"10"},{animalGroup:"cat",category:"price",bucket:"100–109.99",percent:"0.32679738562091504",count:"1"},{animalGroup:"cat",category:"price",bucket:"110–119.99",percent:"0.32679738562091504",count:"1"},{animalGroup:"cat",category:"price",bucket:"120–129.99",percent:"0.32679738562091504",count:"1"},{animalGroup:"cat",category:"price",bucket:"130–139.99",percent:"1.6339869281045754",count:"5"},{animalGroup:"cat",category:"price",bucket:"140–149.99",percent:"0.9803921568627451",count:"3"},{animalGroup:"cat",category:"price",bucket:"150+",percent:"11.437908496732026",count:"35"},{animalGroup:"cat",category:"rating",bucket:"3 & less",percent:"0",count:"0"},{animalGroup:"cat",category:"rating",bucket:"3.1–3.5",percent:"5.555555555555555",count:"17"},{animalGroup:"cat",category:"rating",bucket:"3.6–4",percent:"42.15686274509804",count:"129"},{animalGroup:"cat",category:"rating",bucket:"4.1–4.5",percent:"50.326797385620914",count:"154"},{animalGroup:"cat",category:"rating",bucket:"4.6 & above",percent:"1.9607843137254901",count:"6"},{animalGroup:"cat",category:"type",bucket:"Dessert",percent:"2.941176470588235",count:"9"},{animalGroup:"cat",category:"type",bucket:"Fortified",percent:"3.2679738562091507",count:"10"},{animalGroup:"cat",category:"type",bucket:"Red",percent:"49.34640522875817",count:"151"},{animalGroup:"cat",category:"type",bucket:"Rose",percent:"2.941176470588235",count:"9"},{animalGroup:"cat",category:"type",bucket:"Sparkling",percent:"10.784313725490197",count:"33"},{animalGroup:"cat",category:"type",bucket:"White",percent:"30.718954248366014",count:"94"},{animalGroup:"cat",category:"country",bucket:"France",percent:"39.21568627450981",count:"120"},{animalGroup:"cat",category:"country",bucket:"United States",percent:"12.418300653594772",count:"38"},{animalGroup:"cat",category:"country",bucket:"Italy",percent:"21.241830065359476",count:"65"},{animalGroup:"cat",category:"country",bucket:"Spain",percent:"7.8431372549019605",count:"24"},{animalGroup:"cat",category:"country",bucket:"Argentina",percent:"3.594771241830065",count:"11"},{animalGroup:"cat",category:"country",bucket:"Portugal",percent:"2.287581699346405",count:"7"},{animalGroup:"cat",category:"country",bucket:"South Africa",percent:"3.9215686274509802",count:"12"},{animalGroup:"cat",category:"country",bucket:"Australia",percent:"1.6339869281045754",count:"5"},{animalGroup:"cat",category:"country",bucket:"Germany",percent:"1.9607843137254901",count:"6"},{animalGroup:"cat",category:"country",bucket:"Chile",percent:"2.941176470588235",count:"9"},{animalGroup:"cat",category:"country",bucket:"New Zealand",percent:"0.32679738562091504",count:"1"},{animalGroup:"cat",category:"country",bucket:"Austria",percent:"1.3071895424836601",count:"4"},{animalGroup:"cat",category:"median",bucket:"medianPrice",percent:"",count:"34.99"},{animalGroup:"cat",category:"median",bucket:"medianRating",percent:"",count:"4.1"},{animalGroup:"cat",category:"count",bucket:"count",percent:"",count:"306"},{animalGroup:"cat",category:"steals",bucket:"steals",percent:"10.130718954248366",count:"31"},{animalGroup:"cattle",category:"price",bucket:"<10",percent:"2.1739130434782608",count:"1"},{animalGroup:"cattle",category:"price",bucket:"10–19.99",percent:"34.78260869565217",count:"16"},{animalGroup:"cattle",category:"price",bucket:"20–29.99",percent:"28.26086956521739",count:"13"},{animalGroup:"cattle",category:"price",bucket:"30–39.99",percent:"8.695652173913043",count:"4"},{animalGroup:"cattle",category:"price",bucket:"40–49.99",percent:"10.869565217391305",count:"5"},{animalGroup:"cattle",category:"price",bucket:"50–59.99",percent:"2.1739130434782608",count:"1"},{animalGroup:"cattle",category:"price",bucket:"60–69.99",percent:"2.1739130434782608",count:"1"},{animalGroup:"cattle",category:"price",bucket:"70–79.99",percent:"2.1739130434782608",count:"1"},{animalGroup:"cattle",category:"price",bucket:"80–89.99",percent:"0",count:"0"},{animalGroup:"cattle",category:"price",bucket:"90–99.99",percent:"4.3478260869565215",count:"2"},{animalGroup:"cattle",category:"price",bucket:"100–109.99",percent:"0",count:"0"},{animalGroup:"cattle",category:"price",bucket:"110–119.99",percent:"0",count:"0"},{animalGroup:"cattle",category:"price",bucket:"120–129.99",percent:"0",count:"0"},{animalGroup:"cattle",category:"price",bucket:"130–139.99",percent:"0",count:"0"},{animalGroup:"cattle",category:"price",bucket:"140–149.99",percent:"0",count:"0"},{animalGroup:"cattle",category:"price",bucket:"150+",percent:"4.3478260869565215",count:"2"},{animalGroup:"cattle",category:"rating",bucket:"3 & less",percent:"0",count:"0"},{animalGroup:"cattle",category:"rating",bucket:"3.1–3.5",percent:"4.3478260869565215",count:"2"},{animalGroup:"cattle",category:"rating",bucket:"3.6–4",percent:"65.21739130434783",count:"30"},{animalGroup:"cattle",category:"rating",bucket:"4.1–4.5",percent:"26.08695652173913",count:"12"},{animalGroup:"cattle",category:"rating",bucket:"4.6 & above",percent:"4.3478260869565215",count:"2"},{animalGroup:"cattle",category:"type",bucket:"Dessert",percent:"0",count:"0"},{animalGroup:"cattle",category:"type",bucket:"Fortified",percent:"2.1739130434782608",count:"1"},{animalGroup:"cattle",category:"type",bucket:"Red",percent:"56.52173913043478",count:"26"},{animalGroup:"cattle",category:"type",bucket:"Rose",percent:"2.1739130434782608",count:"1"},{animalGroup:"cattle",category:"type",bucket:"Sparkling",percent:"6.521739130434782",count:"3"},{animalGroup:"cattle",category:"type",bucket:"White",percent:"32.608695652173914",count:"15"},{animalGroup:"cattle",category:"country",bucket:"France",percent:"6.521739130434782",count:"3"},{animalGroup:"cattle",category:"country",bucket:"United States",percent:"17.391304347826086",count:"8"},{animalGroup:"cattle",category:"country",bucket:"Italy",percent:"21.73913043478261",count:"10"},{animalGroup:"cattle",category:"country",bucket:"Spain",percent:"17.391304347826086",count:"8"},{animalGroup:"cattle",category:"country",bucket:"Argentina",percent:"13.043478260869565",count:"6"},{animalGroup:"cattle",category:"country",bucket:"Portugal",percent:"2.1739130434782608",count:"1"},{animalGroup:"cattle",category:"country",bucket:"South Africa",percent:"4.3478260869565215",count:"2"},{animalGroup:"cattle",category:"country",bucket:"Australia",percent:"0",count:"0"},{animalGroup:"cattle",category:"country",bucket:"Germany",percent:"0",count:"0"},{animalGroup:"cattle",category:"country",bucket:"Chile",percent:"8.695652173913043",count:"4"},{animalGroup:"cattle",category:"country",bucket:"New Zealand",percent:"0",count:"0"},{animalGroup:"cattle",category:"country",bucket:"Austria",percent:"4.3478260869565215",count:"2"},{animalGroup:"cattle",category:"median",bucket:"medianPrice",percent:"",count:"22.494999999999997"},{animalGroup:"cattle",category:"median",bucket:"medianRating",percent:"",count:"3.9"},{animalGroup:"cattle",category:"count",bucket:"count",percent:"",count:"46"},{animalGroup:"cattle",category:"steals",bucket:"steals",percent:"13.043478260869565",count:"6"},{animalGroup:"deer",category:"price",bucket:"<10",percent:"0",count:"0"},{animalGroup:"deer",category:"price",bucket:"10–19.99",percent:"30",count:"15"},{animalGroup:"deer",category:"price",bucket:"20–29.99",percent:"20",count:"10"},{animalGroup:"deer",category:"price",bucket:"30–39.99",percent:"20",count:"10"},{animalGroup:"deer",category:"price",bucket:"40–49.99",percent:"6",count:"3"},{animalGroup:"deer",category:"price",bucket:"50–59.99",percent:"0",count:"0"},{animalGroup:"deer",category:"price",bucket:"60–69.99",percent:"6",count:"3"},{animalGroup:"deer",category:"price",bucket:"70–79.99",percent:"6",count:"3"},{animalGroup:"deer",category:"price",bucket:"80–89.99",percent:"2",count:"1"},{animalGroup:"deer",category:"price",bucket:"90–99.99",percent:"0",count:"0"},{animalGroup:"deer",category:"price",bucket:"100–109.99",percent:"4",count:"2"},{animalGroup:"deer",category:"price",bucket:"110–119.99",percent:"0",count:"0"},{animalGroup:"deer",category:"price",bucket:"120–129.99",percent:"0",count:"0"},{animalGroup:"deer",category:"price",bucket:"130–139.99",percent:"0",count:"0"},{animalGroup:"deer",category:"price",bucket:"140–149.99",percent:"0",count:"0"},{animalGroup:"deer",category:"price",bucket:"150+",percent:"6",count:"3"},{animalGroup:"deer",category:"rating",bucket:"3 & less",percent:"0",count:"0"},{animalGroup:"deer",category:"rating",bucket:"3.1–3.5",percent:"4",count:"2"},{animalGroup:"deer",category:"rating",bucket:"3.6–4",percent:"57.99999999999999",count:"29"},{animalGroup:"deer",category:"rating",bucket:"4.1–4.5",percent:"38",count:"19"},{animalGroup:"deer",category:"rating",bucket:"4.6 & above",percent:"0",count:"0"},{animalGroup:"deer",category:"type",bucket:"Dessert",percent:"0",count:"0"},{animalGroup:"deer",category:"type",bucket:"Fortified",percent:"2",count:"1"},{animalGroup:"deer",category:"type",bucket:"Red",percent:"50",count:"25"},{animalGroup:"deer",category:"type",bucket:"Rose",percent:"8",count:"4"},{animalGroup:"deer",category:"type",bucket:"Sparkling",percent:"2",count:"1"},{animalGroup:"deer",category:"type",bucket:"White",percent:"38",count:"19"},{animalGroup:"deer",category:"country",bucket:"France",percent:"16",count:"8"},{animalGroup:"deer",category:"country",bucket:"United States",percent:"28.000000000000004",count:"14"},{animalGroup:"deer",category:"country",bucket:"Italy",percent:"6",count:"3"},{animalGroup:"deer",category:"country",bucket:"Spain",percent:"12",count:"6"},{animalGroup:"deer",category:"country",bucket:"Argentina",percent:"2",count:"1"},{animalGroup:"deer",category:"country",bucket:"Portugal",percent:"0",count:"0"},{animalGroup:"deer",category:"country",bucket:"South Africa",percent:"18",count:"9"},{animalGroup:"deer",category:"country",bucket:"Australia",percent:"6",count:"3"},{animalGroup:"deer",category:"country",bucket:"Germany",percent:"6",count:"3"},{animalGroup:"deer",category:"country",bucket:"Chile",percent:"2",count:"1"},{animalGroup:"deer",category:"country",bucket:"New Zealand",percent:"0",count:"0"},{animalGroup:"deer",category:"country",bucket:"Austria",percent:"2",count:"1"},{animalGroup:"deer",category:"median",bucket:"medianPrice",percent:"",count:"30.49"},{animalGroup:"deer",category:"median",bucket:"medianRating",percent:"",count:"4"},{animalGroup:"deer",category:"count",bucket:"count",percent:"",count:"50"},{animalGroup:"deer",category:"steals",bucket:"steals",percent:"6",count:"3"},{animalGroup:"fish",category:"price",bucket:"<10",percent:"0",count:"0"},{animalGroup:"fish",category:"price",bucket:"10–19.99",percent:"38.70967741935484",count:"24"},{animalGroup:"fish",category:"price",bucket:"20–29.99",percent:"40.32258064516129",count:"25"},{animalGroup:"fish",category:"price",bucket:"30–39.99",percent:"11.29032258064516",count:"7"},{animalGroup:"fish",category:"price",bucket:"40–49.99",percent:"3.225806451612903",count:"2"},{animalGroup:"fish",category:"price",bucket:"50–59.99",percent:"3.225806451612903",count:"2"},{animalGroup:"fish",category:"price",bucket:"60–69.99",percent:"0",count:"0"},{animalGroup:"fish",category:"price",bucket:"70–79.99",percent:"0",count:"0"},{animalGroup:"fish",category:"price",bucket:"80–89.99",percent:"1.6129032258064515",count:"1"},{animalGroup:"fish",category:"price",bucket:"90–99.99",percent:"0",count:"0"},{animalGroup:"fish",category:"price",bucket:"100–109.99",percent:"0",count:"0"},{animalGroup:"fish",category:"price",bucket:"110–119.99",percent:"0",count:"0"},{animalGroup:"fish",category:"price",bucket:"120–129.99",percent:"0",count:"0"},{animalGroup:"fish",category:"price",bucket:"130–139.99",percent:"0",count:"0"},{animalGroup:"fish",category:"price",bucket:"140–149.99",percent:"0",count:"0"},{animalGroup:"fish",category:"price",bucket:"150+",percent:"1.6129032258064515",count:"1"},{animalGroup:"fish",category:"rating",bucket:"3 & less",percent:"0",count:"0"},{animalGroup:"fish",category:"rating",bucket:"3.1–3.5",percent:"1.6129032258064515",count:"1"},{animalGroup:"fish",category:"rating",bucket:"3.6–4",percent:"74.19354838709677",count:"46"},{animalGroup:"fish",category:"rating",bucket:"4.1–4.5",percent:"24.193548387096776",count:"15"},{animalGroup:"fish",category:"rating",bucket:"4.6 & above",percent:"0",count:"0"},{animalGroup:"fish",category:"type",bucket:"Dessert",percent:"1.6129032258064515",count:"1"},{animalGroup:"fish",category:"type",bucket:"Fortified",percent:"0",count:"0"},{animalGroup:"fish",category:"type",bucket:"Red",percent:"24.193548387096776",count:"15"},{animalGroup:"fish",category:"type",bucket:"Rose",percent:"9.67741935483871",count:"6"},{animalGroup:"fish",category:"type",bucket:"Sparkling",percent:"3.225806451612903",count:"2"},{animalGroup:"fish",category:"type",bucket:"White",percent:"61.29032258064516",count:"38"},{animalGroup:"fish",category:"country",bucket:"France",percent:"12.903225806451612",count:"8"},{animalGroup:"fish",category:"country",bucket:"United States",percent:"22.58064516129032",count:"14"},{animalGroup:"fish",category:"country",bucket:"Italy",percent:"11.29032258064516",count:"7"},{animalGroup:"fish",category:"country",bucket:"Spain",percent:"11.29032258064516",count:"7"},{animalGroup:"fish",category:"country",bucket:"Argentina",percent:"3.225806451612903",count:"2"},{animalGroup:"fish",category:"country",bucket:"Portugal",percent:"3.225806451612903",count:"2"},{animalGroup:"fish",category:"country",bucket:"South Africa",percent:"6.451612903225806",count:"4"},{animalGroup:"fish",category:"country",bucket:"Australia",percent:"14.516129032258066",count:"9"},{animalGroup:"fish",category:"country",bucket:"Germany",percent:"4.838709677419355",count:"3"},{animalGroup:"fish",category:"country",bucket:"Chile",percent:"0",count:"0"},{animalGroup:"fish",category:"country",bucket:"New Zealand",percent:"4.838709677419355",count:"3"},{animalGroup:"fish",category:"country",bucket:"Austria",percent:"3.225806451612903",count:"2"},{animalGroup:"fish",category:"median",bucket:"medianPrice",percent:"",count:"24.99"},{animalGroup:"fish",category:"median",bucket:"medianRating",percent:"",count:"3.9"},{animalGroup:"fish",category:"count",bucket:"count",percent:"",count:"62"},{animalGroup:"fish",category:"steals",bucket:"steals",percent:"24.193548387096776",count:"15"},{animalGroup:"horse",category:"price",bucket:"<10",percent:"2.7586206896551726",count:"4"},{animalGroup:"horse",category:"price",bucket:"10–19.99",percent:"36.55172413793103",count:"53"},{animalGroup:"horse",category:"price",bucket:"20–29.99",percent:"16.551724137931036",count:"24"},{animalGroup:"horse",category:"price",bucket:"30–39.99",percent:"11.03448275862069",count:"16"},{animalGroup:"horse",category:"price",bucket:"40–49.99",percent:"11.724137931034482",count:"17"},{animalGroup:"horse",category:"price",bucket:"50–59.99",percent:"5.517241379310345",count:"8"},{animalGroup:"horse",category:"price",bucket:"60–69.99",percent:"4.827586206896552",count:"7"},{animalGroup:"horse",category:"price",bucket:"70–79.99",percent:"2.0689655172413794",count:"3"},{animalGroup:"horse",category:"price",bucket:"80–89.99",percent:"2.0689655172413794",count:"3"},{animalGroup:"horse",category:"price",bucket:"90–99.99",percent:"2.0689655172413794",count:"3"},{animalGroup:"horse",category:"price",bucket:"100–109.99",percent:"0",count:"0"},{animalGroup:"horse",category:"price",bucket:"110–119.99",percent:"2.0689655172413794",count:"3"},{animalGroup:"horse",category:"price",bucket:"120–129.99",percent:"0.6896551724137931",count:"1"},{animalGroup:"horse",category:"price",bucket:"130–139.99",percent:"0",count:"0"},{animalGroup:"horse",category:"price",bucket:"140–149.99",percent:"0",count:"0"},{animalGroup:"horse",category:"price",bucket:"150+",percent:"2.0689655172413794",count:"3"},{animalGroup:"horse",category:"rating",bucket:"3 & less",percent:"0.6896551724137931",count:"1"},{animalGroup:"horse",category:"rating",bucket:"3.1–3.5",percent:"9.655172413793103",count:"14"},{animalGroup:"horse",category:"rating",bucket:"3.6–4",percent:"48.96551724137931",count:"71"},{animalGroup:"horse",category:"rating",bucket:"4.1–4.5",percent:"39.310344827586206",count:"57"},{animalGroup:"horse",category:"rating",bucket:"4.6 & above",percent:"1.3793103448275863",count:"2"},{animalGroup:"horse",category:"type",bucket:"Dessert",percent:"3.4482758620689653",count:"5"},{animalGroup:"horse",category:"type",bucket:"Fortified",percent:"0.6896551724137931",count:"1"},{animalGroup:"horse",category:"type",bucket:"Red",percent:"43.44827586206896",count:"63"},{animalGroup:"horse",category:"type",bucket:"Rose",percent:"6.896551724137931",count:"10"},{animalGroup:"horse",category:"type",bucket:"Sparkling",percent:"7.586206896551724",count:"11"},{animalGroup:"horse",category:"type",bucket:"White",percent:"37.93103448275862",count:"55"},{animalGroup:"horse",category:"country",bucket:"France",percent:"20.689655172413794",count:"30"},{animalGroup:"horse",category:"country",bucket:"United States",percent:"21.379310344827587",count:"31"},{animalGroup:"horse",category:"country",bucket:"Italy",percent:"28.965517241379313",count:"42"},{animalGroup:"horse",category:"country",bucket:"Spain",percent:"4.137931034482759",count:"6"},{animalGroup:"horse",category:"country",bucket:"Argentina",percent:"6.206896551724138",count:"9"},{animalGroup:"horse",category:"country",bucket:"Portugal",percent:"2.0689655172413794",count:"3"},{animalGroup:"horse",category:"country",bucket:"South Africa",percent:"4.137931034482759",count:"6"},{animalGroup:"horse",category:"country",bucket:"Australia",percent:"0.6896551724137931",count:"1"},{animalGroup:"horse",category:"country",bucket:"Germany",percent:"2.7586206896551726",count:"4"},{animalGroup:"horse",category:"country",bucket:"Chile",percent:"4.137931034482759",count:"6"},{animalGroup:"horse",category:"country",bucket:"New Zealand",percent:"1.3793103448275863",count:"2"},{animalGroup:"horse",category:"country",bucket:"Austria",percent:"0.6896551724137931",count:"1"},{animalGroup:"horse",category:"median",bucket:"medianPrice",percent:"",count:"25"},{animalGroup:"horse",category:"median",bucket:"medianRating",percent:"",count:"4"},{animalGroup:"horse",category:"count",bucket:"count",percent:"",count:"145"},{animalGroup:"horse",category:"steals",bucket:"steals",percent:"14.482758620689657",count:"21"},{animalGroup:"human",category:"price",bucket:"<10",percent:"2.1148036253776437",count:"21"},{animalGroup:"human",category:"price",bucket:"10–19.99",percent:"27.59315206445116",count:"274"},{animalGroup:"human",category:"price",bucket:"20–29.99",percent:"26.586102719033235",count:"264"},{animalGroup:"human",category:"price",bucket:"30–39.99",percent:"13.39375629405841",count:"133"},{animalGroup:"human",category:"price",bucket:"40–49.99",percent:"8.358509566968781",count:"83"},{animalGroup:"human",category:"price",bucket:"50–59.99",percent:"5.53877139979859",count:"55"},{animalGroup:"human",category:"price",bucket:"60–69.99",percent:"3.726082578046324",count:"37"},{animalGroup:"human",category:"price",bucket:"70–79.99",percent:"1.812688821752266",count:"18"},{animalGroup:"human",category:"price",bucket:"80–89.99",percent:"2.3162134944612287",count:"23"},{animalGroup:"human",category:"price",bucket:"90–99.99",percent:"1.6112789526686808",count:"16"},{animalGroup:"human",category:"price",bucket:"100–109.99",percent:"1.0070493454179255",count:"10"},{animalGroup:"human",category:"price",bucket:"110–119.99",percent:"0.4028197381671702",count:"4"},{animalGroup:"human",category:"price",bucket:"120–129.99",percent:"1.0070493454179255",count:"10"},{animalGroup:"human",category:"price",bucket:"130–139.99",percent:"0",count:"0"},{animalGroup:"human",category:"price",bucket:"140–149.99",percent:"0.7049345417925479",count:"7"},{animalGroup:"human",category:"price",bucket:"150+",percent:"3.826787512588117",count:"38"},{animalGroup:"human",category:"rating",bucket:"3 & less",percent:"0.2014098690835851",count:"2"},{animalGroup:"human",category:"rating",bucket:"3.1–3.5",percent:"5.740181268882175",count:"57"},{animalGroup:"human",category:"rating",bucket:"3.6–4",percent:"55.99194360523666",count:"556"},{animalGroup:"human",category:"rating",bucket:"4.1–4.5",percent:"37.05941591137966",count:"368"},{animalGroup:"human",category:"rating",bucket:"4.6 & above",percent:"1.0070493454179255",count:"10"},{animalGroup:"human",category:"type",bucket:"Dessert",percent:"1.812688821752266",count:"18"},{animalGroup:"human",category:"type",bucket:"Fortified",percent:"1.6112789526686808",count:"16"},{animalGroup:"human",category:"type",bucket:"Red",percent:"43.605236656596176",count:"433"},{animalGroup:"human",category:"type",bucket:"Rose",percent:"8.66062437059416",count:"86"},{animalGroup:"human",category:"type",bucket:"Sparkling",percent:"8.761329305135952",count:"87"},{animalGroup:"human",category:"type",bucket:"White",percent:"35.54884189325277",count:"353"},{animalGroup:"human",category:"country",bucket:"France",percent:"20.84592145015106",count:"207"},{animalGroup:"human",category:"country",bucket:"United States",percent:"18.22759315206445",count:"181"},{animalGroup:"human",category:"country",bucket:"Italy",percent:"24.169184290030213",count:"240"},{animalGroup:"human",category:"country",bucket:"Spain",percent:"12.386706948640484",count:"123"},{animalGroup:"human",category:"country",bucket:"Argentina",percent:"4.632426988922457",count:"46"},{animalGroup:"human",category:"country",bucket:"Portugal",percent:"2.6183282980866065",count:"26"},{animalGroup:"human",category:"country",bucket:"South Africa",percent:"3.0211480362537766",count:"30"},{animalGroup:"human",category:"country",bucket:"Australia",percent:"3.5246727089627394",count:"35"},{animalGroup:"human",category:"country",bucket:"Germany",percent:"2.920443101711984",count:"29"},{animalGroup:"human",category:"country",bucket:"Chile",percent:"3.5246727089627394",count:"35"},{animalGroup:"human",category:"country",bucket:"New Zealand",percent:"1.3091641490433032",count:"13"},{animalGroup:"human",category:"country",bucket:"Austria",percent:"1.9133937562940584",count:"19"},{animalGroup:"human",category:"median",bucket:"medianPrice",percent:"",count:"27.335"},{animalGroup:"human",category:"median",bucket:"medianRating",percent:"",count:"4"},{animalGroup:"human",category:"count",bucket:"count",percent:"",count:"993"},{animalGroup:"human",category:"steals",bucket:"steals",percent:"13.595166163141995",count:"135"},{animalGroup:"marine invertebrate",category:"price",bucket:"<10",percent:"3.0303030303030303",count:"1"},{animalGroup:"marine invertebrate",category:"price",bucket:"10–19.99",percent:"39.39393939393939",count:"13"},{animalGroup:"marine invertebrate",category:"price",bucket:"20–29.99",percent:"21.21212121212121",count:"7"},{animalGroup:"marine invertebrate",category:"price",bucket:"30–39.99",percent:"21.21212121212121",count:"7"},{animalGroup:"marine invertebrate",category:"price",bucket:"40–49.99",percent:"12.121212121212121",count:"4"},{animalGroup:"marine invertebrate",category:"price",bucket:"50–59.99",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"price",bucket:"60–69.99",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"price",bucket:"70–79.99",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"price",bucket:"80–89.99",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"price",bucket:"90–99.99",percent:"3.0303030303030303",count:"1"},{animalGroup:"marine invertebrate",category:"price",bucket:"100–109.99",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"price",bucket:"110–119.99",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"price",bucket:"120–129.99",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"price",bucket:"130–139.99",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"price",bucket:"140–149.99",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"price",bucket:"150+",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"rating",bucket:"3 & less",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"rating",bucket:"3.1–3.5",percent:"3.0303030303030303",count:"1"},{animalGroup:"marine invertebrate",category:"rating",bucket:"3.6–4",percent:"78.78787878787878",count:"26"},{animalGroup:"marine invertebrate",category:"rating",bucket:"4.1–4.5",percent:"18.181818181818183",count:"6"},{animalGroup:"marine invertebrate",category:"rating",bucket:"4.6 & above",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"type",bucket:"Dessert",percent:"3.0303030303030303",count:"1"},{animalGroup:"marine invertebrate",category:"type",bucket:"Fortified",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"type",bucket:"Red",percent:"15.151515151515152",count:"5"},{animalGroup:"marine invertebrate",category:"type",bucket:"Rose",percent:"9.090909090909092",count:"3"},{animalGroup:"marine invertebrate",category:"type",bucket:"Sparkling",percent:"3.0303030303030303",count:"1"},{animalGroup:"marine invertebrate",category:"type",bucket:"White",percent:"69.6969696969697",count:"23"},{animalGroup:"marine invertebrate",category:"country",bucket:"France",percent:"30.303030303030305",count:"10"},{animalGroup:"marine invertebrate",category:"country",bucket:"United States",percent:"12.121212121212121",count:"4"},{animalGroup:"marine invertebrate",category:"country",bucket:"Italy",percent:"21.21212121212121",count:"7"},{animalGroup:"marine invertebrate",category:"country",bucket:"Spain",percent:"15.151515151515152",count:"5"},{animalGroup:"marine invertebrate",category:"country",bucket:"Argentina",percent:"3.0303030303030303",count:"1"},{animalGroup:"marine invertebrate",category:"country",bucket:"Portugal",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"country",bucket:"South Africa",percent:"3.0303030303030303",count:"1"},{animalGroup:"marine invertebrate",category:"country",bucket:"Australia",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"country",bucket:"Germany",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"country",bucket:"Chile",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"country",bucket:"New Zealand",percent:"15.151515151515152",count:"5"},{animalGroup:"marine invertebrate",category:"country",bucket:"Austria",percent:"0",count:"0"},{animalGroup:"marine invertebrate",category:"median",bucket:"medianPrice",percent:"",count:"22.67"},{animalGroup:"marine invertebrate",category:"median",bucket:"medianRating",percent:"",count:"3.9"},{animalGroup:"marine invertebrate",category:"count",bucket:"count",percent:"",count:"33"},{animalGroup:"marine invertebrate",category:"steals",bucket:"steals",percent:"18.181818181818183",count:"6"},{animalGroup:"mythical creature",category:"price",bucket:"<10",percent:"0",count:"0"},{animalGroup:"mythical creature",category:"price",bucket:"10–19.99",percent:"20.491803278688526",count:"25"},{animalGroup:"mythical creature",category:"price",bucket:"20–29.99",percent:"23.770491803278688",count:"29"},{animalGroup:"mythical creature",category:"price",bucket:"30–39.99",percent:"12.295081967213115",count:"15"},{animalGroup:"mythical creature",category:"price",bucket:"40–49.99",percent:"9.01639344262295",count:"11"},{animalGroup:"mythical creature",category:"price",bucket:"50–59.99",percent:"6.557377049180328",count:"8"},{animalGroup:"mythical creature",category:"price",bucket:"60–69.99",percent:"3.278688524590164",count:"4"},{animalGroup:"mythical creature",category:"price",bucket:"70–79.99",percent:"4.918032786885246",count:"6"},{animalGroup:"mythical creature",category:"price",bucket:"80–89.99",percent:"4.098360655737705",count:"5"},{animalGroup:"mythical creature",category:"price",bucket:"90–99.99",percent:"0.819672131147541",count:"1"},{animalGroup:"mythical creature",category:"price",bucket:"100–109.99",percent:"2.459016393442623",count:"3"},{animalGroup:"mythical creature",category:"price",bucket:"110–119.99",percent:"0.819672131147541",count:"1"},{animalGroup:"mythical creature",category:"price",bucket:"120–129.99",percent:"2.459016393442623",count:"3"},{animalGroup:"mythical creature",category:"price",bucket:"130–139.99",percent:"1.639344262295082",count:"2"},{animalGroup:"mythical creature",category:"price",bucket:"140–149.99",percent:"1.639344262295082",count:"2"},{animalGroup:"mythical creature",category:"price",bucket:"150+",percent:"5.737704918032787",count:"7"},{animalGroup:"mythical creature",category:"rating",bucket:"3 & less",percent:"0",count:"0"},{animalGroup:"mythical creature",category:"rating",bucket:"3.1–3.5",percent:"5.737704918032787",count:"7"},{animalGroup:"mythical creature",category:"rating",bucket:"3.6–4",percent:"42.62295081967213",count:"52"},{animalGroup:"mythical creature",category:"rating",bucket:"4.1–4.5",percent:"49.18032786885246",count:"60"},{animalGroup:"mythical creature",category:"rating",bucket:"4.6 & above",percent:"2.459016393442623",count:"3"},{animalGroup:"mythical creature",category:"type",bucket:"Dessert",percent:"1.639344262295082",count:"2"},{animalGroup:"mythical creature",category:"type",bucket:"Fortified",percent:"2.459016393442623",count:"3"},{animalGroup:"mythical creature",category:"type",bucket:"Red",percent:"46.72131147540984",count:"57"},{animalGroup:"mythical creature",category:"type",bucket:"Rose",percent:"4.918032786885246",count:"6"},{animalGroup:"mythical creature",category:"type",bucket:"Sparkling",percent:"6.557377049180328",count:"8"},{animalGroup:"mythical creature",category:"type",bucket:"White",percent:"37.704918032786885",count:"46"},{animalGroup:"mythical creature",category:"country",bucket:"France",percent:"21.311475409836063",count:"26"},{animalGroup:"mythical creature",category:"country",bucket:"United States",percent:"22.131147540983605",count:"27"},{animalGroup:"mythical creature",category:"country",bucket:"Italy",percent:"30.327868852459016",count:"37"},{animalGroup:"mythical creature",category:"country",bucket:"Spain",percent:"9.01639344262295",count:"11"},{animalGroup:"mythical creature",category:"country",bucket:"Argentina",percent:"2.459016393442623",count:"3"},{animalGroup:"mythical creature",category:"country",bucket:"Portugal",percent:"0.819672131147541",count:"1"},{animalGroup:"mythical creature",category:"country",bucket:"South Africa",percent:"2.459016393442623",count:"3"},{animalGroup:"mythical creature",category:"country",bucket:"Australia",percent:"3.278688524590164",count:"4"},{animalGroup:"mythical creature",category:"country",bucket:"Germany",percent:"2.459016393442623",count:"3"},{animalGroup:"mythical creature",category:"country",bucket:"Chile",percent:"2.459016393442623",count:"3"},{animalGroup:"mythical creature",category:"country",bucket:"New Zealand",percent:"0",count:"0"},{animalGroup:"mythical creature",category:"country",bucket:"Austria",percent:"1.639344262295082",count:"2"},{animalGroup:"mythical creature",category:"median",bucket:"medianPrice",percent:"",count:"34.99"},{animalGroup:"mythical creature",category:"median",bucket:"medianRating",percent:"",count:"4.1"},{animalGroup:"mythical creature",category:"count",bucket:"count",percent:"",count:"122"},{animalGroup:"mythical creature",category:"steals",bucket:"steals",percent:"14.754098360655737",count:"18"},{animalGroup:"none",category:"price",bucket:"<10",percent:"1.4414157271300128",count:"101"},{animalGroup:"none",category:"price",bucket:"10–19.99",percent:"23.462252033680606",count:"1644"},{animalGroup:"none",category:"price",bucket:"20–29.99",percent:"24.975024975024976",count:"1750"},{animalGroup:"none",category:"price",bucket:"30–39.99",percent:"14.043099757385471",count:"984"},{animalGroup:"none",category:"price",bucket:"40–49.99",percent:"8.334522620236907",count:"584"},{animalGroup:"none",category:"price",bucket:"50–59.99",percent:"6.507777936349365",count:"456"},{animalGroup:"none",category:"price",bucket:"60–69.99",percent:"4.424147281290138",count:"310"},{animalGroup:"none",category:"price",bucket:"70–79.99",percent:"3.1825317539603257",count:"223"},{animalGroup:"none",category:"price",bucket:"80–89.99",percent:"2.240616526330812",count:"157"},{animalGroup:"none",category:"price",bucket:"90–99.99",percent:"1.8838304552590266",count:"132"},{animalGroup:"none",category:"price",bucket:"100–109.99",percent:"1.2701584130155559",count:"89"},{animalGroup:"none",category:"price",bucket:"110–119.99",percent:"0.856286570572285",count:"60"},{animalGroup:"none",category:"price",bucket:"120–129.99",percent:"1.0560867703724848",count:"74"},{animalGroup:"none",category:"price",bucket:"130–139.99",percent:"0.6707578136149565",count:"47"},{animalGroup:"none",category:"price",bucket:"140–149.99",percent:"0.6279434850863422",count:"44"},{animalGroup:"none",category:"price",bucket:"150+",percent:"5.023547880690738",count:"352"},{animalGroup:"none",category:"rating",bucket:"3 & less",percent:"0.0999000999000999",count:"7"},{animalGroup:"none",category:"rating",bucket:"3.1–3.5",percent:"4.681033252461824",count:"328"},{animalGroup:"none",category:"rating",bucket:"3.6–4",percent:"49.89296417867846",count:"3496"},{animalGroup:"none",category:"rating",bucket:"4.1–4.5",percent:"43.741972313400886",count:"3065"},{animalGroup:"none",category:"rating",bucket:"4.6 & above",percent:"1.5841301555587268",count:"111"},{animalGroup:"none",category:"type",bucket:"Dessert",percent:"2.2548879691736836",count:"158"},{animalGroup:"none",category:"type",bucket:"Fortified",percent:"1.4556871699728844",count:"102"},{animalGroup:"none",category:"type",bucket:"Red",percent:"43.29955758527187",count:"3034"},{animalGroup:"none",category:"type",bucket:"Rose",percent:"8.091908091908092",count:"567"},{animalGroup:"none",category:"type",bucket:"Sparkling",percent:"7.892107892107893",count:"553"},{animalGroup:"none",category:"type",bucket:"White",percent:"37.00585129156558",count:"2593"},{animalGroup:"none",category:"country",bucket:"France",percent:"27.32981304409876",count:"1915"},{animalGroup:"none",category:"country",bucket:"United States",percent:"22.49179392036535",count:"1576"},{animalGroup:"none",category:"country",bucket:"Italy",percent:"20.322534608248894",count:"1424"},{animalGroup:"none",category:"country",bucket:"Spain",percent:"9.875838447267018",count:"692"},{animalGroup:"none",category:"country",bucket:"Argentina",percent:"3.0112744398458684",count:"211"},{animalGroup:"none",category:"country",bucket:"Portugal",percent:"2.7258455829884403",count:"191"},{animalGroup:"none",category:"country",bucket:"South Africa",percent:"2.2263450834879404",count:"156"},{animalGroup:"none",category:"country",bucket:"Australia",percent:"2.4261452832881405",count:"170"},{animalGroup:"none",category:"country",bucket:"Germany",percent:"2.169259312116455",count:"152"},{animalGroup:"none",category:"country",bucket:"Chile",percent:"2.2263450834879404",count:"156"},{animalGroup:"none",category:"country",bucket:"New Zealand",percent:"2.097902097902098",count:"147"},{animalGroup:"none",category:"country",bucket:"Austria",percent:"1.8124732410446696",count:"127"},{animalGroup:"none",category:"median",bucket:"medianPrice",percent:"",count:"29.99"},{animalGroup:"none",category:"median",bucket:"medianRating",percent:"",count:"4"},{animalGroup:"none",category:"count",bucket:"count",percent:"",count:"7007"},{animalGroup:"none",category:"steals",bucket:"steals",percent:"13.871842443271015",count:"972"},{animalGroup:"pachyderm",category:"price",bucket:"<10",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"price",bucket:"10–19.99",percent:"33.33333333333333",count:"8"},{animalGroup:"pachyderm",category:"price",bucket:"20–29.99",percent:"33.33333333333333",count:"8"},{animalGroup:"pachyderm",category:"price",bucket:"30–39.99",percent:"4.166666666666666",count:"1"},{animalGroup:"pachyderm",category:"price",bucket:"40–49.99",percent:"8.333333333333332",count:"2"},{animalGroup:"pachyderm",category:"price",bucket:"50–59.99",percent:"4.166666666666666",count:"1"},{animalGroup:"pachyderm",category:"price",bucket:"60–69.99",percent:"4.166666666666666",count:"1"},{animalGroup:"pachyderm",category:"price",bucket:"70–79.99",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"price",bucket:"80–89.99",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"price",bucket:"90–99.99",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"price",bucket:"100–109.99",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"price",bucket:"110–119.99",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"price",bucket:"120–129.99",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"price",bucket:"130–139.99",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"price",bucket:"140–149.99",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"price",bucket:"150+",percent:"12.5",count:"3"},{animalGroup:"pachyderm",category:"rating",bucket:"3 & less",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"rating",bucket:"3.1–3.5",percent:"12.5",count:"3"},{animalGroup:"pachyderm",category:"rating",bucket:"3.6–4",percent:"58.333333333333336",count:"14"},{animalGroup:"pachyderm",category:"rating",bucket:"4.1–4.5",percent:"25",count:"6"},{animalGroup:"pachyderm",category:"rating",bucket:"4.6 & above",percent:"4.166666666666666",count:"1"},{animalGroup:"pachyderm",category:"type",bucket:"Dessert",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"type",bucket:"Fortified",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"type",bucket:"Red",percent:"37.5",count:"9"},{animalGroup:"pachyderm",category:"type",bucket:"Rose",percent:"12.5",count:"3"},{animalGroup:"pachyderm",category:"type",bucket:"Sparkling",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"type",bucket:"White",percent:"50",count:"12"},{animalGroup:"pachyderm",category:"country",bucket:"France",percent:"16.666666666666664",count:"4"},{animalGroup:"pachyderm",category:"country",bucket:"United States",percent:"25",count:"6"},{animalGroup:"pachyderm",category:"country",bucket:"Italy",percent:"16.666666666666664",count:"4"},{animalGroup:"pachyderm",category:"country",bucket:"Spain",percent:"4.166666666666666",count:"1"},{animalGroup:"pachyderm",category:"country",bucket:"Argentina",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"country",bucket:"Portugal",percent:"4.166666666666666",count:"1"},{animalGroup:"pachyderm",category:"country",bucket:"South Africa",percent:"25",count:"6"},{animalGroup:"pachyderm",category:"country",bucket:"Australia",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"country",bucket:"Germany",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"country",bucket:"Chile",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"country",bucket:"New Zealand",percent:"0",count:"0"},{animalGroup:"pachyderm",category:"country",bucket:"Austria",percent:"4.166666666666666",count:"1"},{animalGroup:"pachyderm",category:"median",bucket:"medianPrice",percent:"",count:"24.22"},{animalGroup:"pachyderm",category:"median",bucket:"medianRating",percent:"",count:"3.9"},{animalGroup:"pachyderm",category:"count",bucket:"count",percent:"",count:"24"},{animalGroup:"pachyderm",category:"steals",bucket:"steals",percent:"8.333333333333332",count:"2"},{animalGroup:"rabbit",category:"price",bucket:"<10",percent:"0",count:"0"},{animalGroup:"rabbit",category:"price",bucket:"10–19.99",percent:"24",count:"6"},{animalGroup:"rabbit",category:"price",bucket:"20–29.99",percent:"32",count:"8"},{animalGroup:"rabbit",category:"price",bucket:"30–39.99",percent:"24",count:"6"},{animalGroup:"rabbit",category:"price",bucket:"40–49.99",percent:"4",count:"1"},{animalGroup:"rabbit",category:"price",bucket:"50–59.99",percent:"0",count:"0"},{animalGroup:"rabbit",category:"price",bucket:"60–69.99",percent:"4",count:"1"},{animalGroup:"rabbit",category:"price",bucket:"70–79.99",percent:"0",count:"0"},{animalGroup:"rabbit",category:"price",bucket:"80–89.99",percent:"0",count:"0"},{animalGroup:"rabbit",category:"price",bucket:"90–99.99",percent:"4",count:"1"},{animalGroup:"rabbit",category:"price",bucket:"100–109.99",percent:"0",count:"0"},{animalGroup:"rabbit",category:"price",bucket:"110–119.99",percent:"4",count:"1"},{animalGroup:"rabbit",category:"price",bucket:"120–129.99",percent:"0",count:"0"},{animalGroup:"rabbit",category:"price",bucket:"130–139.99",percent:"0",count:"0"},{animalGroup:"rabbit",category:"price",bucket:"140–149.99",percent:"0",count:"0"},{animalGroup:"rabbit",category:"price",bucket:"150+",percent:"4",count:"1"},{animalGroup:"rabbit",category:"rating",bucket:"3 & less",percent:"0",count:"0"},{animalGroup:"rabbit",category:"rating",bucket:"3.1–3.5",percent:"4",count:"1"},{animalGroup:"rabbit",category:"rating",bucket:"3.6–4",percent:"56.00000000000001",count:"14"},{animalGroup:"rabbit",category:"rating",bucket:"4.1–4.5",percent:"40",count:"10"},{animalGroup:"rabbit",category:"rating",bucket:"4.6 & above",percent:"0",count:"0"},{animalGroup:"rabbit",category:"type",bucket:"Dessert",percent:"4",count:"1"},{animalGroup:"rabbit",category:"type",bucket:"Fortified",percent:"0",count:"0"},{animalGroup:"rabbit",category:"type",bucket:"Red",percent:"44",count:"11"},{animalGroup:"rabbit",category:"type",bucket:"Rose",percent:"8",count:"2"},{animalGroup:"rabbit",category:"type",bucket:"Sparkling",percent:"4",count:"1"},{animalGroup:"rabbit",category:"type",bucket:"White",percent:"40",count:"10"},{animalGroup:"rabbit",category:"country",bucket:"France",percent:"12",count:"3"},{animalGroup:"rabbit",category:"country",bucket:"United States",percent:"16",count:"4"},{animalGroup:"rabbit",category:"country",bucket:"Italy",percent:"20",count:"5"},{animalGroup:"rabbit",category:"country",bucket:"Spain",percent:"16",count:"4"},{animalGroup:"rabbit",category:"country",bucket:"Argentina",percent:"8",count:"2"},{animalGroup:"rabbit",category:"country",bucket:"Portugal",percent:"0",count:"0"},{animalGroup:"rabbit",category:"country",bucket:"South Africa",percent:"0",count:"0"},{animalGroup:"rabbit",category:"country",bucket:"Australia",percent:"4",count:"1"},{animalGroup:"rabbit",category:"country",bucket:"Germany",percent:"12",count:"3"},{animalGroup:"rabbit",category:"country",bucket:"Chile",percent:"0",count:"0"},{animalGroup:"rabbit",category:"country",bucket:"New Zealand",percent:"0",count:"0"},{animalGroup:"rabbit",category:"country",bucket:"Austria",percent:"12",count:"3"},{animalGroup:"rabbit",category:"median",bucket:"medianPrice",percent:"",count:"29.99"},{animalGroup:"rabbit",category:"median",bucket:"medianRating",percent:"",count:"4"},{animalGroup:"rabbit",category:"count",bucket:"count",percent:"",count:"25"},{animalGroup:"rabbit",category:"steals",bucket:"steals",percent:"12",count:"3"},{animalGroup:"ram",category:"price",bucket:"<10",percent:"1.7543859649122806",count:"1"},{animalGroup:"ram",category:"price",bucket:"10–19.99",percent:"42.10526315789473",count:"24"},{animalGroup:"ram",category:"price",bucket:"20–29.99",percent:"29.82456140350877",count:"17"},{animalGroup:"ram",category:"price",bucket:"30–39.99",percent:"14.035087719298245",count:"8"},{animalGroup:"ram",category:"price",bucket:"40–49.99",percent:"0",count:"0"},{animalGroup:"ram",category:"price",bucket:"50–59.99",percent:"3.508771929824561",count:"2"},{animalGroup:"ram",category:"price",bucket:"60–69.99",percent:"1.7543859649122806",count:"1"},{animalGroup:"ram",category:"price",bucket:"70–79.99",percent:"0",count:"0"},{animalGroup:"ram",category:"price",bucket:"80–89.99",percent:"1.7543859649122806",count:"1"},{animalGroup:"ram",category:"price",bucket:"90–99.99",percent:"0",count:"0"},{animalGroup:"ram",category:"price",bucket:"100–109.99",percent:"0",count:"0"},{animalGroup:"ram",category:"price",bucket:"110–119.99",percent:"0",count:"0"},{animalGroup:"ram",category:"price",bucket:"120–129.99",percent:"1.7543859649122806",count:"1"},{animalGroup:"ram",category:"price",bucket:"130–139.99",percent:"1.7543859649122806",count:"1"},{animalGroup:"ram",category:"price",bucket:"140–149.99",percent:"0",count:"0"},{animalGroup:"ram",category:"price",bucket:"150+",percent:"1.7543859649122806",count:"1"},{animalGroup:"ram",category:"rating",bucket:"3 & less",percent:"0",count:"0"},{animalGroup:"ram",category:"rating",bucket:"3.1–3.5",percent:"5.263157894736842",count:"3"},{animalGroup:"ram",category:"rating",bucket:"3.6–4",percent:"68.42105263157895",count:"39"},{animalGroup:"ram",category:"rating",bucket:"4.1–4.5",percent:"24.561403508771928",count:"14"},{animalGroup:"ram",category:"rating",bucket:"4.6 & above",percent:"1.7543859649122806",count:"1"},{animalGroup:"ram",category:"type",bucket:"Dessert",percent:"0",count:"0"},{animalGroup:"ram",category:"type",bucket:"Fortified",percent:"1.7543859649122806",count:"1"},{animalGroup:"ram",category:"type",bucket:"Red",percent:"33.33333333333333",count:"19"},{animalGroup:"ram",category:"type",bucket:"Rose",percent:"12.280701754385964",count:"7"},{animalGroup:"ram",category:"type",bucket:"Sparkling",percent:"0",count:"0"},{animalGroup:"ram",category:"type",bucket:"White",percent:"52.63157894736842",count:"30"},{animalGroup:"ram",category:"country",bucket:"France",percent:"21.052631578947366",count:"12"},{animalGroup:"ram",category:"country",bucket:"United States",percent:"14.035087719298245",count:"8"},{animalGroup:"ram",category:"country",bucket:"Italy",percent:"21.052631578947366",count:"12"},{animalGroup:"ram",category:"country",bucket:"Spain",percent:"7.017543859649122",count:"4"},{animalGroup:"ram",category:"country",bucket:"Argentina",percent:"1.7543859649122806",count:"1"},{animalGroup:"ram",category:"country",bucket:"Portugal",percent:"5.263157894736842",count:"3"},{animalGroup:"ram",category:"country",bucket:"South Africa",percent:"14.035087719298245",count:"8"},{animalGroup:"ram",category:"country",bucket:"Australia",percent:"5.263157894736842",count:"3"},{animalGroup:"ram",category:"country",bucket:"Germany",percent:"1.7543859649122806",count:"1"},{animalGroup:"ram",category:"country",bucket:"Chile",percent:"0",count:"0"},{animalGroup:"ram",category:"country",bucket:"New Zealand",percent:"5.263157894736842",count:"3"},{animalGroup:"ram",category:"country",bucket:"Austria",percent:"1.7543859649122806",count:"1"},{animalGroup:"ram",category:"median",bucket:"medianPrice",percent:"",count:"21.74"},{animalGroup:"ram",category:"median",bucket:"medianRating",percent:"",count:"3.9"},{animalGroup:"ram",category:"count",bucket:"count",percent:"",count:"57"},{animalGroup:"ram",category:"steals",bucket:"steals",percent:"19.298245614035086",count:"11"},{animalGroup:"pig",category:"price",bucket:"<10",percent:"0",count:"0"},{animalGroup:"pig",category:"price",bucket:"10–19.99",percent:"35.714285714285715",count:"10"},{animalGroup:"pig",category:"price",bucket:"20–29.99",percent:"28.57142857142857",count:"8"},{animalGroup:"pig",category:"price",bucket:"30–39.99",percent:"21.428571428571427",count:"6"},{animalGroup:"pig",category:"price",bucket:"40–49.99",percent:"3.571428571428571",count:"1"},{animalGroup:"pig",category:"price",bucket:"50–59.99",percent:"0",count:"0"},{animalGroup:"pig",category:"price",bucket:"60–69.99",percent:"0",count:"0"},{animalGroup:"pig",category:"price",bucket:"70–79.99",percent:"3.571428571428571",count:"1"},{animalGroup:"pig",category:"price",bucket:"80–89.99",percent:"0",count:"0"},{animalGroup:"pig",category:"price",bucket:"90–99.99",percent:"0",count:"0"},{animalGroup:"pig",category:"price",bucket:"100–109.99",percent:"0",count:"0"},{animalGroup:"pig",category:"price",bucket:"110–119.99",percent:"0",count:"0"},{animalGroup:"pig",category:"price",bucket:"120–129.99",percent:"3.571428571428571",count:"1"},{animalGroup:"pig",category:"price",bucket:"130–139.99",percent:"0",count:"0"},{animalGroup:"pig",category:"price",bucket:"140–149.99",percent:"0",count:"0"},{animalGroup:"pig",category:"price",bucket:"150+",percent:"3.571428571428571",count:"1"},{animalGroup:"pig",category:"rating",bucket:"3 & less",percent:"3.571428571428571",count:"1"},{animalGroup:"pig",category:"rating",bucket:"3.1–3.5",percent:"3.571428571428571",count:"1"},{animalGroup:"pig",category:"rating",bucket:"3.6–4",percent:"60.71428571428571",count:"17"},{animalGroup:"pig",category:"rating",bucket:"4.1–4.5",percent:"32.142857142857146",count:"9"},{animalGroup:"pig",category:"rating",bucket:"4.6 & above",percent:"0",count:"0"},{animalGroup:"pig",category:"type",bucket:"Dessert",percent:"0",count:"0"},{animalGroup:"pig",category:"type",bucket:"Fortified",percent:"3.571428571428571",count:"1"},{animalGroup:"pig",category:"type",bucket:"Red",percent:"46.42857142857143",count:"13"},{animalGroup:"pig",category:"type",bucket:"Rose",percent:"25",count:"7"},{animalGroup:"pig",category:"type",bucket:"Sparkling",percent:"7.142857142857142",count:"2"},{animalGroup:"pig",category:"type",bucket:"White",percent:"17.857142857142858",count:"5"},{animalGroup:"pig",category:"country",bucket:"France",percent:"21.428571428571427",count:"6"},{animalGroup:"pig",category:"country",bucket:"United States",percent:"14.285714285714285",count:"4"},{animalGroup:"pig",category:"country",bucket:"Italy",percent:"21.428571428571427",count:"6"},{animalGroup:"pig",category:"country",bucket:"Spain",percent:"14.285714285714285",count:"4"},{animalGroup:"pig",category:"country",bucket:"Argentina",percent:"0",count:"0"},{animalGroup:"pig",category:"country",bucket:"Portugal",percent:"10.714285714285714",count:"3"},{animalGroup:"pig",category:"country",bucket:"South Africa",percent:"3.571428571428571",count:"1"},{animalGroup:"pig",category:"country",bucket:"Australia",percent:"7.142857142857142",count:"2"},{animalGroup:"pig",category:"country",bucket:"Germany",percent:"0",count:"0"},{animalGroup:"pig",category:"country",bucket:"Chile",percent:"0",count:"0"},{animalGroup:"pig",category:"country",bucket:"New Zealand",percent:"7.142857142857142",count:"2"},{animalGroup:"pig",category:"country",bucket:"Austria",percent:"0",count:"0"},{animalGroup:"pig",category:"median",bucket:"medianPrice",percent:"",count:"23.22"},{animalGroup:"pig",category:"median",bucket:"medianRating",percent:"",count:"3.8"},{animalGroup:"pig",category:"count",bucket:"count",percent:"",count:"28"},{animalGroup:"pig",category:"steals",bucket:"steals",percent:"10.714285714285714",count:"3"},{animalGroup:"all",category:"price",bucket:"<10",percent:"1.535323169422375",count:"143"},{animalGroup:"all",category:"price",bucket:"10–19.99",percent:"24.629589864719776",count:"2294"},{animalGroup:"all",category:"price",bucket:"20–29.99",percent:"25.26304487867726",count:"2353"},{animalGroup:"all",category:"price",bucket:"30–39.99",percent:"13.77496242216019",count:"1283"},{animalGroup:"all",category:"price",bucket:"40–49.99",percent:"8.138286450504618",count:"758"},{animalGroup:"all",category:"price",bucket:"50–59.99",percent:"6.10908310070861",count:"569"},{animalGroup:"all",category:"price",bucket:"60–69.99",percent:"4.273137212797939",count:"398"},{animalGroup:"all",category:"price",bucket:"70–79.99",percent:"2.9525445565814903",count:"275"},{animalGroup:"all",category:"price",bucket:"80–89.99",percent:"2.2117242860210435",count:"206"},{animalGroup:"all",category:"price",bucket:"90–99.99",percent:"1.8788919905518575",count:"175"},{animalGroup:"all",category:"price",bucket:"100–109.99",percent:"1.1917543482928923",count:"111"},{animalGroup:"all",category:"price",bucket:"110–119.99",percent:"0.8374490015031136",count:"78"},{animalGroup:"all",category:"price",bucket:"120–129.99",percent:"0.9662873094266696",count:"90"},{animalGroup:"all",category:"price",bucket:"130–139.99",percent:"0.6119819626368906",count:"57"},{animalGroup:"all",category:"price",bucket:"140–149.99",percent:"0.6334550139574834",count:"59"},{animalGroup:"all",category:"price",bucket:"150+",percent:"4.992484432037793",count:"465"},{animalGroup:"all",category:"rating",bucket:"3 & less",percent:"0.11810178226325961",count:"11"},{animalGroup:"all",category:"rating",bucket:"3.1–3.5",percent:"4.9710113807172",count:"463"},{animalGroup:"all",category:"rating",bucket:"3.6–4",percent:"50.91260468112518",count:"4742"},{animalGroup:"all",category:"rating",bucket:"4.1–4.5",percent:"42.51664161477346",count:"3960"},{animalGroup:"all",category:"rating",bucket:"4.6 & above",percent:"1.4816405411208933",count:"138"},{animalGroup:"all",category:"type",bucket:"Dessert",percent:"2.168778183379858",count:"202"},{animalGroup:"all",category:"type",bucket:"Fortified",percent:"1.470904015460597",count:"137"},{animalGroup:"all",category:"type",bucket:"Red",percent:"42.9783122181662",count:"4003"},{animalGroup:"all",category:"type",bucket:"Rose",percent:"8.12754992484432",count:"757"},{animalGroup:"all",category:"type",bucket:"Sparkling",percent:"7.794717629375134",count:"726"},{animalGroup:"all",category:"type",bucket:"White",percent:"37.459738028773884",count:"3489"},{animalGroup:"all",category:"country",bucket:"France",percent:"25.971655572256818",count:"2419"},{animalGroup:"all",category:"country",bucket:"United States",percent:"21.999141077947176",count:"2049"},{animalGroup:"all",category:"country",bucket:"Italy",percent:"20.828859780974877",count:"1940"},{animalGroup:"all",category:"country",bucket:"Spain",percent:"9.877603607472622",count:"920"},{animalGroup:"all",category:"country",bucket:"Argentina",percent:"3.15653854412712",count:"294"},{animalGroup:"all",category:"country",bucket:"Portugal",percent:"2.7592870946961563",count:"257"},{animalGroup:"all",category:"country",bucket:"South Africa",percent:"2.7270775177152675",count:"254"},{animalGroup:"all",category:"country",bucket:"Australia",percent:"2.716340992054971",count:"253"},{animalGroup:"all",category:"country",bucket:"Germany",percent:"2.3405625939445995",count:"218"},{animalGroup:"all",category:"country",bucket:"Chile",percent:"2.2761434399828215",count:"212"},{animalGroup:"all",category:"country",bucket:"New Zealand",percent:"2.233197337341636",count:"208"},{animalGroup:"all",category:"country",bucket:"Austria",percent:"1.8037363109297833",count:"168"},{animalGroup:"all",category:"median",bucket:"medianPrice",percent:"",count:"29.99"},{animalGroup:"all",category:"median",bucket:"medianRating",percent:"",count:"4"},{animalGroup:"all",category:"count",bucket:"count",percent:"",count:"9314"},{animalGroup:"all",category:"steals",bucket:"steals",percent:"13.94674683272493",count:"1299"},{animalGroup:"animal wines",category:"price",bucket:"<10",percent:"1.5456989247311828",count:"23"},{animalGroup:"animal wines",category:"price",bucket:"10–19.99",percent:"29.0994623655914",count:"433"},{animalGroup:"animal wines",category:"price",bucket:"20–29.99",percent:"25.940860215053764",count:"386"},{animalGroup:"animal wines",category:"price",bucket:"30–39.99",percent:"12.5",count:"186"},{animalGroup:"animal wines",category:"price",bucket:"40–49.99",percent:"7.123655913978495",count:"106"},{animalGroup:"animal wines",category:"price",bucket:"50–59.99",percent:"4.502688172043011",count:"67"},{animalGroup:"animal wines",category:"price",bucket:"60–69.99",percent:"4.032258064516129",count:"60"},{animalGroup:"animal wines",category:"price",bucket:"70–79.99",percent:"2.553763440860215",count:"38"},{animalGroup:"animal wines",category:"price",bucket:"80–89.99",percent:"1.9489247311827957",count:"29"},{animalGroup:"animal wines",category:"price",bucket:"90–99.99",percent:"1.9489247311827957",count:"29"},{animalGroup:"animal wines",category:"price",bucket:"100–109.99",percent:"0.8736559139784945",count:"13"},{animalGroup:"animal wines",category:"price",bucket:"110–119.99",percent:"0.9408602150537635",count:"14"},{animalGroup:"animal wines",category:"price",bucket:"120–129.99",percent:"0.47043010752688175",count:"7"},{animalGroup:"animal wines",category:"price",bucket:"130–139.99",percent:"0.6720430107526881",count:"10"},{animalGroup:"animal wines",category:"price",bucket:"140–149.99",percent:"0.5376344086021506",count:"8"},{animalGroup:"animal wines",category:"price",bucket:"150+",percent:"5.309139784946237",count:"79"},{animalGroup:"animal wines",category:"rating",bucket:"3 & less",percent:"0.13440860215053765",count:"2"},{animalGroup:"animal wines",category:"rating",bucket:"3.1–3.5",percent:"6.115591397849462",count:"91"},{animalGroup:"animal wines",category:"rating",bucket:"3.6–4",percent:"52.755376344086024",count:"785"},{animalGroup:"animal wines",category:"rating",bucket:"4.1–4.5",percent:"39.6505376344086",count:"590"},{animalGroup:"animal wines",category:"rating",bucket:"4.6 & above",percent:"1.3440860215053763",count:"20"},{animalGroup:"animal wines",category:"type",bucket:"Dessert",percent:"1.9489247311827957",count:"29"},{animalGroup:"animal wines",category:"type",bucket:"Fortified",percent:"1.478494623655914",count:"22"},{animalGroup:"animal wines",category:"type",bucket:"Red",percent:"41.263440860215056",count:"614"},{animalGroup:"animal wines",category:"type",bucket:"Rose",percent:"7.997311827956989",count:"119"},{animalGroup:"animal wines",category:"type",bucket:"Sparkling",percent:"6.451612903225806",count:"96"},{animalGroup:"animal wines",category:"type",bucket:"White",percent:"40.86021505376344",count:"608"},{animalGroup:"animal wines",category:"country",bucket:"France",percent:"22.177419354838708",count:"330"},{animalGroup:"animal wines",category:"country",bucket:"United States",percent:"21.370967741935484",count:"318"},{animalGroup:"animal wines",category:"country",bucket:"Italy",percent:"21.841397849462364",count:"325"},{animalGroup:"animal wines",category:"country",bucket:"Spain",percent:"8.131720430107526",count:"121"},{animalGroup:"animal wines",category:"country",bucket:"Argentina",percent:"3.1586021505376345",count:"47"},{animalGroup:"animal wines",category:"country",bucket:"Portugal",percent:"3.0913978494623655",count:"46"},{animalGroup:"animal wines",category:"country",bucket:"South Africa",percent:"5.376344086021505",count:"80"},{animalGroup:"animal wines",category:"country",bucket:"Australia",percent:"3.494623655913978",count:"52"},{animalGroup:"animal wines",category:"country",bucket:"Germany",percent:"2.956989247311828",count:"44"},{animalGroup:"animal wines",category:"country",bucket:"Chile",percent:"1.747311827956989",count:"26"},{animalGroup:"animal wines",category:"country",bucket:"New Zealand",percent:"3.293010752688172",count:"49"},{animalGroup:"animal wines",category:"country",bucket:"Austria",percent:"1.747311827956989",count:"26"},{animalGroup:"animal wines",category:"median",bucket:"medianPrice",percent:"",count:"26.99"},{animalGroup:"animal wines",category:"median",bucket:"medianRating",percent:"",count:"4"},{animalGroup:"animal wines",category:"count",bucket:"count",percent:"",count:"1488"},{animalGroup:"animal wines",category:"steals",bucket:"steals",percent:"14.516129032258066",count:"216"}];function Pa(n,{from:e,to:t},r={}){const a=getComputedStyle(n),l=a.transform==="none"?"":a.transform,[i,o]=a.transformOrigin.split(" ").map(parseFloat),c=e.left+e.width*i/t.width-(t.left+i),s=e.top+e.height*o/t.height-(t.top+o),{delay:f=0,duration:p=h=>Math.sqrt(h)*120,easing:m=o1}=r;return{delay:f,duration:pa(p)?p(Math.sqrt(c*c+s*s)):p,easing:m,css:(h,d)=>{const b=d*c,v=d*s,y=h+d*e.width/t.width,G=h+d*e.height/t.height;return`transform: ${l} translate(${b}px, ${v}px) scale(${y}, ${G});`}}}function _i(n,e,t){const r=n.slice();return r[12]=e[t],r[14]=t,r}function yi(n,e,t){const r=n.slice();return r[12]=e[t],r[14]=t,r}function ki(n){let e,t,r,a,l;const i=[G1,w1],o=[];function c(s,f){return s[3]>700?0:1}return t=c(n),r=o[t]=i[t](n),{c(){e=R("div"),r.c(),this.h()},l(s){e=z(s,"DIV",{class:!0});var f=T(e);r.l(f),f.forEach(g),this.h()},h(){u(e,"class","summary-bottles svelte-1c9vro1")},m(s,f){L(s,e,f),o[t].m(e,null),l=!0},p(s,f){let p=t;t=c(s),t===p?o[t].p(s,f):(Le(),X(o[p],1,1,()=>{o[p]=null}),Ve(),r=o[t],r?r.p(s,f):(r=o[t]=i[t](s),r.c()),q(r,1),r.m(e,null))},i(s){l||(q(r),s&&wt(()=>{l&&(a||(a=fr(e,xt,{},!0)),a.run(1))}),l=!0)},o(s){X(r),s&&(a||(a=fr(e,xt,{},!1)),a.run(0)),l=!1},d(s){s&&g(e),o[t].d(),s&&a&&a.end()}}}function w1(n){let e,t,r,a,l,i,o,c,s,f,p,m,h,d=[],b=new Map,v;r=new Lt({props:{name:"chevron-up"}}),c=new Lt({props:{name:"chevron-down"}});let y=n[2]!==void 0&&vi(n),G=ve(n[1]);const w=k=>k[12][0];for(let k=0;k<G.length;k+=1){let C=_i(n,G,k),E=w(C);b.set(E,d[k]=Si(E,C))}return{c(){e=R("div"),t=R("p"),oe(r.$$.fragment),a=ee("Lower "),l=ee(n[2]),i=U(),o=R("p"),oe(c.$$.fragment),s=ee("Higher "),f=ee(n[2]),p=U(),y&&y.c(),m=U(),h=R("div");for(let k=0;k<d.length;k+=1)d[k].c();this.h()},l(k){e=z(k,"DIV",{class:!0});var C=T(e);t=z(C,"P",{class:!0});var E=T(t);pe(r.$$.fragment,E),a=te(E,"Lower "),l=te(E,n[2]),E.forEach(g),i=Z(C),o=z(C,"P",{class:!0});var A=T(o);pe(c.$$.fragment,A),s=te(A,"Higher "),f=te(A,n[2]),A.forEach(g),p=Z(C),y&&y.l(C),C.forEach(g),m=Z(k),h=z(k,"DIV",{class:!0});var S=T(h);for(let I=0;I<d.length;I+=1)d[I].l(S);S.forEach(g),this.h()},h(){u(t,"class","low svelte-1c9vro1"),u(o,"class","high svelte-1c9vro1"),u(e,"class","labels svelte-1c9vro1"),ye(e,"hidden",n[0]<=5),u(h,"class","animal-wrapper svelte-1c9vro1")},m(k,C){L(k,e,C),_(e,t),ce(r,t,null),_(t,a),_(t,l),_(e,i),_(e,o),ce(c,o,null),_(o,s),_(o,f),_(e,p),y&&y.m(e,null),L(k,m,C),L(k,h,C);for(let E=0;E<d.length;E+=1)d[E]&&d[E].m(h,null);v=!0},p(k,C){if((!v||C&4)&&we(l,k[2]),(!v||C&4)&&we(f,k[2]),k[2]!==void 0?y?y.p(k,C):(y=vi(k),y.c(),y.m(e,null)):y&&(y.d(1),y=null),(!v||C&1)&&ye(e,"hidden",k[0]<=5),C&118){G=ve(k[1]);for(let E=0;E<d.length;E+=1)d[E].r();d=pr(d,C,w,1,k,G,b,h,vl,Si,null,_i);for(let E=0;E<d.length;E+=1)d[E].a()}},i(k){v||(q(r.$$.fragment,k),q(c.$$.fragment,k),v=!0)},o(k){X(r.$$.fragment,k),X(c.$$.fragment,k),v=!1},d(k){k&&(g(e),g(m),g(h)),se(r),se(c),y&&y.d();for(let C=0;C<d.length;C+=1)d[C].d()}}}function G1(n){let e,t=[],r=new Map,a,l,i,o,c,s,f,p,m,h,d,b,v,y=ve(n[1]);const G=k=>k[12][0];for(let k=0;k<y.length;k+=1){let C=yi(n,y,k),E=G(C);r.set(E,t[k]=Ci(E,C))}o=new Lt({props:{name:"chevron-left"}}),d=new Lt({props:{name:"chevron-right"}});let w=n[2]!==void 0&&Ai(n);return{c(){e=R("div");for(let k=0;k<t.length;k+=1)t[k].c();a=U(),l=R("div"),i=R("p"),oe(o.$$.fragment),c=ee("Lower "),s=ee(n[2]),f=U(),p=R("p"),m=ee("Higher "),h=ee(n[2]),oe(d.$$.fragment),b=U(),w&&w.c(),this.h()},l(k){e=z(k,"DIV",{class:!0});var C=T(e);for(let I=0;I<t.length;I+=1)t[I].l(C);C.forEach(g),a=Z(k),l=z(k,"DIV",{class:!0});var E=T(l);i=z(E,"P",{class:!0});var A=T(i);pe(o.$$.fragment,A),c=te(A,"Lower "),s=te(A,n[2]),A.forEach(g),f=Z(E),p=z(E,"P",{class:!0});var S=T(p);m=te(S,"Higher "),h=te(S,n[2]),pe(d.$$.fragment,S),S.forEach(g),b=Z(E),w&&w.l(E),E.forEach(g),this.h()},h(){u(e,"class","animal-wrapper svelte-1c9vro1"),u(i,"class","svelte-1c9vro1"),u(p,"class","svelte-1c9vro1"),u(l,"class","labels svelte-1c9vro1"),ye(l,"hidden",n[0]<=5)},m(k,C){L(k,e,C);for(let E=0;E<t.length;E+=1)t[E]&&t[E].m(e,null);L(k,a,C),L(k,l,C),_(l,i),ce(o,i,null),_(i,c),_(i,s),_(l,f),_(l,p),_(p,m),_(p,h),ce(d,p,null),_(l,b),w&&w.m(l,null),v=!0},p(k,C){if(C&118){y=ve(k[1]);for(let E=0;E<t.length;E+=1)t[E].r();t=pr(t,C,G,1,k,y,r,e,vl,Ci,null,yi);for(let E=0;E<t.length;E+=1)t[E].a()}(!v||C&4)&&we(s,k[2]),(!v||C&4)&&we(h,k[2]),k[2]!==void 0?w?w.p(k,C):(w=Ai(k),w.c(),w.m(l,null)):w&&(w.d(1),w=null),(!v||C&1)&&ye(l,"hidden",k[0]<=5)},i(k){v||(q(o.$$.fragment,k),q(d.$$.fragment,k),v=!0)},o(k){X(o.$$.fragment,k),X(d.$$.fragment,k),v=!1},d(k){k&&(g(e),g(a),g(l));for(let C=0;C<t.length;C+=1)t[C].d();se(o),se(d),w&&w.d()}}}function vi(n){let e,t,r=n[2]=="price"?"$26.99":"4",a,l,i,o,c,s=n[2]=="price"?"Animal wines":"All wines & animal wines",f,p,m,h=n[2]!=="rating"&&wi(n);return{c(){e=R("div"),t=R("p"),a=ee(r),l=U(),i=R("div"),o=U(),c=R("p"),f=ee(s),p=U(),h&&h.c(),m=le(),this.h()},l(d){e=z(d,"DIV",{class:!0,style:!0});var b=T(e);t=z(b,"P",{class:!0});var v=T(t);a=te(v,r),v.forEach(g),l=Z(b),i=z(b,"DIV",{class:!0}),T(i).forEach(g),o=Z(b),c=z(b,"P",{class:!0});var y=T(c);f=te(y,s),y.forEach(g),b.forEach(g),p=Z(d),h&&h.l(d),m=le(),this.h()},h(){u(t,"class","num svelte-1c9vro1"),u(i,"class","median-circle svelte-1c9vro1"),u(c,"class","svelte-1c9vro1"),u(e,"class","median-mark svelte-1c9vro1"),fe(e,"top",n[2]=="price"?"51%":"65%")},m(d,b){L(d,e,b),_(e,t),_(t,a),_(e,l),_(e,i),_(e,o),_(e,c),_(c,f),L(d,p,b),h&&h.m(d,b),L(d,m,b)},p(d,b){b&4&&r!==(r=d[2]=="price"?"$26.99":"4")&&we(a,r),b&4&&s!==(s=d[2]=="price"?"Animal wines":"All wines & animal wines")&&we(f,s),b&4&&fe(e,"top",d[2]=="price"?"51%":"65%"),d[2]!=="rating"?h?h.p(d,b):(h=wi(d),h.c(),h.m(m.parentNode,m)):h&&(h.d(1),h=null)},d(d){d&&(g(e),g(p),g(m)),h&&h.d(d)}}}function wi(n){let e,t,r=n[2]=="price"?"$29.99":"4",a,l,i,o,c,s="All wines";return{c(){e=R("div"),t=R("p"),a=ee(r),l=U(),i=R("div"),o=U(),c=R("p"),c.textContent=s,this.h()},l(f){e=z(f,"DIV",{class:!0,style:!0});var p=T(e);t=z(p,"P",{class:!0});var m=T(t);a=te(m,r),m.forEach(g),l=Z(p),i=z(p,"DIV",{class:!0}),T(i).forEach(g),o=Z(p),c=z(p,"P",{class:!0,"data-svelte-h":!0}),Xe(c)!=="svelte-137d09t"&&(c.textContent=s),p.forEach(g),this.h()},h(){u(t,"class","num svelte-1c9vro1"),u(i,"class","median-circle svelte-1c9vro1"),u(c,"class","svelte-1c9vro1"),u(e,"class","median-mark svelte-1c9vro1"),fe(e,"top","62%")},m(f,p){L(f,e,p),_(e,t),_(t,a),_(e,l),_(e,i),_(e,o),_(e,c)},p(f,p){p&4&&r!==(r=f[2]=="price"?"$29.99":"4")&&we(a,r)},d(f){f&&g(e)}}}function S1(n){let e=n[12][1].medianRating+"",t;return{c(){t=ee(e)},l(r){t=te(r,e)},m(r,a){L(r,t,a)},p(r,a){a&2&&e!==(e=r[12][1].medianRating+"")&&we(t,e)},d(r){r&&g(t)}}}function E1(n){let e,t=n[12][1].medianPrice.toFixed(2)+"",r;return{c(){e=ee("$"),r=ee(t)},l(a){e=te(a,"$"),r=te(a,t)},m(a,l){L(a,e,l),L(a,r,l)},p(a,l){l&2&&t!==(t=a[12][1].medianPrice.toFixed(2)+"")&&we(r,t)},d(a){a&&(g(e),g(r))}}}function C1(n){return{c:ge,l:ge,m:ge,p:ge,d:ge}}function A1(n){let e,t;return{c(){e=R("img"),this.h()},l(r){e=z(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ye(e.src,t="./assets/images/blank-bottle-horiz.png")||u(e,"src",t),u(e,"alt","wine bottle"),u(e,"class","svelte-1c9vro1")},m(r,a){L(r,e,a)},d(r){r&&g(e)}}}function M1(n){let e,t;return{c(){e=R("img"),this.h()},l(r){e=z(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ye(e.src,t="./assets/images/blank-bottle-outline-horiz.png")||u(e,"src",t),u(e,"alt","wine bottle with red outline"),u(e,"class","svelte-1c9vro1")},m(r,a){L(r,e,a)},d(r){r&&g(e)}}}function Gi(n){let e,t=n[6](n[12][0]).subgroups+"",r;return{c(){e=R("p"),r=ee(t),this.h()},l(a){e=z(a,"P",{class:!0});var l=T(e);r=te(l,t),l.forEach(g),this.h()},h(){u(e,"class","subgroup svelte-1c9vro1")},m(a,l){L(a,e,l),_(e,r)},p(a,l){l&2&&t!==(t=a[6](a[12][0]).subgroups+"")&&we(r,t)},d(a){a&&g(e)}}}function Si(n,e){let t,r,a,l,i,o,c,s,f,p,m,h=e[12][0]+"",d,b,v=e[6](e[12][0]),y,G,w=ge;function k(D,P){return D[2]==null?C1:D[2]=="price"?E1:S1}let C=k(e),E=C(e);function A(D,P){return D[12][0]===D[5]?M1:A1}let S=A(e),I=S(e),M=v&&Gi(e);return{key:n,first:null,c(){t=R("div"),r=R("p"),E.c(),a=U(),l=R("div"),I.c(),i=U(),o=R("img"),f=U(),p=R("div"),m=R("p"),d=ee(h),b=U(),M&&M.c(),y=U(),this.h()},l(D){t=z(D,"DIV",{class:!0,style:!0});var P=T(t);r=z(P,"P",{class:!0});var B=T(r);E.l(B),B.forEach(g),a=Z(P),l=z(P,"DIV",{class:!0});var H=T(l);I.l(H),i=Z(H),o=z(H,"IMG",{class:!0,src:!0,alt:!0}),H.forEach(g),f=Z(P),p=z(P,"DIV",{class:!0});var V=T(p);m=z(V,"P",{class:!0});var F=T(m);d=te(F,h),F.forEach(g),b=Z(V),M&&M.l(V),V.forEach(g),y=Z(P),P.forEach(g),this.h()},h(){u(r,"class","num svelte-1c9vro1"),u(o,"class","img-icon svelte-1c9vro1"),Ye(o.src,c="./assets/images/icons/"+e[12][0].replace(/[^a-zA-Z0-9]/g,"")+".png")||u(o,"src",c),u(o,"alt",s=e[12][0]+" icon"),u(l,"class","img-wrapper svelte-1c9vro1"),u(m,"class","svelte-1c9vro1"),u(p,"class","animal-deets svelte-1c9vro1"),u(t,"class","animal-group active svelte-1c9vro1"),fe(t,"transition-delay",(e[1].length-e[14]-1)*100+"ms"),ye(t,"active",e[12][0]===e[5]),ye(t,"animated",e[4]),this.first=t},m(D,P){L(D,t,P),_(t,r),E.m(r,null),_(t,a),_(t,l),I.m(l,null),_(l,i),_(l,o),_(t,f),_(t,p),_(p,m),_(m,d),_(p,b),M&&M.m(p,null),_(t,y)},p(D,P){e=D,C===(C=k(e))&&E?E.p(e,P):(E.d(1),E=C(e),E&&(E.c(),E.m(r,null))),S!==(S=A(e))&&(I.d(1),I=S(e),I&&(I.c(),I.m(l,i))),P&2&&!Ye(o.src,c="./assets/images/icons/"+e[12][0].replace(/[^a-zA-Z0-9]/g,"")+".png")&&u(o,"src",c),P&2&&s!==(s=e[12][0]+" icon")&&u(o,"alt",s),P&2&&h!==(h=e[12][0]+"")&&we(d,h),P&2&&(v=e[6](e[12][0])),v?M?M.p(e,P):(M=Gi(e),M.c(),M.m(p,null)):M&&(M.d(1),M=null),P&2&&fe(t,"transition-delay",(e[1].length-e[14]-1)*100+"ms"),P&34&&ye(t,"active",e[12][0]===e[5]),P&16&&ye(t,"animated",e[4])},r(){G=t.getBoundingClientRect()},f(){Ma(t),w()},a(){w(),w=Aa(t,G,Pa,{duration:1e3})},d(D){D&&g(t),E.d(),I.d(),M&&M.d()}}}function I1(n){let e=n[12][1].medianRating+"",t;return{c(){t=ee(e)},l(r){t=te(r,e)},m(r,a){L(r,t,a)},p(r,a){a&2&&e!==(e=r[12][1].medianRating+"")&&we(t,e)},d(r){r&&g(t)}}}function D1(n){let e,t=n[12][1].medianPrice.toFixed(2)+"",r;return{c(){e=ee("$"),r=ee(t)},l(a){e=te(a,"$"),r=te(a,t)},m(a,l){L(a,e,l),L(a,r,l)},p(a,l){l&2&&t!==(t=a[12][1].medianPrice.toFixed(2)+"")&&we(r,t)},d(a){a&&(g(e),g(r))}}}function T1(n){return{c:ge,l:ge,m:ge,p:ge,d:ge}}function P1(n){let e,t;return{c(){e=R("img"),this.h()},l(r){e=z(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ye(e.src,t="./assets/images/blank-bottle.png")||u(e,"src",t),u(e,"alt","wine bottle"),u(e,"class","svelte-1c9vro1")},m(r,a){L(r,e,a)},d(r){r&&g(e)}}}function R1(n){let e,t;return{c(){e=R("img"),this.h()},l(r){e=z(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ye(e.src,t="./assets/images/blank-bottle-outline.png")||u(e,"src",t),u(e,"alt","wine bottle with red outline"),u(e,"class","svelte-1c9vro1")},m(r,a){L(r,e,a)},d(r){r&&g(e)}}}function Ei(n){let e,t=n[6](n[12][0]).subgroups+"",r;return{c(){e=R("p"),r=ee(t),this.h()},l(a){e=z(a,"P",{class:!0});var l=T(e);r=te(l,t),l.forEach(g),this.h()},h(){u(e,"class","subgroup svelte-1c9vro1")},m(a,l){L(a,e,l),_(e,r)},p(a,l){l&2&&t!==(t=a[6](a[12][0]).subgroups+"")&&we(r,t)},d(a){a&&g(e)}}}function Ci(n,e){let t,r,a,l,i,o,c,s,f,p,m,h=e[12][0]+"",d,b,v=e[6](e[12][0]),y,G,w=ge;function k(D,P){return D[2]==null?T1:D[2]=="price"?D1:I1}let C=k(e),E=C(e);function A(D,P){return D[12][0]===D[5]?R1:P1}let S=A(e),I=S(e),M=v&&Ei(e);return{key:n,first:null,c(){t=R("div"),r=R("p"),E.c(),a=U(),l=R("div"),I.c(),i=U(),o=R("img"),f=U(),p=R("div"),m=R("p"),d=ee(h),b=U(),M&&M.c(),y=U(),this.h()},l(D){t=z(D,"DIV",{class:!0,style:!0});var P=T(t);r=z(P,"P",{class:!0});var B=T(r);E.l(B),B.forEach(g),a=Z(P),l=z(P,"DIV",{class:!0});var H=T(l);I.l(H),i=Z(H),o=z(H,"IMG",{class:!0,src:!0,alt:!0}),H.forEach(g),f=Z(P),p=z(P,"DIV",{class:!0});var V=T(p);m=z(V,"P",{class:!0});var F=T(m);d=te(F,h),F.forEach(g),b=Z(V),M&&M.l(V),V.forEach(g),y=Z(P),P.forEach(g),this.h()},h(){u(r,"class","num svelte-1c9vro1"),u(o,"class","img-icon svelte-1c9vro1"),Ye(o.src,c="./assets/images/icons/"+e[12][0].replace(/[^a-zA-Z0-9]/g,"")+".png")||u(o,"src",c),u(o,"alt",s=e[12][0]+" icon"),u(l,"class","img-wrapper svelte-1c9vro1"),u(m,"class","svelte-1c9vro1"),u(p,"class","animal-deets svelte-1c9vro1"),u(t,"class","animal-group active svelte-1c9vro1"),fe(t,"transition-delay",(e[1].length-e[14]-1)*100+"ms"),ye(t,"active",e[12][0]===e[5]),ye(t,"animated",e[4]),this.first=t},m(D,P){L(D,t,P),_(t,r),E.m(r,null),_(t,a),_(t,l),I.m(l,null),_(l,i),_(l,o),_(t,f),_(t,p),_(p,m),_(m,d),_(p,b),M&&M.m(p,null),_(t,y)},p(D,P){e=D,C===(C=k(e))&&E?E.p(e,P):(E.d(1),E=C(e),E&&(E.c(),E.m(r,null))),S!==(S=A(e))&&(I.d(1),I=S(e),I&&(I.c(),I.m(l,i))),P&2&&!Ye(o.src,c="./assets/images/icons/"+e[12][0].replace(/[^a-zA-Z0-9]/g,"")+".png")&&u(o,"src",c),P&2&&s!==(s=e[12][0]+" icon")&&u(o,"alt",s),P&2&&h!==(h=e[12][0]+"")&&we(d,h),P&2&&(v=e[6](e[12][0])),v?M?M.p(e,P):(M=Ei(e),M.c(),M.m(p,null)):M&&(M.d(1),M=null),P&2&&fe(t,"transition-delay",(e[1].length-e[14]-1)*100+"ms"),P&34&&ye(t,"active",e[12][0]===e[5]),P&16&&ye(t,"animated",e[4])},r(){G=t.getBoundingClientRect()},f(){Ma(t),w()},a(){w(),w=Aa(t,G,Pa,{duration:1e3})},d(D){D&&g(t),E.d(),I.d(),M&&M.d()}}}function Ai(n){let e,t,r=n[2]=="price"?"$26.99":"4",a,l,i,o,c,s=n[2]=="price"?"Animal wines":"All wines & animal wines",f,p,m,h=n[2]!=="rating"&&Mi(n);return{c(){e=R("div"),t=R("p"),a=ee(r),l=U(),i=R("div"),o=U(),c=R("p"),f=ee(s),p=U(),h&&h.c(),m=le(),this.h()},l(d){e=z(d,"DIV",{class:!0,style:!0});var b=T(e);t=z(b,"P",{class:!0});var v=T(t);a=te(v,r),v.forEach(g),l=Z(b),i=z(b,"DIV",{class:!0}),T(i).forEach(g),o=Z(b),c=z(b,"P",{class:!0});var y=T(c);f=te(y,s),y.forEach(g),b.forEach(g),p=Z(d),h&&h.l(d),m=le(),this.h()},h(){u(t,"class","num svelte-1c9vro1"),u(i,"class","median-circle svelte-1c9vro1"),u(c,"class","svelte-1c9vro1"),u(e,"class","median-mark svelte-1c9vro1"),fe(e,"left",n[2]=="price"?"53%":"67%")},m(d,b){L(d,e,b),_(e,t),_(t,a),_(e,l),_(e,i),_(e,o),_(e,c),_(c,f),L(d,p,b),h&&h.m(d,b),L(d,m,b)},p(d,b){b&4&&r!==(r=d[2]=="price"?"$26.99":"4")&&we(a,r),b&4&&s!==(s=d[2]=="price"?"Animal wines":"All wines & animal wines")&&we(f,s),b&4&&fe(e,"left",d[2]=="price"?"53%":"67%"),d[2]!=="rating"?h?h.p(d,b):(h=Mi(d),h.c(),h.m(m.parentNode,m)):h&&(h.d(1),h=null)},d(d){d&&(g(e),g(p),g(m)),h&&h.d(d)}}}function Mi(n){let e,t,r=n[2]=="price"?"$29.99":"4",a,l,i,o,c,s="All wines";return{c(){e=R("div"),t=R("p"),a=ee(r),l=U(),i=R("div"),o=U(),c=R("p"),c.textContent=s,this.h()},l(f){e=z(f,"DIV",{class:!0,style:!0});var p=T(e);t=z(p,"P",{class:!0});var m=T(t);a=te(m,r),m.forEach(g),l=Z(p),i=z(p,"DIV",{class:!0}),T(i).forEach(g),o=Z(p),c=z(p,"P",{class:!0,"data-svelte-h":!0}),Xe(c)!=="svelte-137d09t"&&(c.textContent=s),p.forEach(g),this.h()},h(){u(t,"class","num svelte-1c9vro1"),u(i,"class","median-circle svelte-1c9vro1"),u(c,"class","svelte-1c9vro1"),u(e,"class","median-mark svelte-1c9vro1"),fe(e,"left","70%")},m(f,p){L(f,e,p),_(e,t),_(t,a),_(e,l),_(e,i),_(e,o),_(e,c)},p(f,p){p&4&&r!==(r=f[2]=="price"?"$29.99":"4")&&we(a,r)},d(f){f&&g(e)}}}function z1(n){let e,t,r,a;wt(n[8]);let l=n[0]>=4&&n[0]<=7&&ki(n);return{c(){l&&l.c(),e=le()},l(i){l&&l.l(i),e=le()},m(i,o){l&&l.m(i,o),L(i,e,o),t=!0,r||(a=de(window,"resize",n[8]),r=!0)},p(i,[o]){i[0]>=4&&i[0]<=7?l?(l.p(i,o),o&1&&q(l,1)):(l=ki(i),l.c(),q(l,1),l.m(e.parentNode,e)):l&&(Le(),X(l,1,1,()=>{l=null}),Ve())},i(i){t||(q(l),t=!0)},o(i){X(l),t=!1},d(i){i&&g(e),l&&l.d(i),r=!1,a()}}}function N1(n,e,t){let r,a;Q(n,En,b=>t(5,a=b));let{scrollIndex:l}=e,i,o,c;const s=[{animal:"amphibian",subgroups:"lizards, snakes, frogs, etc."},{animal:"bird",subgroups:"singbirds, chicken, ducks, raptors, etc."},{animal:"bug",subgroups:"ant, bee, dragonfly, ladybug, etc."},{animal:"canine",subgroups:"domestic dogs, wolves, foxes"},{animal:"cat",subgroups:"domestic cats, lions, tigers, etc."},{animal:"cattle",subgroups:"cows, oxen, bulls, camels, etc."},{animal:"deer",subgroups:"antelope, caribou, gazelles, etc."},{animal:"fish",subgroups:"sharks, whales, dolphins, other fins, etc."},{animal:"deer",subgroups:"antelope, caribou, gazelles, etc."},{animal:"marine",subgroups:"lobster, crab, shrimp, octopi, etc."},{animal:"mythical",subgroups:"griffins, unicorns, monsters, etc."},{animal:"pachyderm",subgroups:"elephants, rhinos, hippos"},{animal:"pig",subgroups:"boar"},{animal:"rabbit",subgroups:"hare"},{animal:"ram",subgroups:"sheep, goats"}],f=Pn.filter(b=>b.animalGroup!=="animal wines"&&b.animalGroup!=="all"&&b.animalGroup!=="human"&&b.animalGroup!=="none"),p=Nr(f,b=>b.animalGroup),m={};for(const[b,v]of p)m[b]={},v.forEach(y=>{const{category:G,bucket:w,percent:k,count:C}=y;G==="median"?t(7,m[b][w]=+C,m):t(7,m[b][w]={percent:+k,count:+C},m)});function h(b){return s.find(v=>v.animal.toLowerCase()===b.toLowerCase())}function d(){t(3,c=window.innerWidth)}return n.$$set=b=>{"scrollIndex"in b&&t(0,l=b.scrollIndex)},n.$$.update=()=>{n.$$.dirty&129&&(l<=5?(t(1,i=Object.entries(m).sort(([b],[v])=>b.localeCompare(v))),t(2,o=void 0)):l==6?(t(1,i=Object.entries(m).sort(([,b],[,v])=>b.medianPrice-v.medianPrice)),t(2,o="price")):(t(1,i=Object.entries(m).sort(([,b],[,v])=>b.medianRating-v.medianRating)),t(2,o="rating"))),n.$$.dirty&1&&t(4,r=l>=5)},[l,i,o,c,r,a,h,m,d]}class L1 extends Ie{constructor(e){super(),De(this,e,N1,z1,Ae,{scrollIndex:0})}}const Ii=(n,{min_size:e=10,max_size:t=100}={min_size:10,max_size:100})=>{const r=()=>{n.parentElement&&F1(n,n.parentElement,e,t)},a=new ResizeObserver(r);return a.observe(n?.parentElement),{destroy(){a.disconnect()}}};function V1({clientWidth:n,clientHeight:e,scrollWidth:t,scrollHeight:r}){return t>n||r>e}function F1(n,e,t,r){let a=t,l=!1,i=t;for(n.style.fontSize=`${i}px`;!l&&a<r;)l=V1(e),l||(n.style.fontSize=`${a}px`,a++);i=a-2,n.style.fontSize=`${i}px`}const O1="display: inline-block; width: 100%; height: 100%;";function W1(n){let e,t,r,a="The pour-igin<br/> of species",l,i,o="The pour-igin<br/> of species",c,s,f,p,m=n[1].bylineFake+"",h,d,b,v,y,G,w=n[1].byline+"",k,C;return{c(){e=R("div"),t=R("div"),r=R("h1"),r.innerHTML=a,l=U(),i=R("h1"),i.innerHTML=o,c=U(),s=R("div"),f=R("p"),p=ee("By "),h=ee(m),d=R("span"),b=U(),v=R("p"),y=ee("By "),G=new tt(!1),this.h()},l(E){e=z(E,"DIV",{class:!0});var A=T(e);t=z(A,"DIV",{class:!0,style:!0});var S=T(t);r=z(S,"H1",{class:!0,"data-svelte-h":!0}),Xe(r)!=="svelte-gsy1g0"&&(r.innerHTML=a),l=Z(S),i=z(S,"H1",{class:!0,"data-svelte-h":!0}),Xe(i)!=="svelte-gsy1g0"&&(i.innerHTML=o),S.forEach(g),c=Z(A),s=z(A,"DIV",{class:!0,style:!0});var I=T(s);f=z(I,"P",{class:!0});var M=T(f);p=te(M,"By "),h=te(M,m),d=z(M,"SPAN",{class:!0}),T(d).forEach(g),M.forEach(g),b=Z(I),v=z(I,"P",{class:!0});var D=T(v);y=te(D,"By "),G=nt(D,!1),D.forEach(g),I.forEach(g),A.forEach(g),this.h()},h(){u(r,"class","svelte-rbtu4w"),ye(r,"highlight",n[0]==8),u(i,"class","svelte-rbtu4w"),ye(i,"highlight",n[0]==8),u(t,"class","head-container svelte-rbtu4w"),u(t,"style",O1),ye(t,"hidden",n[0]=="exit"),u(d,"class","strike-line svelte-rbtu4w"),ye(d,"animate",n[0]==8||n[0]=="exit"),u(f,"class","strikethrough svelte-rbtu4w"),G.a=null,u(v,"class","svelte-rbtu4w"),u(s,"class","byline svelte-rbtu4w"),fe(s,"opacity",n[0]==8?1:0),u(e,"class","headline-wrapper svelte-rbtu4w")},m(E,A){L(E,e,A),_(e,t),_(t,r),_(t,l),_(t,i),_(e,c),_(e,s),_(s,f),_(f,p),_(f,h),_(f,d),_(s,b),_(s,v),_(v,y),G.m(w,v),k||(C=[rn(Ii.call(null,r,{min_size:12,max_size:350})),rn(Ii.call(null,i,{min_size:12,max_size:350}))],k=!0)},p(E,[A]){A&1&&ye(r,"highlight",E[0]==8),A&1&&ye(i,"highlight",E[0]==8),A&1&&ye(t,"hidden",E[0]=="exit"),A&1&&ye(d,"animate",E[0]==8||E[0]=="exit"),A&1&&fe(s,"opacity",E[0]==8?1:0)},i:ge,o:ge,d(E){E&&g(e),k=!1,ht(C)}}}function q1(n,e,t){let{scrollIndex:r}=e;const a=ct("copy");return n.$$set=l=>{"scrollIndex"in l&&t(0,r=l.scrollIndex)},[r,a]}class B1 extends Ie{constructor(e){super(),De(this,e,q1,W1,Ae,{scrollIndex:0})}}function Di(n,e,t){const r=n.slice();return r[15]=e[t],r[17]=t,r}function Ti(n,e,t){const r=n.slice();return r[18]=e[t],r[17]=t,r}function j1(n){let e,t=n[18].value+"",r,a,l=n[17]==0&&Y1(n);return{c(){e=new tt(!1),r=U(),l&&l.c(),a=le(),this.h()},l(i){e=nt(i,!1),r=Z(i),l&&l.l(i),a=le(),this.h()},h(){e.a=r},m(i,o){e.m(t,i,o),L(i,r,o),l&&l.m(i,o),L(i,a,o)},p(i,o){i[17]==0&&l.p(i,o)},d(i){i&&(e.d(),g(r),g(a)),l&&l.d(i)}}}function H1(n){let e,t=n[18].value+"",r,a,l;return{c(){e=new tt(!1),r=U(),a=new tt(!1),l=le(),this.h()},l(i){e=nt(i,!1),r=Z(i),a=nt(i,!1),l=le(),this.h()},h(){e.a=r,a.a=l},m(i,o){e.m(t,i,o),L(i,r,o),a.m(n[2],i,o),L(i,l,o)},p(i,o){o&4&&a.p(i[2])},d(i){i&&(e.d(),g(r),g(l),a.d())}}}function U1(n){let e,t=n[18].value+"",r,a,l;return{c(){e=new tt(!1),r=U(),a=new tt(!1),l=le(),this.h()},l(i){e=nt(i,!1),r=Z(i),a=nt(i,!1),l=le(),this.h()},h(){e.a=r,a.a=l},m(i,o){e.m(t,i,o),L(i,r,o),a.m(n[3],i,o),L(i,l,o)},p(i,o){o&8&&a.p(i[3])},d(i){i&&(e.d(),g(r),g(l),a.d())}}}function Z1(n){let e,t;return{c(){e=new tt(!1),t=le(),this.h()},l(r){e=nt(r,!1),t=le(),this.h()},h(){e.a=t},m(r,a){e.m(n[4],r,a),L(r,t,a)},p(r,a){a&16&&e.p(r[4])},d(r){r&&(g(t),e.d())}}}function Y1(n){let e,t=n[5].opening[0].instructions+"",r,a,l;return{c(){e=R("span"),r=ee(t),this.h()},l(i){e=z(i,"SPAN",{class:!0});var o=T(e);r=te(o,t),o.forEach(g),this.h()},h(){u(e,"class","instructions")},m(i,o){L(i,e,o),_(e,r),a||(l=de(e,"click",n[7]),a=!0)},p:ge,d(i){i&&g(e),a=!1,l()}}}function K1(n){let e,t,r;return t=new Lt({props:{name:"chevron-down",size:"1.5rem"}}),{c(){e=R("div"),oe(t.$$.fragment),this.h()},l(a){e=z(a,"DIV",{class:!0});var l=T(e);pe(t.$$.fragment,l),l.forEach(g),this.h()},h(){u(e,"class","scroll-hint svelte-2wav02")},m(a,l){L(a,e,l),ce(t,e,null),r=!0},i(a){r||(q(t.$$.fragment,a),r=!0)},o(a){X(t.$$.fragment,a),r=!1},d(a){a&&g(e),se(t)}}}function Pi(n){let e,t,r,a,l,i;function o(p,m){return p[17]==1?Z1:p[17]==6?U1:p[17]==7?H1:j1}let s=o(n)(n),f=n[17]==1&&K1();return{c(){e=R("div"),t=R("div"),r=R("p"),s.c(),a=U(),f&&f.c(),l=U(),this.h()},l(p){e=z(p,"DIV",{class:!0});var m=T(e);t=z(m,"DIV",{class:!0});var h=T(t);r=z(h,"P",{class:!0});var d=T(r);s.l(d),d.forEach(g),a=Z(h),f&&f.l(h),h.forEach(g),l=Z(m),m.forEach(g),this.h()},h(){u(r,"class","svelte-2wav02"),u(t,"class","step-inner svelte-2wav02"),u(e,"class","step svelte-2wav02")},m(p,m){L(p,e,m),_(e,t),_(t,r),s.m(r,null),_(t,a),f&&f.m(t,null),_(e,l),i=!0},p(p,m){s.p(p,m)},i(p){i||(q(f),i=!0)},o(p){X(f),i=!1},d(p){p&&g(e),s.d(),f&&f.d()}}}function X1(n){let e,t,r=ve(n[6]),a=[];for(let i=0;i<r.length;i+=1)a[i]=Pi(Ti(n,r,i));const l=i=>X(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=le()},l(i){for(let o=0;o<a.length;o+=1)a[o].l(i);e=le()},m(i,o){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(i,o);L(i,e,o),t=!0},p(i,o){if(o&252){r=ve(i[6]);let c;for(c=0;c<r.length;c+=1){const s=Ti(i,r,c);a[c]?(a[c].p(s,o),q(a[c],1)):(a[c]=Pi(s),a[c].c(),q(a[c],1),a[c].m(e.parentNode,e))}for(Le(),c=r.length;c<a.length;c+=1)l(c);Ve()}},i(i){if(!t){for(let o=0;o<r.length;o+=1)q(a[o]);t=!0}},o(i){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)X(a[o]);t=!1},d(i){i&&g(e),je(a,i)}}}function Ri(n){let e,t,r=n[15].value+"";return{c(){e=R("p"),t=new tt(!1),this.h()},l(a){e=z(a,"P",{class:!0});var l=T(e);t=nt(l,!1),l.forEach(g),this.h()},h(){t.a=null,u(e,"class","prose svelte-2wav02")},m(a,l){L(a,e,l),t.m(r,e)},p:ge,d(a){a&&g(e)}}}function J1(n){let e,t,r,a,l,i,o,c,s,f,p,m,h,d,b,v,y,G;r=new B1({props:{scrollIndex:n[1]}}),l=new b1({props:{scrollIndex:n[1]}}),o=new bi({props:{scrollIndex:n[1],exampleType:"correct"}}),s=new bi({props:{scrollIndex:n[1],exampleType:"wrong"}}),p=new L1({props:{scrollIndex:n[1]}});function w(S){n[10](S)}function k(S){n[11](S)}let C={$$slots:{default:[X1]},$$scope:{ctx:n}};n[1]!==void 0&&(C.value=n[1]),n[0]!==void 0&&(C.container=n[0]),h=new Bu({props:C}),He.push(()=>ln(h,"value",w)),He.push(()=>ln(h,"container",k));let E=ve(n[5].postIntro),A=[];for(let S=0;S<E.length;S+=1)A[S]=Ri(Di(n,E,S));return{c(){e=R("section"),t=R("div"),oe(r.$$.fragment),a=U(),oe(l.$$.fragment),i=U(),oe(o.$$.fragment),c=U(),oe(s.$$.fragment),f=U(),oe(p.$$.fragment),m=U(),oe(h.$$.fragment),v=U(),y=R("section");for(let S=0;S<A.length;S+=1)A[S].c();this.h()},l(S){e=z(S,"SECTION",{id:!0,class:!0});var I=T(e);t=z(I,"DIV",{class:!0});var M=T(t);pe(r.$$.fragment,M),a=Z(M),pe(l.$$.fragment,M),i=Z(M),pe(o.$$.fragment,M),c=Z(M),pe(s.$$.fragment,M),f=Z(M),pe(p.$$.fragment,M),M.forEach(g),m=Z(I),pe(h.$$.fragment,I),I.forEach(g),v=Z(S),y=z(S,"SECTION",{id:!0,class:!0});var D=T(y);for(let P=0;P<A.length;P+=1)A[P].l(D);D.forEach(g),this.h()},h(){u(t,"class","sticky svelte-2wav02"),u(e,"id","intro"),u(e,"class","svelte-2wav02"),u(y,"id","post-intro"),u(y,"class","svelte-2wav02")},m(S,I){L(S,e,I),_(e,t),ce(r,t,null),_(t,a),ce(l,t,null),_(t,i),ce(o,t,null),_(t,c),ce(s,t,null),_(t,f),ce(p,t,null),_(e,m),ce(h,e,null),L(S,v,I),L(S,y,I);for(let M=0;M<A.length;M+=1)A[M]&&A[M].m(y,null);G=!0},p(S,[I]){const M={};I&2&&(M.scrollIndex=S[1]),r.$set(M);const D={};I&2&&(D.scrollIndex=S[1]),l.$set(D);const P={};I&2&&(P.scrollIndex=S[1]),o.$set(P);const B={};I&2&&(B.scrollIndex=S[1]),s.$set(B);const H={};I&2&&(H.scrollIndex=S[1]),p.$set(H);const V={};if(I&1048604&&(V.$$scope={dirty:I,ctx:S}),!d&&I&2&&(d=!0,V.value=S[1],an(()=>d=!1)),!b&&I&1&&(b=!0,V.container=S[0],an(()=>b=!1)),h.$set(V),I&32){E=ve(S[5].postIntro);let F;for(F=0;F<E.length;F+=1){const K=Di(S,E,F);A[F]?A[F].p(K,I):(A[F]=Ri(K),A[F].c(),A[F].m(y,null))}for(;F<A.length;F+=1)A[F].d(1);A.length=E.length}},i(S){G||(q(r.$$.fragment,S),q(l.$$.fragment,S),q(o.$$.fragment,S),q(s.$$.fragment,S),q(p.$$.fragment,S),q(h.$$.fragment,S),G=!0)},o(S){X(r.$$.fragment,S),X(l.$$.fragment,S),X(o.$$.fragment,S),X(s.$$.fragment,S),X(p.$$.fragment,S),X(h.$$.fragment,S),G=!1},d(S){S&&(g(e),g(v),g(y)),se(r),se(l),se(o),se(s),se(p),se(h),je(A,S)}}}function Q1(n,e,t){let r,a,l,i,o;Q(n,ga,y=>t(8,i=y)),Q(n,En,y=>t(9,o=y));let c,s;const f=ct("copy"),p=[{animal:"cattle",name:"Pinotage",winery:"Survivor",country:"South Africa",price:21.99,bottleSlot:"left",targetPos:"25%",startingPos:"-75%",rangeValue:0},{animal:"cat",name:"Bordeaux Supérieur",winery:"Château Les Gravieres de la Brandille",country:"France",price:18.33,bottleSlot:"center",targetPos:"50%",startingPos:"-50%",rangeValue:0},{animal:"bird",name:"Pinot Noir",winery:"Mohua",country:"New Zealand",price:21.95,bottleSlot:"right",targetPos:"75%",startingPos:"-25%",rangeValue:0}],m=f.steps;function h(){const y=p[Math.floor(Math.random()*p.length)];d(y)}function d(y){En.set(y.animal),ga.set(!0);const G=document.querySelectorAll(".product");G.forEach(w=>{const k=w.getAttribute("data-animal");w.querySelector(".wine"),k!==o?(w.classList.add("faded"),w.style.left=y.startingPos):(w.classList.remove("faded"),w.style.left="50%")}),Array.from(G).map(w=>w.style.left!=="50%"),G.forEach(w=>{const k=w.querySelector(".wine");k&&(w.style.left==="50%"?k.classList.remove("spin"):k.classList.add("spin"))})}function b(y){c=y,t(1,c)}function v(y){s=y,t(0,s)}return n.$$.update=()=>{n.$$.dirty&512&&t(4,r=f.opening[0][o]),n.$$.dirty&512&&t(3,a=f.opening[0][o+"Price"]),n.$$.dirty&512&&t(2,l=f.opening[0][o+"Rating"]),n.$$.dirty&257&&i&&setTimeout(()=>{const y=s.querySelectorAll(".step");if(y[1]){const w=y[1].getBoundingClientRect().top+window.pageYOffset-window.innerHeight*.1;window.scrollTo({top:w,behavior:"smooth"})}},500)},[s,c,l,a,r,f,m,h,i,o,b,v]}class x1 extends Ie{constructor(e){super(),De(this,e,Q1,J1,Ae,{})}}function $1(n){let e,t;const r=n[7].default,a=at(r,n,n[6],null);return{c(){e=R("div"),a&&a.c(),this.h()},l(l){e=z(l,"DIV",{class:!0});var i=T(e);a&&a.l(i),i.forEach(g),this.h()},h(){u(e,"class","svelte-1tu75eh")},m(l,i){L(l,e,i),a&&a.m(e,null),n[8](e),t=!0},p(l,[i]){a&&a.p&&(!t||i&64)&&lt(a,r,l,l[6],t?ot(r,l[6],i,null):it(l[6]),null)},i(l){t||(q(a,l),t=!0)},o(l){X(a,l),t=!1},d(l){l&&g(e),a&&a.d(l),n[8](null)}}}function ep(n,e,t){let{$$slots:r={},$$scope:a}=e,{root:l=null}=e,{top:i=0}=e,{bottom:o=0}=e,{increments:c=100}=e,{value:s=void 0}=e;const f=[],p=[];let m=[],h=[],d,b=new Array(f.length).fill(0);const v=()=>{m.length&&m.forEach(G)},y=()=>{let k=0,C=-1,E=!1;for(let A=0;A<f.length;A++)f[A]>k&&(k=f[A],C=A),b[A]>0&&f[A]===0&&A===f.length-1&&(E=!0),b[A]=f[A];k>0?t(1,s=C):E?t(1,s="exit"):t(1,s=void 0)},G=(k,C)=>{const E=P=>{P[0].isIntersecting;const B=P[0].intersectionRatio;f[C]=B,y()},A=i?i*-1:0,S=o?o*-1:0,I=`${A}px 0px ${S}px 0px`,M={root:l,rootMargin:I,threshold:p};h[C]&&h[C].disconnect();const D=new IntersectionObserver(E,M);D.observe(k),h[C]=D};cn(()=>{for(let k=0;k<c+1;k++)p.push(k/c);m=d.querySelectorAll(":scope > *:not(iframe)"),v()});function w(k){He[k?"unshift":"push"](()=>{d=k,t(0,d)})}return n.$$set=k=>{"root"in k&&t(2,l=k.root),"top"in k&&t(3,i=k.top),"bottom"in k&&t(4,o=k.bottom),"increments"in k&&t(5,c=k.increments),"value"in k&&t(1,s=k.value),"$$scope"in k&&t(6,a=k.$$scope)},n.$$.update=()=>{n.$$.dirty&24&&v()},[d,s,l,i,o,c,a,r,w]}class tp extends Ie{constructor(e){super(),De(this,e,ep,$1,Ae,{root:2,top:3,bottom:4,increments:5,value:1})}}function np(n){return n===0?!0:n}function Gn(n){return np(n)?Array.isArray(n)?e=>n.map(t=>typeof t!="function"?e[t]:t(e)):typeof n!="function"?e=>e[n]:n:null}function rp(n){const e={};for(const t of n){if(Object(t)!==t)throw new TypeError("iterable for fromEntries should yield objects");const{"0":r,"1":a}=t;Object.defineProperty(e,r,{configurable:!0,enumerable:!0,writable:!0,value:a})}return e}function Ya(n,e={}){return rp(Object.entries(n).filter(([t,r])=>r!==void 0&&e[t]===void 0))}function ap(n,e=300){let t;return(...r)=>{clearTimeout(t),t=setTimeout(()=>{n.apply(this,r)},e)}}function lp(n,e,{sort:t=!1}={}){if(!Array.isArray(n))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof n}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||e===void 0||e===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const r={},a=Object.keys(e),l=a.length;let i,o,c,s,f,p,m;const h=n.length;for(i=0;i<l;i+=1){for(m=new Tu,s=a[i],f=e[s],o=0;o<h;o+=1)if(p=f(n[o]),Array.isArray(p)){const b=p.length;for(c=0;c<b;c+=1)m.add(p[c])}else m.add(p);const d=Array.from(m);t===!0&&d.sort(Rn),r[s]=d}return r}function ip(n,e){if(!Array.isArray(n))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof n}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||e===void 0||e===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const t={},r=Object.keys(e),a=r.length;let l,i,o,c,s,f,p,m;const h=n.length;for(l=0;l<a;l+=1){for(c=r[l],p=e[c],s=null,f=null,i=0;i<h;i+=1)if(m=p(n[i]),Array.isArray(m)){const d=m.length;for(o=0;o<d;o+=1)m[o]!==!1&&m[o]!==void 0&&m[o]!==null&&Number.isNaN(m[o])===!1&&((s===null||m[o]<s)&&(s=m[o]),(f===null||m[o]>f)&&(f=m[o]))}else m!==!1&&m!==void 0&&m!==null&&Number.isNaN(m)===!1&&((s===null||m<s)&&(s=m),(f===null||m>f)&&(f=m));t[c]=[s,f]}return t}function Rr(n,e){return n.length!==e.length?!1:n.every(t=>e.includes(t))}function eu(n){return!!(typeof n.bandwidth=="function"||Rr(Object.keys(n),["domain","range","unknown","copy"]))}function op(n,e,t){const r=Object.keys(t).reduce((l,i)=>{const o=eu(t[i])===!0?"ordinal":"other";return l[o]||(l[o]={}),l[o][i]=e[i],l},{ordinal:!1,other:!1});let a={};return r.ordinal&&(a=lp(n,r.ordinal,{sort:!0})),r.other&&(a={...a,...ip(n,r.other)}),a}function cp(n=[],e){return Array.isArray(e)===!0?e.map((t,r)=>t===null?n[r]:t):n}function aa(n){return function([t,r]){return typeof r=="function"&&(r=r(t[n])),t?cp(t[n],r):r}}const zr={x:sa,y:sa,z:sa,r:e1};function sp(n){return n.constant?"symlog":n.base?"log":n.exponent?n.exponent()===.5?"sqrt":"pow":"other"}function zi(n){return n}function up(n){return e=>Math.log(n*e)}function fp(n){return e=>n*Math.exp(e)}function pp(n){return e=>Math.sign(e)*Math.log1p(Math.abs(e/n))}function mp(n){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*n}function la(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function hp(n){const e=sp(n);if(e==="log"){const t=Math.sign(n.domain()[0]);return{lift:up(t),ground:fp(t),scaleType:e}}return e==="pow"?{lift:la(1),ground:la(1/1),scaleType:e}:e==="sqrt"?{lift:la(.5),ground:la(1/.5),scaleType:e}:e==="symlog"?{lift:pp(1),ground:mp(1),scaleType:e}:{lift:zi,ground:zi,scaleType:e}}function wa(n){return n.replace(/^\w/,e=>e.toUpperCase())}function vt(n,e=""){return`scale${wa(e)}${wa(n)}`}function tu(n){if(typeof n.bandwidth=="function")return typeof n.paddingInner=="function"?vt("band"):vt("point");if(Rr(Object.keys(n),["domain","range","unknown","copy"]))return vt("ordinal");let e="";if(n.interpolator&&(n.domain().length===3?e="diverging":e="sequential"),n.quantiles)return vt("quantile",e);if(n.thresholds)return vt("quantize",e);if(n.constant)return vt("symlog",e);if(n.base)return vt("log",e);if(n.exponent)return n.exponent()===.5?vt("sqrt",e):vt("pow",e);if(Rr(Object.keys(n),["domain","range","invertExtent","unknown","copy"]))return vt("threshold");if(Rr(Object.keys(n),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return vt("identity");if(Rr(Object.keys(n),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return vt("radial");if(e)return vt(e);if(n.domain()[0]instanceof Date){const t=new Date;let r;return t.getDay=()=>r="time",t.getUTCDay=()=>r="utc",n.tickFormat(0,"%a")(t),vt(r)}return vt("linear")}const gp=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function dp(n,e){if(typeof n.range!="function")throw console.log(n),new Error("Scale method `range` must be a function");if(typeof n.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e)||gp.includes(tu(n))||eu(n)===!0)return n.domain();const{lift:t,ground:r}=hp(n),a=n.domain()[0],l=Object.prototype.toString.call(a)==="[object Date]",[i,o]=n.domain().map(h=>t(l?h.getTime():h)),[c,s]=n.range(),f=e[0]||0,p=e[1]||0,m=(o-i)/(Math.abs(s-c)-f-p);return[i-f*m,p*m+o].map(h=>r(l?new Date(h):h))}function bp(n,e,t,r,a){let l,i;return a===!0?(l=0,i=100):(l=n==="r"?1:0,i=n==="y"?t:n==="r"?25:e),r===!0?[i,l]:[l,i]}function _p(n,e,t,r,a,l){return a?typeof a=="function"?a({width:e,height:t}):a:bp(n,e,t,r,l)}function ia(n){return function([t,r,a,l,i,o,c,s,f,p]){if(r===null)return null;const m=_p(n,c,s,o,f,p),h=t===zr[n]?t():t.copy();return h.domain(a),(!h.interpolator||typeof h.interpolator=="function"&&h.interpolator().name.startsWith("identity"))&&h.range(m),l&&h.domain(dp(h,l)),(i===!0||typeof i=="number")&&(typeof h.nice=="function"?h.nice(typeof i=="number"?i:void 0):console.error(`[Layer Cake] You set \`${n}Nice: true\` but the ${n}Scale does not have a \`.nice\` method. Ignoring...`)),h}}function oa([n,e]){return t=>{const r=n(t);return Array.isArray(r)?r.map(a=>e(a)):e(r)}}function ca([n]){if(typeof n=="function"){if(typeof n.range=="function")return n.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Jt="    ";function yp(n){const{r:e,g:t,b:r,opacity:a}=Pu(n);return[e,t,r].every(l=>l>=0&&l<=255)?{r:e,g:t,b:r,o:a}:!1}function kp({r:n,g:e,b:t}){return(.2126*n+.7152*e+.0722*t)/255>.6?"black":"white"}function vp(n){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),wp(n.boundingBox),console.log(`Scales:
`),Object.keys(n.activeGetters).forEach(e=>{Gp(e,n[`${e}Scale`],n[e])}),console.log(`/************ End LayerCake Debug ***************/
`)}function wp(n){Object.entries(n).forEach(([e,t])=>{console.log(`${Jt}${e}:`,t)})}function Gp(n,e,t){const r=tu(e);console.log(`${Jt}${n}:`),console.log(`${Jt}${Jt}Accessor: "${t.toString()}"`),console.log(`${Jt}${Jt}Type: ${r}`),Ni(e,"domain"),Ni(e,"range"," ")}function Ni(n,e,t=""){const r=n[e](),a=Ep(r);a?Sp(a,e,r):console.log(`${Jt}${Jt}${wa(e)}:${t}`,r)}function Sp(n,e,t){console.log(`${Jt}${Jt}${wa(e)}:    %cArray%c(${t.length}) `+n[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...n[1],"color: #1478e4")}function Ep(n){const e=[],t=n.map((r,a)=>{const l=yp(r);if(l!==!1){e.push(l);const i=a===n.length-1?" ":"";return`%c ${r}${i}`}return r});return e.length?[`%c[ ${t.join(", ")}`,e.map(r=>`background-color: rgba(${r.r}, ${r.g}, ${r.b}, ${r.o}); color:${kp(r)};`)]:null}const Cp=n=>({element:n[0]&4,width:n[1]&8,height:n[1]&16,aspectRatio:n[1]&32,containerWidth:n[1]&2,containerHeight:n[1]&1,activeGetters:n[0]&1024,percentRange:n[1]&4,x:n[0]&268435456,y:n[0]&134217728,z:n[0]&67108864,r:n[0]&33554432,custom:n[0]&4096,data:n[0]&1073741824,xNice:n[0]&16777216,yNice:n[0]&8388608,zNice:n[0]&4194304,rNice:n[0]&2097152,xReverse:n[0]&1048576,yReverse:n[0]&524288,zReverse:n[0]&262144,rReverse:n[0]&131072,xPadding:n[0]&65536,yPadding:n[0]&32768,zPadding:n[0]&16384,rPadding:n[0]&8192,padding:n[1]&64,flatData:n[0]&536870912,extents:n[1]&128,xDomain:n[1]&256,yDomain:n[1]&512,zDomain:n[1]&1024,rDomain:n[1]&2048,xRange:n[1]&4096,yRange:n[1]&8192,zRange:n[1]&16384,rRange:n[1]&32768,config:n[0]&2048,xScale:n[0]&512,xGet:n[1]&65536,yScale:n[0]&256,yGet:n[1]&131072,zScale:n[0]&128,zGet:n[1]&262144,rScale:n[0]&64,rGet:n[1]&524288}),Li=n=>({element:n[2],width:n[34],height:n[35],aspectRatio:n[36],containerWidth:n[32],containerHeight:n[31],activeGetters:n[10],percentRange:n[33],x:n[28],y:n[27],z:n[26],r:n[25],custom:n[12],data:n[30],xNice:n[24],yNice:n[23],zNice:n[22],rNice:n[21],xReverse:n[20],yReverse:n[19],zReverse:n[18],rReverse:n[17],xPadding:n[16],yPadding:n[15],zPadding:n[14],rPadding:n[13],padding:n[37],flatData:n[29],extents:n[38],xDomain:n[39],yDomain:n[40],zDomain:n[41],rDomain:n[42],xRange:n[43],yRange:n[44],zRange:n[45],rRange:n[46],config:n[11],xScale:n[9],xGet:n[47],yScale:n[8],yGet:n[48],zScale:n[7],zGet:n[49],rScale:n[6],rGet:n[50]});function Vi(n){let e,t,r;const a=n[153].default,l=at(a,n,n[152],Li);return{c(){e=R("div"),l&&l.c(),this.h()},l(i){e=z(i,"DIV",{class:!0});var o=T(e);l&&l.l(o),o.forEach(g),this.h()},h(){u(e,"class","layercake-container svelte-w5m4wa"),wt(()=>n[155].call(e)),fe(e,"position",n[5]),fe(e,"top",n[5]==="absolute"?"0":null),fe(e,"right",n[5]==="absolute"?"0":null),fe(e,"bottom",n[5]==="absolute"?"0":null),fe(e,"left",n[5]==="absolute"?"0":null),fe(e,"pointer-events",n[4]===!1?"none":null)},m(i,o){L(i,e,o),l&&l.m(e,null),n[154](e),t=Ea(e,n[155].bind(e)),r=!0},p(i,o){l&&l.p&&(!r||o[0]&2147483588|o[1]&1048575|o[4]&268435456)&&lt(l,a,i,i[152],r?ot(a,i[152],o,Cp):it(i[152]),Li),o[0]&32&&fe(e,"position",i[5]),o[0]&32&&fe(e,"top",i[5]==="absolute"?"0":null),o[0]&32&&fe(e,"right",i[5]==="absolute"?"0":null),o[0]&32&&fe(e,"bottom",i[5]==="absolute"?"0":null),o[0]&32&&fe(e,"left",i[5]==="absolute"?"0":null),o[0]&16&&fe(e,"pointer-events",i[4]===!1?"none":null)},i(i){r||(q(l,i),r=!0)},o(i){X(l,i),r=!1},d(i){i&&g(e),l&&l.d(i),n[154](null),t()}}}function Ap(n){let e,t,r=(n[3]===!0||typeof window<"u")&&Vi(n);return{c(){r&&r.c(),e=le()},l(a){r&&r.l(a),e=le()},m(a,l){r&&r.m(a,l),L(a,e,l),t=!0},p(a,l){a[3]===!0||typeof window<"u"?r?(r.p(a,l),l[0]&8&&q(r,1)):(r=Vi(a),r.c(),q(r,1),r.m(e.parentNode,e)):r&&(Le(),X(r,1,1,()=>{r=null}),Ve())},i(a){t||(q(r),t=!0)},o(a){X(r),t=!1},d(a){a&&g(e),r&&r.d(a)}}}function Mp(n,e,t){let r,a,l,i,o,c,s,f,p,m,h,d,b,v,y,G,w,k,C,E,A,S,I,M,D,P,B,H,V,F,K,$,x,me,ne,W,Y,ie,j,J,he,re,Se,We,Ge,Me,ae,ke,ue,Fe,$e,Be,Ue,Ke,St,Ne,Ce,st,Gt,et,qe,Je,{$$slots:Ht={},$$scope:Et}=e;const Vt=ap(vp,200);let{ssr:Ut=!1}=e,{pointerEvents:Cn=!0}=e,{position:Zt="relative"}=e,{percentRange:Qe=!1}=e,{width:gt=void 0}=e,{height:Ft=void 0}=e,{containerWidth:pt=gt||100}=e,{containerHeight:_t=Ft||100}=e,{element:Tt=void 0}=e,{x:yt=void 0}=e,{y:Ot=void 0}=e,{z:Ct=void 0}=e,{r:Pt=void 0}=e,{data:At=[]}=e,{xDomain:Mt=void 0}=e,{yDomain:sn=void 0}=e,{zDomain:un=void 0}=e,{rDomain:Wt=void 0}=e,{xNice:zn=!1}=e,{yNice:Nn=!1}=e,{zNice:Ln=!1}=e,{rNice:Vn=!1}=e,{xPadding:Fn=void 0}=e,{yPadding:On=void 0}=e,{zPadding:Wn=void 0}=e,{rPadding:qn=void 0}=e,{xScale:Bn=zr.x}=e,{yScale:An=zr.y}=e,{zScale:jn=zr.z}=e,{rScale:Hn=zr.r}=e,{xRange:fn=void 0}=e,{yRange:pn=void 0}=e,{zRange:mn=void 0}=e,{rRange:hn=void 0}=e,{xReverse:Un=!1}=e,{yReverse:Zn=void 0}=e,{zReverse:Yn=!1}=e,{rReverse:Kn=!1}=e,{padding:Xn={}}=e,{extents:Jn={}}=e,{flatData:Qn=void 0}=e,{custom:xn={}}=e,{debug:dr=!1}=e,br=!1;cn(()=>{br=!0});const Oe={},Yt=Re(Qe);Q(n,Yt,O=>t(33,Ge=O));const gn=Re(pt);Q(n,gn,O=>t(32,We=O));const dn=Re(_t);Q(n,dn,O=>t(31,Se=O));const $n=Re(Ya(Jn));Q(n,$n,O=>t(170,re=O));const er=Re(At);Q(n,er,O=>t(30,he=O));const Mn=Re(Qn||At);Q(n,Mn,O=>t(29,J=O));const tr=Re(Xn);Q(n,tr,O=>t(169,j=O));const bn=Re(Gn(yt));Q(n,bn,O=>t(28,ie=O));const _n=Re(Gn(Ot));Q(n,_n,O=>t(27,Y=O));const yn=Re(Gn(Ct));Q(n,yn,O=>t(26,W=O));const kn=Re(Gn(Pt));Q(n,kn,O=>t(25,ne=O));const N=Re(Mt);Q(n,N,O=>t(168,me=O));const ze=Re(sn);Q(n,ze,O=>t(167,x=O));const Ze=Re(un);Q(n,Ze,O=>t(166,$=O));const rt=Re(Wt);Q(n,rt,O=>t(165,K=O));const Rt=Re(zn);Q(n,Rt,O=>t(24,F=O));const $t=Re(Nn);Q(n,$t,O=>t(23,V=O));const It=Re(Ln);Q(n,It,O=>t(22,H=O));const qt=Re(Vn);Q(n,qt,O=>t(21,B=O));const Kt=Re(Un);Q(n,Kt,O=>t(20,P=O));const en=Re(r);Q(n,en,O=>t(19,D=O));const zt=Re(Yn);Q(n,zt,O=>t(18,M=O));const tn=Re(Kn);Q(n,tn,O=>t(17,I=O));const _r=Re(Fn);Q(n,_r,O=>t(16,S=O));const yr=Re(On);Q(n,yr,O=>t(15,A=O));const kr=Re(Wn);Q(n,kr,O=>t(14,E=O));const vr=Re(qn);Q(n,vr,O=>t(13,C=O));const Br=Re(fn);Q(n,Br,O=>t(164,k=O));const jr=Re(pn);Q(n,jr,O=>t(163,w=O));const Hr=Re(mn);Q(n,Hr,O=>t(162,G=O));const Ur=Re(hn);Q(n,Ur,O=>t(161,y=O));const wr=Re(Bn);Q(n,wr,O=>t(160,v=O));const Gr=Re(An);Q(n,Gr,O=>t(159,b=O));const Sr=Re(jn);Q(n,Sr,O=>t(158,d=O));const Er=Re(Hn);Q(n,Er,O=>t(157,h=O));const Zr=Re(Oe);Q(n,Zr,O=>t(11,p=O));const Yr=Re(xn);Q(n,Yr,O=>t(12,m=O));const Kr=xe([bn,_n,yn,kn],([O,nn,Xt,ut])=>{const In={};return O&&(In.x=O),nn&&(In.y=nn),Xt&&(In.z=Xt),ut&&(In.r=ut),In});Q(n,Kr,O=>t(10,s=O));const Xr=xe([tr,gn,dn],([O])=>Object.assign({top:0,right:0,bottom:0,left:0},O));Q(n,Xr,O=>t(37,ue=O));const Jr=xe([gn,dn,Xr],([O,nn,Xt])=>{const ut={};return ut.top=Xt.top,ut.right=O-Xt.right,ut.bottom=nn-Xt.bottom,ut.left=Xt.left,ut.width=ut.right-ut.left,ut.height=ut.bottom-ut.top,ut.width<=0&&br===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),ut.height<=0&&br===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),ut});Q(n,Jr,O=>t(151,f=O));const vn=xe([Jr],([O])=>O.width);Q(n,vn,O=>t(34,Me=O));const wn=xe([Jr],([O])=>O.height);Q(n,wn,O=>t(35,ae=O));const Bt=xe([Mn,Kr,$n,wr,Gr,Er,Sr],([O,nn,Xt,ut,In,su,uu])=>{const fu={x:ut,y:In,r:su,z:uu},ja=Ya(nn,Xt),pu=Object.fromEntries(Object.keys(ja).map(Ha=>[Ha,fu[Ha]]));return Object.keys(ja).length>0?{...op(O,ja,pu),...Xt}:{}});Q(n,Bt,O=>t(38,Fe=O));const Qr=xe([Bt,N],aa("x"));Q(n,Qr,O=>t(39,$e=O));const xr=xe([Bt,ze],aa("y"));Q(n,xr,O=>t(40,Be=O));const $r=xe([Bt,Ze],aa("z"));Q(n,$r,O=>t(41,Ue=O));const ea=xe([Bt,rt],aa("r"));Q(n,ea,O=>t(42,Ke=O));const Cr=xe([wr,Bt,Qr,_r,Rt,Kt,vn,wn,Br,Yt],ia("x"));Q(n,Cr,O=>t(9,c=O));const za=xe([bn,Cr],oa);Q(n,za,O=>t(47,Gt=O));const Ar=xe([Gr,Bt,xr,yr,$t,en,vn,wn,jr,Yt],ia("y"));Q(n,Ar,O=>t(8,o=O));const Na=xe([_n,Ar],oa);Q(n,Na,O=>t(48,et=O));const Mr=xe([Sr,Bt,$r,kr,It,zt,vn,wn,Hr,Yt],ia("z"));Q(n,Mr,O=>t(7,i=O));const La=xe([yn,Mr],oa);Q(n,La,O=>t(49,qe=O));const Ir=xe([Er,Bt,ea,vr,qt,tn,vn,wn,Ur,Yt],ia("r"));Q(n,Ir,O=>t(6,l=O));const Va=xe([kn,Ir],oa);Q(n,Va,O=>t(50,Je=O));const Fa=xe([Cr],ca);Q(n,Fa,O=>t(43,St=O));const Oa=xe([Ar],ca);Q(n,Oa,O=>t(44,Ne=O));const Wa=xe([Mr],ca);Q(n,Wa,O=>t(45,Ce=O));const qa=xe([Ir],ca);Q(n,qa,O=>t(46,st=O));const Ba=xe([vn,wn],([O,nn])=>O/nn);Q(n,Ba,O=>t(36,ke=O));function ou(O){He[O?"unshift":"push"](()=>{Tt=O,t(2,Tt)})}function cu(){pt=this.clientWidth,_t=this.clientHeight,t(0,pt),t(1,_t)}return n.$$set=O=>{"ssr"in O&&t(3,Ut=O.ssr),"pointerEvents"in O&&t(4,Cn=O.pointerEvents),"position"in O&&t(5,Zt=O.position),"percentRange"in O&&t(111,Qe=O.percentRange),"width"in O&&t(112,gt=O.width),"height"in O&&t(113,Ft=O.height),"containerWidth"in O&&t(0,pt=O.containerWidth),"containerHeight"in O&&t(1,_t=O.containerHeight),"element"in O&&t(2,Tt=O.element),"x"in O&&t(114,yt=O.x),"y"in O&&t(115,Ot=O.y),"z"in O&&t(116,Ct=O.z),"r"in O&&t(117,Pt=O.r),"data"in O&&t(118,At=O.data),"xDomain"in O&&t(119,Mt=O.xDomain),"yDomain"in O&&t(120,sn=O.yDomain),"zDomain"in O&&t(121,un=O.zDomain),"rDomain"in O&&t(122,Wt=O.rDomain),"xNice"in O&&t(123,zn=O.xNice),"yNice"in O&&t(124,Nn=O.yNice),"zNice"in O&&t(125,Ln=O.zNice),"rNice"in O&&t(126,Vn=O.rNice),"xPadding"in O&&t(127,Fn=O.xPadding),"yPadding"in O&&t(128,On=O.yPadding),"zPadding"in O&&t(129,Wn=O.zPadding),"rPadding"in O&&t(130,qn=O.rPadding),"xScale"in O&&t(131,Bn=O.xScale),"yScale"in O&&t(132,An=O.yScale),"zScale"in O&&t(133,jn=O.zScale),"rScale"in O&&t(134,Hn=O.rScale),"xRange"in O&&t(135,fn=O.xRange),"yRange"in O&&t(136,pn=O.yRange),"zRange"in O&&t(137,mn=O.zRange),"rRange"in O&&t(138,hn=O.rRange),"xReverse"in O&&t(139,Un=O.xReverse),"yReverse"in O&&t(140,Zn=O.yReverse),"zReverse"in O&&t(141,Yn=O.zReverse),"rReverse"in O&&t(142,Kn=O.rReverse),"padding"in O&&t(143,Xn=O.padding),"extents"in O&&t(144,Jn=O.extents),"flatData"in O&&t(145,Qn=O.flatData),"custom"in O&&t(146,xn=O.custom),"debug"in O&&t(147,dr=O.debug),"$$scope"in O&&t(152,Et=O.$$scope)},n.$$.update=()=>{n.$$.dirty[4]&65792&&t(150,r=typeof Zn>"u"?typeof An.bandwidth!="function":Zn),n.$$.dirty[3]&2097152&&yt&&t(148,Oe.x=yt,Oe),n.$$.dirty[3]&4194304&&Ot&&t(148,Oe.y=Ot,Oe),n.$$.dirty[3]&8388608&&Ct&&t(148,Oe.z=Ct,Oe),n.$$.dirty[3]&16777216&&Pt&&t(148,Oe.r=Pt,Oe),n.$$.dirty[3]&67108864&&Mt&&t(148,Oe.xDomain=Mt,Oe),n.$$.dirty[3]&134217728&&sn&&t(148,Oe.yDomain=sn,Oe),n.$$.dirty[3]&268435456&&un&&t(148,Oe.zDomain=un,Oe),n.$$.dirty[3]&536870912&&Wt&&t(148,Oe.rDomain=Wt,Oe),n.$$.dirty[4]&2048&&fn&&t(148,Oe.xRange=fn,Oe),n.$$.dirty[4]&4096&&pn&&t(148,Oe.yRange=pn,Oe),n.$$.dirty[4]&8192&&mn&&t(148,Oe.zRange=mn,Oe),n.$$.dirty[4]&16384&&hn&&t(148,Oe.rRange=hn,Oe),n.$$.dirty[3]&262144&&Pe(Yt,Ge=Qe,Ge),n.$$.dirty[0]&1&&Pe(gn,We=pt,We),n.$$.dirty[0]&2&&Pe(dn,Se=_t,Se),n.$$.dirty[4]&1048576&&Pe($n,re=Ya(Jn),re),n.$$.dirty[3]&33554432&&Pe(er,he=At,he),n.$$.dirty[3]&33554432|n.$$.dirty[4]&2097152&&Pe(Mn,J=Qn||At,J),n.$$.dirty[4]&524288&&Pe(tr,j=Xn,j),n.$$.dirty[3]&2097152&&Pe(bn,ie=Gn(yt),ie),n.$$.dirty[3]&4194304&&Pe(_n,Y=Gn(Ot),Y),n.$$.dirty[3]&8388608&&Pe(yn,W=Gn(Ct),W),n.$$.dirty[3]&16777216&&Pe(kn,ne=Gn(Pt),ne),n.$$.dirty[3]&67108864&&Pe(N,me=Mt,me),n.$$.dirty[3]&134217728&&Pe(ze,x=sn,x),n.$$.dirty[3]&268435456&&Pe(Ze,$=un,$),n.$$.dirty[3]&536870912&&Pe(rt,K=Wt,K),n.$$.dirty[3]&1073741824&&Pe(Rt,F=zn,F),n.$$.dirty[4]&1&&Pe($t,V=Nn,V),n.$$.dirty[4]&2&&Pe(It,H=Ln,H),n.$$.dirty[4]&4&&Pe(qt,B=Vn,B),n.$$.dirty[4]&32768&&Pe(Kt,P=Un,P),n.$$.dirty[4]&67108864&&Pe(en,D=r,D),n.$$.dirty[4]&131072&&Pe(zt,M=Yn,M),n.$$.dirty[4]&262144&&Pe(tn,I=Kn,I),n.$$.dirty[4]&8&&Pe(_r,S=Fn,S),n.$$.dirty[4]&16&&Pe(yr,A=On,A),n.$$.dirty[4]&32&&Pe(kr,E=Wn,E),n.$$.dirty[4]&64&&Pe(vr,C=qn,C),n.$$.dirty[4]&2048&&Pe(Br,k=fn,k),n.$$.dirty[4]&4096&&Pe(jr,w=pn,w),n.$$.dirty[4]&8192&&Pe(Hr,G=mn,G),n.$$.dirty[4]&16384&&Pe(Ur,y=hn,y),n.$$.dirty[4]&128&&Pe(wr,v=Bn,v),n.$$.dirty[4]&256&&Pe(Gr,b=An,b),n.$$.dirty[4]&512&&Pe(Sr,d=jn,d),n.$$.dirty[4]&1024&&Pe(Er,h=Hn,h),n.$$.dirty[4]&4194304&&Pe(Yr,m=xn,m),n.$$.dirty[4]&16777216&&Pe(Zr,p=Oe,p),n.$$.dirty[4]&33554432&&ma("LayerCake",a),n.$$.dirty[0]&1992|n.$$.dirty[4]&159383552&&f&&dr===!0&&(Ut===!0||typeof window<"u")&&Vt({boundingBox:f,activeGetters:s,x:Oe.x,y:Oe.y,z:Oe.z,r:Oe.r,xScale:c,yScale:o,zScale:i,rScale:l})},t(149,a={activeGetters:Kr,width:vn,height:wn,percentRange:Yt,aspectRatio:Ba,containerWidth:gn,containerHeight:dn,x:bn,y:_n,z:yn,r:kn,custom:Yr,data:er,xNice:Rt,yNice:$t,zNice:It,rNice:qt,xReverse:Kt,yReverse:en,zReverse:zt,rReverse:tn,xPadding:_r,yPadding:yr,zPadding:kr,rPadding:vr,padding:Xr,flatData:Mn,extents:Bt,xDomain:Qr,yDomain:xr,zDomain:$r,rDomain:ea,xRange:Fa,yRange:Oa,zRange:Wa,rRange:qa,config:Zr,xScale:Cr,xGet:za,yScale:Ar,yGet:Na,zScale:Mr,zGet:La,rScale:Ir,rGet:Va}),[pt,_t,Tt,Ut,Cn,Zt,l,i,o,c,s,p,m,C,E,A,S,I,M,D,P,B,H,V,F,ne,W,Y,ie,J,he,Se,We,Ge,Me,ae,ke,ue,Fe,$e,Be,Ue,Ke,St,Ne,Ce,st,Gt,et,qe,Je,Yt,gn,dn,$n,er,Mn,tr,bn,_n,yn,kn,N,ze,Ze,rt,Rt,$t,It,qt,Kt,en,zt,tn,_r,yr,kr,vr,Br,jr,Hr,Ur,wr,Gr,Sr,Er,Zr,Yr,Kr,Xr,Jr,vn,wn,Bt,Qr,xr,$r,ea,Cr,za,Ar,Na,Mr,La,Ir,Va,Fa,Oa,Wa,qa,Ba,Qe,gt,Ft,yt,Ot,Ct,Pt,At,Mt,sn,un,Wt,zn,Nn,Ln,Vn,Fn,On,Wn,qn,Bn,An,jn,Hn,fn,pn,mn,hn,Un,Zn,Yn,Kn,Xn,Jn,Qn,xn,dr,Oe,a,r,f,Et,Ht,ou,cu]}class Vr extends Ie{constructor(e){super(),De(this,e,Mp,Ap,Ae,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},null,[-1,-1,-1,-1,-1,-1])}}const Ip=n=>({element:n&1}),Fi=n=>({element:n[0]}),Dp=n=>({}),Oi=n=>({}),Tp=n=>({}),Wi=n=>({});function qi(n){let e,t;return{c(){e=be("title"),t=ee(n[8])},l(r){e=_e(r,"title",{});var a=T(e);t=te(a,n[8]),a.forEach(g)},m(r,a){L(r,e,a),_(e,t)},p(r,a){a&256&&we(t,r[8])},d(r){r&&g(e)}}}function Pp(n){let e,t=n[8]&&qi(n);return{c(){t&&t.c(),e=le()},l(r){t&&t.l(r),e=le()},m(r,a){t&&t.m(r,a),L(r,e,a)},p(r,a){r[8]?t?t.p(r,a):(t=qi(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&g(e),t&&t.d(r)}}}function Rp(n){let e,t,r,a,l;const i=n[16].title,o=at(i,n,n[15],Wi),c=o||Pp(n),s=n[16].defs,f=at(s,n,n[15],Oi),p=n[16].default,m=at(p,n,n[15],Fi);return{c(){e=be("svg"),c&&c.c(),t=be("defs"),f&&f.c(),r=be("g"),m&&m.c(),this.h()},l(h){e=_e(h,"svg",{class:!0,viewBox:!0,width:!0,height:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var d=T(e);c&&c.l(d),t=_e(d,"defs",{});var b=T(t);f&&f.l(b),b.forEach(g),r=_e(d,"g",{class:!0,transform:!0});var v=T(r);m&&m.l(v),v.forEach(g),d.forEach(g),this.h()},h(){u(r,"class","layercake-layout-svg_g"),u(r,"transform",a="translate("+n[11].left+", "+n[11].top+")"),u(e,"class","layercake-layout-svg svelte-17l4rdd"),u(e,"viewBox",n[4]),u(e,"width",n[9]),u(e,"height",n[10]),u(e,"aria-label",n[5]),u(e,"aria-labelledby",n[6]),u(e,"aria-describedby",n[7]),fe(e,"z-index",n[2]),fe(e,"pointer-events",n[3]===!1?"none":null)},m(h,d){L(h,e,d),c&&c.m(e,null),_(e,t),f&&f.m(t,null),_(e,r),m&&m.m(r,null),n[17](r),n[18](e),l=!0},p(h,[d]){o?o.p&&(!l||d&32768)&&lt(o,i,h,h[15],l?ot(i,h[15],d,Tp):it(h[15]),Wi):c&&c.p&&(!l||d&256)&&c.p(h,l?d:-1),f&&f.p&&(!l||d&32768)&&lt(f,s,h,h[15],l?ot(s,h[15],d,Dp):it(h[15]),Oi),m&&m.p&&(!l||d&32769)&&lt(m,p,h,h[15],l?ot(p,h[15],d,Ip):it(h[15]),Fi),(!l||d&2048&&a!==(a="translate("+h[11].left+", "+h[11].top+")"))&&u(r,"transform",a),(!l||d&16)&&u(e,"viewBox",h[4]),(!l||d&512)&&u(e,"width",h[9]),(!l||d&1024)&&u(e,"height",h[10]),(!l||d&32)&&u(e,"aria-label",h[5]),(!l||d&64)&&u(e,"aria-labelledby",h[6]),(!l||d&128)&&u(e,"aria-describedby",h[7]),d&4&&fe(e,"z-index",h[2]),d&8&&fe(e,"pointer-events",h[3]===!1?"none":null)},i(h){l||(q(c,h),q(f,h),q(m,h),l=!0)},o(h){X(c,h),X(f,h),X(m,h),l=!1},d(h){h&&g(e),c&&c.d(h),f&&f.d(h),m&&m.d(h),n[17](null),n[18](null)}}}function zp(n,e,t){let r,a,l,{$$slots:i={},$$scope:o}=e,{element:c=void 0}=e,{innerElement:s=void 0}=e,{zIndex:f=void 0}=e,{pointerEvents:p=void 0}=e,{viewBox:m=void 0}=e,{label:h=void 0}=e,{labelledBy:d=void 0}=e,{describedBy:b=void 0}=e,{title:v=void 0}=e;const{containerWidth:y,containerHeight:G,padding:w}=ct("LayerCake");Q(n,y,E=>t(9,r=E)),Q(n,G,E=>t(10,a=E)),Q(n,w,E=>t(11,l=E));function k(E){He[E?"unshift":"push"](()=>{s=E,t(1,s)})}function C(E){He[E?"unshift":"push"](()=>{c=E,t(0,c)})}return n.$$set=E=>{"element"in E&&t(0,c=E.element),"innerElement"in E&&t(1,s=E.innerElement),"zIndex"in E&&t(2,f=E.zIndex),"pointerEvents"in E&&t(3,p=E.pointerEvents),"viewBox"in E&&t(4,m=E.viewBox),"label"in E&&t(5,h=E.label),"labelledBy"in E&&t(6,d=E.labelledBy),"describedBy"in E&&t(7,b=E.describedBy),"title"in E&&t(8,v=E.title),"$$scope"in E&&t(15,o=E.$$scope)},[c,s,f,p,m,h,d,b,v,r,a,l,y,G,w,o,i,k,C]}class gr extends Ie{constructor(e){super(),De(this,e,zp,Rp,Ae,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function nu(n,e,t){const r=window.devicePixelRatio||1;return n.canvas.width=e*r,n.canvas.height=t*r,n.canvas.style.width=`${e}px`,n.canvas.style.height=`${t}px`,n.scale(r,r),{width:n.canvas.width,height:n.canvas.height}}const Np=n=>({element:n&2,context:n&1}),Bi=n=>({element:n[1],context:n[0]}),Lp=n=>({}),ji=n=>({});function Hi(n){let e;return{c(){e=ee(n[4])},l(t){e=te(t,n[4])},m(t,r){L(t,e,r)},p(t,r){r&16&&we(e,t[4])},d(t){t&&g(e)}}}function Vp(n){let e,t=n[4]&&Hi(n);return{c(){t&&t.c(),e=le()},l(r){t&&t.l(r),e=le()},m(r,a){t&&t.m(r,a),L(r,e,a)},p(r,a){r[4]?t?t.p(r,a):(t=Hi(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&g(e),t&&t.d(r)}}}function Fp(n){let e,t,r;const a=n[13].fallback,l=at(a,n,n[12],ji),i=l||Vp(n),o=n[13].default,c=at(o,n,n[12],Bi);return{c(){e=R("canvas"),i&&i.c(),t=U(),c&&c.c(),this.h()},l(s){e=z(s,"CANVAS",{class:!0,style:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var f=T(e);i&&i.l(f),f.forEach(g),t=Z(s),c&&c.l(s),this.h()},h(){u(e,"class","layercake-layout-canvas"),fe(e,"width","100%"),fe(e,"height","100%"),fe(e,"position","absolute"),u(e,"aria-label",n[5]),u(e,"aria-labelledby",n[6]),u(e,"aria-describedby",n[7]),fe(e,"z-index",n[2]),fe(e,"pointer-events",n[3]===!1?"none":null),fe(e,"top",n[8].top+"px"),fe(e,"right",n[8].right+"px"),fe(e,"bottom",n[8].bottom+"px"),fe(e,"left",n[8].left+"px")},m(s,f){L(s,e,f),i&&i.m(e,null),n[14](e),L(s,t,f),c&&c.m(s,f),r=!0},p(s,[f]){l?l.p&&(!r||f&4096)&&lt(l,a,s,s[12],r?ot(a,s[12],f,Lp):it(s[12]),ji):i&&i.p&&(!r||f&16)&&i.p(s,r?f:-1),(!r||f&32)&&u(e,"aria-label",s[5]),(!r||f&64)&&u(e,"aria-labelledby",s[6]),(!r||f&128)&&u(e,"aria-describedby",s[7]),f&4&&fe(e,"z-index",s[2]),f&8&&fe(e,"pointer-events",s[3]===!1?"none":null),f&256&&fe(e,"top",s[8].top+"px"),f&256&&fe(e,"right",s[8].right+"px"),f&256&&fe(e,"bottom",s[8].bottom+"px"),f&256&&fe(e,"left",s[8].left+"px"),c&&c.p&&(!r||f&4099)&&lt(c,o,s,s[12],r?ot(o,s[12],f,Np):it(s[12]),Bi)},i(s){r||(q(i,s),q(c,s),r=!0)},o(s){X(i,s),X(c,s),r=!1},d(s){s&&(g(e),g(t)),i&&i.d(s),n[14](null),c&&c.d(s)}}}function Op(n,e,t){let r,a,l,{$$slots:i={},$$scope:o}=e;const{width:c,height:s,padding:f}=ct("LayerCake");Q(n,c,C=>t(16,a=C)),Q(n,s,C=>t(15,r=C)),Q(n,f,C=>t(8,l=C));let{element:p=void 0}=e,{context:m=void 0}=e,{zIndex:h=void 0}=e,{pointerEvents:d=void 0}=e,{fallback:b=""}=e,{label:v=void 0}=e,{labelledBy:y=void 0}=e,{describedBy:G=void 0}=e;const w={ctx:Re({})};cn(()=>{t(0,m=p.getContext("2d")),nu(m,a,r)}),ma("canvas",w);function k(C){He[C?"unshift":"push"](()=>{p=C,t(1,p)})}return n.$$set=C=>{"element"in C&&t(1,p=C.element),"context"in C&&t(0,m=C.context),"zIndex"in C&&t(2,h=C.zIndex),"pointerEvents"in C&&t(3,d=C.pointerEvents),"fallback"in C&&t(4,b=C.fallback),"label"in C&&t(5,v=C.label),"labelledBy"in C&&t(6,y=C.labelledBy),"describedBy"in C&&t(7,G=C.describedBy),"$$scope"in C&&t(12,o=C.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&w.ctx.set(m)},[m,p,h,d,b,v,y,G,l,c,s,f,o,i,k]}class Wp extends Ie{constructor(e){super(),De(this,e,Op,Fp,Ae,{element:1,context:0,zIndex:2,pointerEvents:3,fallback:4,label:5,labelledBy:6,describedBy:7})}}function ru(n,e,t=!0){if(!Array.isArray(n))return console.error("LayerCake error: Input value to `uniques` must be a list."),null;const r=n.length,a=typeof e=="function",l=typeof e<"u",i=new Set,o=[];for(let c=0;c<r;c+=1){const s=n[c],f=a?e(s):l===!0?s[e]:s;i.has(f)||(i.add(f),o.push(t?f:s))}return o}function Ga(n){return Object.prototype.toString.call(n)==="[object Date]"}function fl(n,e,t,r){if(typeof t=="number"||Ga(t)){const a=r-t,l=(t-e)/(n.dt||1/60),i=n.opts.stiffness*a,o=n.opts.damping*l,c=(i-o)*n.inv_mass,s=(l+c)*n.dt;return Math.abs(s)<n.opts.precision&&Math.abs(a)<n.opts.precision?r:(n.settled=!1,Ga(t)?new Date(t.getTime()+s):t+s)}else{if(Array.isArray(t))return t.map((a,l)=>fl(n,e[l],t[l],r[l]));if(typeof t=="object"){const a={};for(const l in t)a[l]=fl(n,e[l],t[l],r[l]);return a}else throw new Error(`Cannot spring ${typeof t} values`)}}function qp(n,e={}){const t=Re(n),{stiffness:r=.15,damping:a=.8,precision:l=.01}=e;let i,o,c,s=n,f=n,p=1,m=0,h=!1;function d(v,y={}){f=v;const G=c={};return n==null||y.hard||b.stiffness>=1&&b.damping>=1?(h=!0,i=ha(),s=v,t.set(n=f),Promise.resolve()):(y.soft&&(m=1/((y.soft===!0?.5:+y.soft)*60),p=0),o||(i=ha(),h=!1,o=kl(w=>{if(h)return h=!1,o=null,!1;p=Math.min(p+m,1);const k={inv_mass:p,opts:b,settled:!0,dt:(w-i)*60/1e3},C=fl(k,s,n,f);return i=w,s=n,t.set(n=C),k.settled&&(o=null),!k.settled})),new Promise(w=>{o.promise.then(()=>{G===c&&w()})}))}const b={set:d,update:(v,y)=>d(v(f,n),y),subscribe:t.subscribe,stiffness:r,damping:a,precision:l};return b}function pl(n,e){if(n===e||n!==n)return()=>n;const t=typeof n;if(t!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const r=e.map((a,l)=>pl(n[l],a));return a=>r.map(l=>l(a))}if(t==="object"){if(!n||!e)throw new Error("Object cannot be null");if(Ga(n)&&Ga(e)){n=n.getTime(),e=e.getTime();const l=e-n;return i=>new Date(n+i*l)}const r=Object.keys(e),a={};return r.forEach(l=>{a[l]=pl(n[l],e[l])}),l=>{const i={};return r.forEach(o=>{i[o]=a[o](l)}),i}}if(t==="number"){const r=e-n;return a=>n+a*r}throw new Error(`Cannot interpolate ${t} values`)}function Ui(n,e={}){const t=Re(n);let r,a=n;function l(i,o){if(n==null)return t.set(n=i),Promise.resolve();a=i;let c=r,s=!1,{delay:f=0,duration:p=400,easing:m=yl,interpolate:h=pl}=jt(jt({},e),o);if(p===0)return c&&(c.abort(),c=null),t.set(n=a),Promise.resolve();const d=ha()+f;let b;return r=kl(v=>{if(v<d)return!0;s||(b=h(n,i),typeof p=="function"&&(p=p(n,i)),s=!0),c&&(c.abort(),c=null);const y=v-d;return y>p?(t.set(n=i),!1):(t.set(n=b(m(y/p))),!0)}),r.promise}return{set:l,update:(i,o)=>l(i(a,n),o),subscribe:t.subscribe}}function Bp(n,e){return jp(n)||Hp(n,e)||Up()}function jp(n){if(Array.isArray(n))return n}function Hp(n,e){var t=[],r=!0,a=!1,l=void 0;try{for(var i=n[Symbol.iterator](),o;!(r=(o=i.next()).done)&&(t.push(o.value),!(e&&t.length===e));r=!0);}catch(c){a=!0,l=c}finally{try{!r&&i.return!=null&&i.return()}finally{if(a)throw l}}return t}function Up(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function au(n,e,t,r){for(var a=0,l=0,i=n.length;l<i;l++){var o=n[l],c=+e(o,l,n),s=+t(o,l,n);c!=null&&isFinite(c)&&s!=null&&isFinite(s)&&r(c,s,a++)}}function Zp(n,e,t,r,a){var l=0,i=0;return au(n,e,t,function(o,c){var s=c-a(o),f=c-r;l+=s*s,i+=f*f}),1-l/i}function Zi(n){return Math.atan2(n[1][1]-n[0][1],n[1][0]-n[0][0])*180/Math.PI}function Yp(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}function Kp(n,e,t){for(var r=Math.log(e-n)*Math.LOG10E+1|0,a=1*Math.pow(10,-r/2-1),l=1e4,i=[c(n),c(e)],o=0;s(i)&&o<l;);return i;function c(f){return[f,t(f)]}function s(f){o++;for(var p=f.length,m=!1,h=0;h<p-1;h++){var d=f[h],b=f[h+1],v=Yp([d,b]),y=c(v[0]),G=Zi([d,v]),w=Zi([d,y]),k=Math.abs(G-w);k>a&&(f.splice(h+1,0,y),m=!0)}return m}}function Xp(n,e,t,r){var a=r-n*n,l=Math.abs(a)<1e-24?0:(t-n*e)/a,i=e-l*n;return[i,l]}function qr(){var n=function(l){return l[0]},e=function(l){return l[1]},t;function r(a){var l=0,i=0,o=0,c=0,s=0,f=0,p=t?+t[0]:1/0,m=t?+t[1]:-1/0;au(a,n,e,function(w,k){var C=Math.log(k),E=w*k;++l,i+=(k-i)/l,c+=(E-c)/l,f+=(w*E-f)/l,o+=(k*C-o)/l,s+=(E*C-s)/l,t||(w<p&&(p=w),w>m&&(m=w))});var h=Xp(c/i,o/i,s/i,f/i),d=Bp(h,2),b=d[0],v=d[1];b=Math.exp(b);var y=function(k){return b*Math.exp(v*k)},G=Kp(p,m,y);return G.a=b,G.b=v,G.predict=y,G.rSquared=Zp(a,n,e,i,y),G}return r.domain=function(a){return arguments.length?(t=a,r):t},r.x=function(a){return arguments.length?(n=a,r):n},r.y=function(a){return arguments.length?(e=a,r):e},r}function Yi(n,e,t){const r=n.slice();r[40]=e[t],r[46]=t;const a=r[14](r[40]);r[41]=a;const l=r[15](r[40]);r[42]=l;const i=r[40].topGroup.replace(/[^a-zA-Z0-9]/g,"");r[43]=i;const o=r[3]==1&&r[43]=="cattle"||r[3]==1&&r[43]=="pig"||r[3]==2&&r[43]=="cat"||r[3]==2&&r[43]=="bear"||r[3]==2&&r[43]=="mythicalcreature"?r[0]+40:r[0]+20;return r[44]=o,r}function Ki(n,e,t){const r=n.slice();return r[40]=e[t],r[46]=t,r}function Ka(n){const e=n.slice(),t=e[3]>=5||e[3]=="exit"?e[14](e[40]):e[14](e[4][0][4]);e[41]=t;const r=e[3]>=5||e[3]=="exit"?e[15](e[40]):e[15](e[4][0][4]);e[42]=r;const a=e[40].topgroup;return e[43]=a,e}function Xi(n,e,t){const r=n.slice();return r[40]=e[t],r[46]=t,r}function Xa(n){const e=n.slice(),t=e[3]>=5||e[3]=="exit"?e[14](e[40]):e[14](e[4][0][4]);e[41]=t;const r=e[3]>=5||e[3]=="exit"?e[15](e[40]):e[15](e[4][0][4]);e[42]=r;const a=e[40].topgroup;return e[43]=a,e}function Ji(n){let e,t,r,a,l;return{c(){e=be("rect"),this.h()},l(i){e=_e(i,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,opacity:!0}),T(e).forEach(g),this.h()},h(){u(e,"class","highlight-quadrant"),u(e,"x",t=n[8](n[5])),u(e,"y",r=n[7](n[6])),u(e,"width",a=n[12]-n[8](n[5])),u(e,"height",l=n[13]-n[7](n[6])),u(e,"fill","#363B45"),u(e,"opacity","0.5")},m(i,o){L(i,e,o)},p(i,o){o[0]&288&&t!==(t=i[8](i[5]))&&u(e,"x",t),o[0]&192&&r!==(r=i[7](i[6]))&&u(e,"y",r),o[0]&4384&&a!==(a=i[12]-i[8](i[5]))&&u(e,"width",a),o[0]&8384&&l!==(l=i[13]-i[7](i[6]))&&u(e,"height",l)},d(i){i&&g(e)}}}function Qi(n){let e,t,r=ve(n[4][1]),a=[];for(let o=0;o<r.length;o+=1)a[o]=$i(Xi(n,r,o));let l=ve(n[4][1]),i=[];for(let o=0;o<l.length;o+=1)i[o]=to(Ki(n,l,o));return{c(){e=be("g");for(let o=0;o<a.length;o+=1)a[o].c();t=le();for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=_e(o,"g",{class:!0});var c=T(e);for(let s=0;s<a.length;s+=1)a[s].l(c);t=le();for(let s=0;s<i.length;s+=1)i[s].l(c);c.forEach(g),this.h()},h(){u(e,"class","wines-wrapper svelte-pgmvq1")},m(o,c){L(o,e,c);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(e,null);_(e,t);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null)},p(o,c){if(c[0]&51228){r=ve(o[4][1]);let s;for(s=0;s<r.length;s+=1){const f=Xi(o,r,s);a[s]?a[s].p(f,c):(a[s]=$i(f),a[s].c(),a[s].m(e,t))}for(;s<a.length;s+=1)a[s].d(1);a.length=r.length}if(c[0]&51228){l=ve(o[4][1]);let s;for(s=0;s<l.length;s+=1){const f=Ki(o,l,s);i[s]?i[s].p(f,c):(i[s]=to(f),i[s].c(),i[s].m(e,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=l.length}},d(o){o&&g(e),je(a,o),je(i,o)}}}function xi(n){let e,t,r,a,l,i;return{c(){e=be("g"),t=be("circle"),this.h()},l(o){e=_e(o,"g",{class:!0});var c=T(e);t=_e(c,"circle",{id:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),T(t).forEach(g),c.forEach(g),this.h()},h(){u(t,"id",r=`circle-${n[40].id}`),u(t,"cx",a=n[41]),u(t,"cy",l=n[42]),u(t,"r",4),u(t,"fill","#38425D"),u(t,"stroke","none"),u(t,"stroke-width",n[2]),u(t,"class","svelte-pgmvq1"),u(e,"class",i="wine-circle wine-circle-"+n[43]+" svelte-pgmvq1"),ye(e,"hidden",n[3]==9&&n[40].topgroup!=="bird"||n[3]==10&&n[40].topgroup!=="cattle"||n[3]==11&&n[40].topgroup!=="cat")},m(o,c){L(o,e,c),_(e,t)},p(o,c){c[0]&16&&r!==(r=`circle-${o[40].id}`)&&u(t,"id",r),c[0]&16408&&a!==(a=o[41])&&u(t,"cx",a),c[0]&32792&&l!==(l=o[42])&&u(t,"cy",l),c[0]&4&&u(t,"stroke-width",o[2]),c[0]&16&&i!==(i="wine-circle wine-circle-"+o[43]+" svelte-pgmvq1")&&u(e,"class",i),c[0]&24&&ye(e,"hidden",o[3]==9&&o[40].topgroup!=="bird"||o[3]==10&&o[40].topgroup!=="cattle"||o[3]==11&&o[40].topgroup!=="cat")},d(o){o&&g(e)}}}function $i(n){let e,t=n[11]!==n[40].id&&xi(Xa(n));return{c(){t&&t.c(),e=le()},l(r){t&&t.l(r),e=le()},m(r,a){t&&t.m(r,a),L(r,e,a)},p(r,a){r[11]!==r[40].id?t?t.p(Xa(r),a):(t=xi(Xa(r)),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&g(e),t&&t.d(r)}}}function eo(n){let e,t,r,a,l,i,o,c;return{c(){e=be("g"),t=be("circle"),this.h()},l(s){e=_e(s,"g",{class:!0});var f=T(e);t=_e(f,"circle",{id:!0,class:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),T(t).forEach(g),f.forEach(g),this.h()},h(){u(t,"id",r=`circle-${n[40].id}`),u(t,"class","selected-circle svelte-pgmvq1"),u(t,"cx",a=n[41]),u(t,"cy",l=n[42]),u(t,"r",i=n[3]>=5&&n[3]<9?6:4),u(t,"fill","#38425D"),u(t,"stroke",o=n[3]>=5&&n[3]<9?"#7b0439":"none"),u(t,"stroke-width",n[2]),u(e,"class",c="wine-circle wine-circle-"+n[43]+" svelte-pgmvq1"),ye(e,"hidden",n[3]==14)},m(s,f){L(s,e,f),_(e,t)},p(s,f){f[0]&16&&r!==(r=`circle-${s[40].id}`)&&u(t,"id",r),f[0]&16408&&a!==(a=s[41])&&u(t,"cx",a),f[0]&32792&&l!==(l=s[42])&&u(t,"cy",l),f[0]&8&&i!==(i=s[3]>=5&&s[3]<9?6:4)&&u(t,"r",i),f[0]&8&&o!==(o=s[3]>=5&&s[3]<9?"#7b0439":"none")&&u(t,"stroke",o),f[0]&4&&u(t,"stroke-width",s[2]),f[0]&16&&c!==(c="wine-circle wine-circle-"+s[43]+" svelte-pgmvq1")&&u(e,"class",c),f[0]&24&&ye(e,"hidden",s[3]==14)},d(s){s&&g(e)}}}function to(n){let e,t=n[11]===n[40].id&&eo(Ka(n));return{c(){t&&t.c(),e=le()},l(r){t&&t.l(r),e=le()},m(r,a){t&&t.m(r,a),L(r,e,a)},p(r,a){r[11]===r[40].id?t?t.p(Ka(r),a):(t=eo(Ka(r)),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&g(e),t&&t.d(r)}}}function no(n){let e,t=ve(n[4][0]),r=[];for(let a=0;a<t.length;a+=1)r[a]=io(Yi(n,t,a));return{c(){e=be("g");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=_e(a,"g",{class:!0});var l=T(e);for(let i=0;i<r.length;i+=1)r[i].l(l);l.forEach(g),this.h()},h(){u(e,"class","medians-wrapper svelte-pgmvq1")},m(a,l){L(a,e,l);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null)},p(a,l){if(l[0]&49695){t=ve(a[4][0]);let i;for(i=0;i<t.length;i+=1){const o=Yi(a,t,i);r[i]?r[i].p(o,l):(r[i]=io(o),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(a){a&&g(e),je(r,a)}}}function Jp(n){let e,t,r,a,l,i,o,c=(n[3]==null||n[3]<4)&&ro(n);return{c(){e=be("g"),t=be("circle"),c&&c.c(),this.h()},l(s){e=_e(s,"g",{id:!0,class:!0});var f=T(e);t=_e(f,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),T(t).forEach(g),c&&c.l(f),f.forEach(g),this.h()},h(){u(t,"cx",r=n[41]),u(t,"cy",a=n[42]),u(t,"r",l=n[3]==1&&n[43]=="cattle"||n[3]==1&&n[43]=="pig"||n[3]==2&&n[43]=="cat"||n[3]==2&&n[43]=="bear"||n[3]==2&&n[43]=="mythicalcreature"?40:n[3]==null||n[3]<=3?n[0]:4),u(t,"fill",n[1]),u(t,"stroke",i=n[9]==n[40].topGroup?"#7b0439":"none"),u(t,"stroke-width",2),u(t,"class","svelte-pgmvq1"),u(e,"id",o=`${n[43]}-group`),u(e,"class","groupings svelte-pgmvq1"),ye(e,"active",n[3]==null||n[3]==0||n[3]==1&&n[43]=="cattle"||n[3]==1&&n[43]=="pig"||n[3]==2&&n[43]=="cat"||n[3]==2&&n[43]=="bear"||n[3]==2&&n[43]=="mythicalcreature"||n[3]>=4),ye(e,"hidden",n[3]>=5)},m(s,f){L(s,e,f),_(e,t),c&&c.m(e,null)},p(s,f){f[0]&16400&&r!==(r=s[41])&&u(t,"cx",r),f[0]&32784&&a!==(a=s[42])&&u(t,"cy",a),f[0]&25&&l!==(l=s[3]==1&&s[43]=="cattle"||s[3]==1&&s[43]=="pig"||s[3]==2&&s[43]=="cat"||s[3]==2&&s[43]=="bear"||s[3]==2&&s[43]=="mythicalcreature"?40:s[3]==null||s[3]<=3?s[0]:4)&&u(t,"r",l),f[0]&2&&u(t,"fill",s[1]),f[0]&528&&i!==(i=s[9]==s[40].topGroup?"#7b0439":"none")&&u(t,"stroke",i),s[3]==null||s[3]<4?c?c.p(s,f):(c=ro(s),c.c(),c.m(e,null)):c&&(c.d(1),c=null),f[0]&16&&o!==(o=`${s[43]}-group`)&&u(e,"id",o),f[0]&24&&ye(e,"active",s[3]==null||s[3]==0||s[3]==1&&s[43]=="cattle"||s[3]==1&&s[43]=="pig"||s[3]==2&&s[43]=="cat"||s[3]==2&&s[43]=="bear"||s[3]==2&&s[43]=="mythicalcreature"||s[3]>=4),f[0]&8&&ye(e,"hidden",s[3]>=5)},d(s){s&&g(e),c&&c.d()}}}function Qp(n){let e,t=(n[3]==null||n[3]<5)&&ao(n);return{c(){t&&t.c(),e=le()},l(r){t&&t.l(r),e=le()},m(r,a){t&&t.m(r,a),L(r,e,a)},p(r,a){r[3]==null||r[3]<5?t?t.p(r,a):(t=ao(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&g(e),t&&t.d(r)}}}function ro(n){let e,t,r,a,l,i;return{c(){e=be("image"),this.h()},l(o){e=_e(o,"image",{href:!0,x:!0,y:!0,width:!0,height:!0,class:!0}),T(e).forEach(g),this.h()},h(){u(e,"href",t=n[40].topGroup=="cat"||n[40].topGroup=="mythical creature"?"assets/images/icons/catmyth.png":`assets/images/icons/${n[43].replace(/[^a-zA-Z0-9]/g,"")}.png`),u(e,"x",r=n[41]-n[44]/2),u(e,"y",a=n[42]-n[44]/2),u(e,"width",l=n[44]),u(e,"height",i=n[44]),u(e,"class","svelte-pgmvq1")},m(o,c){L(o,e,c)},p(o,c){c[0]&16&&t!==(t=o[40].topGroup=="cat"||o[40].topGroup=="mythical creature"?"assets/images/icons/catmyth.png":`assets/images/icons/${o[43].replace(/[^a-zA-Z0-9]/g,"")}.png`)&&u(e,"href",t),c[0]&16409&&r!==(r=o[41]-o[44]/2)&&u(e,"x",r),c[0]&32793&&a!==(a=o[42]-o[44]/2)&&u(e,"y",a),c[0]&25&&l!==(l=o[44])&&u(e,"width",l),c[0]&25&&i!==(i=o[44])&&u(e,"height",i)},d(o){o&&g(e)}}}function ao(n){let e,t,r,a,l,i=(n[3]==null||n[3]<=3)&&lo(n);return{c(){e=be("g"),t=be("circle"),i&&i.c(),this.h()},l(o){e=_e(o,"g",{class:!0});var c=T(e);t=_e(c,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),T(t).forEach(g),i&&i.l(c),c.forEach(g),this.h()},h(){u(t,"cx",r=n[41]),u(t,"cy",a=n[42]),u(t,"r",l=n[3]==null||n[3]<3?n[0]:n[3]==3?40:4),u(t,"fill","transparent"),u(t,"stroke","#F7A039"),u(t,"stroke-width",n[2]),u(t,"class","svelte-pgmvq1"),u(e,"class","medians active svelte-pgmvq1"),ye(e,"hidden",n[3]>=5)},m(o,c){L(o,e,c),_(e,t),i&&i.m(e,null)},p(o,c){c[0]&16400&&r!==(r=o[41])&&u(t,"cx",r),c[0]&32784&&a!==(a=o[42])&&u(t,"cy",a),c[0]&9&&l!==(l=o[3]==null||o[3]<3?o[0]:o[3]==3?40:4)&&u(t,"r",l),c[0]&4&&u(t,"stroke-width",o[2]),o[3]==null||o[3]<=3?i?i.p(o,c):(i=lo(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null),c[0]&8&&ye(e,"hidden",o[3]>=5)},d(o){o&&g(e),i&&i.d()}}}function lo(n){let e,t=n[40].topGroup+"",r,a,l;return{c(){e=be("text"),r=ee(t),this.h()},l(i){e=_e(i,"text",{class:!0,x:!0,y:!0,"text-anchor":!0,fill:!0});var o=T(e);r=te(o,t),o.forEach(g),this.h()},h(){u(e,"class","label-yellow svelte-pgmvq1"),u(e,"x",a=n[41]+46),u(e,"y",l=n[42]+2),u(e,"text-anchor","start"),u(e,"fill","#F7A039")},m(i,o){L(i,e,o),_(e,r)},p(i,o){o[0]&16&&t!==(t=i[40].topGroup+"")&&we(r,t),o[0]&16400&&a!==(a=i[41]+46)&&u(e,"x",a),o[0]&32784&&l!==(l=i[42]+2)&&u(e,"y",l)},d(i){i&&g(e)}}}function io(n){let e;function t(l,i){if(l[40].topGroup=="animal wines"||l[40].topGroup=="all wines")return Qp;if(l[40].topGroup!=="all"&&l[40].topGroup!=="animal wines")return Jp}let r=t(n),a=r&&r(n);return{c(){a&&a.c(),e=le()},l(l){a&&a.l(l),e=le()},m(l,i){a&&a.m(l,i),L(l,e,i)},p(l,i){r===(r=t(l))&&a?a.p(l,i):(a&&a.d(1),a=r&&r(l),a&&(a.c(),a.m(e.parentNode,e)))},d(l){l&&g(e),a&&a.d(l)}}}function oo(n){let e;return{c(){e=be("path"),this.h()},l(t){e=_e(t,"path",{class:!0,d:!0}),T(e).forEach(g),this.h()},h(){u(e,"class","expRegression svelte-pgmvq1"),u(e,"d",n[10])},m(t,r){L(t,e,r)},p(t,r){r[0]&1024&&u(e,"d",t[10])},d(t){t&&g(e)}}}function xp(n){let e,t,r,a,l,i,o,c,s,f,p,m,h,d,b,v,y,G,w,k=Te(Ee,tm)+"",C,E,A,S,I,M,D=Te(Ee,nm)+"",P,B,H,V,F,K,$=(n[3]>=8||n[3]=="exit")&&Ji(n),x=(n[3]>=4||n[3]=="exit")&&Qi(n),me=(n[3]<=5||n[3]==null)&&no(n),ne=n[10]&&oo(n);return{c(){e=be("g"),$&&$.c(),t=U(),x&&x.c(),r=U(),me&&me.c(),a=U(),l=be("g"),i=be("line"),s=be("line"),m=be("line"),b=be("line"),G=be("text"),w=ee("Med. price ($"),C=ee(k),E=ee(`)
    `),I=be("text"),M=ee("Med. rating ("),P=ee(D),B=ee(" stars)"),F=U(),K=be("g"),ne&&ne.c(),this.h()},l(W){e=_e(W,"g",{class:!0});var Y=T(e);$&&$.l(Y),Y.forEach(g),t=Z(W),x&&x.l(W),r=Z(W),me&&me.l(W),a=Z(W),l=_e(W,"g",{class:!0});var ie=T(l);i=_e(ie,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),T(i).forEach(g),s=_e(ie,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),T(s).forEach(g),m=_e(ie,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),T(m).forEach(g),b=_e(ie,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),T(b).forEach(g),G=_e(ie,"text",{class:!0,x:!0,y:!0,"text-anchor":!0,fill:!0});var j=T(G);w=te(j,"Med. price ($"),C=te(j,k),E=te(j,`)
    `),j.forEach(g),I=_e(ie,"text",{class:!0,x:!0,y:!0,transform:!0,"text-anchor":!0,fill:!0});var J=T(I);M=te(J,"Med. rating ("),P=te(J,D),B=te(J," stars)"),J.forEach(g),ie.forEach(g),F=Z(W),K=_e(W,"g",{class:!0});var he=T(K);ne&&ne.l(he),he.forEach(g),this.h()},h(){u(e,"class","median-markings svelte-pgmvq1"),ye(e,"active",n[3]>=7||n[3]=="exit"),u(i,"class","priceAVG-gray svelte-pgmvq1"),u(i,"x1",0),u(i,"y1",o=n[7](Te(Ee,so))),u(i,"x2",n[12]),u(i,"y2",c=n[7](Te(Ee,uo))),u(s,"class","ratingAVG-gray svelte-pgmvq1"),u(s,"x1",f=n[8](Te(Ee,fo))),u(s,"y1",0),u(s,"x2",p=n[8](Te(Ee,po))),u(s,"y2",n[13]),u(m,"class","priceAVG svelte-pgmvq1"),u(m,"x1",0),u(m,"y1",h=n[7](n[6])),u(m,"x2",n[12]),u(m,"y2",d=n[7](n[6])),u(b,"class","ratingAVG svelte-pgmvq1"),u(b,"x1",v=n[8](n[5])),u(b,"y1",0),u(b,"x2",y=n[8](n[5])),u(b,"y2",n[13]),u(G,"class","label svelte-pgmvq1"),u(G,"x",A=n[12]-20),u(G,"y",S=n[7](Te(Ee,mo))-10),u(G,"text-anchor","end"),u(G,"fill","white"),u(I,"class","label svelte-pgmvq1"),u(I,"x",H=n[8](Te(Ee,ho))-160),u(I,"y",17),u(I,"transform",V=`rotate(-90, ${n[8](Te(Ee,go))}, 0)`),u(I,"text-anchor","start"),u(I,"fill","white"),u(l,"class","median-markings svelte-pgmvq1"),ye(l,"active",n[3]>=7||n[3]=="exit"),u(K,"class","trendline svelte-pgmvq1"),ye(K,"active",n[3]>=6||n[3]=="exit")},m(W,Y){L(W,e,Y),$&&$.m(e,null),L(W,t,Y),x&&x.m(W,Y),L(W,r,Y),me&&me.m(W,Y),L(W,a,Y),L(W,l,Y),_(l,i),_(l,s),_(l,m),_(l,b),_(l,G),_(G,w),_(G,C),_(G,E),_(l,I),_(I,M),_(I,P),_(I,B),L(W,F,Y),L(W,K,Y),ne&&ne.m(K,null)},p(W,Y){W[3]>=8||W[3]=="exit"?$?$.p(W,Y):($=Ji(W),$.c(),$.m(e,null)):$&&($.d(1),$=null),Y[0]&8&&ye(e,"active",W[3]>=7||W[3]=="exit"),W[3]>=4||W[3]=="exit"?x?x.p(W,Y):(x=Qi(W),x.c(),x.m(r.parentNode,r)):x&&(x.d(1),x=null),W[3]<=5||W[3]==null?me?me.p(W,Y):(me=no(W),me.c(),me.m(a.parentNode,a)):me&&(me.d(1),me=null),Y[0]&128&&o!==(o=W[7](Te(Ee,so)))&&u(i,"y1",o),Y[0]&4096&&u(i,"x2",W[12]),Y[0]&128&&c!==(c=W[7](Te(Ee,uo)))&&u(i,"y2",c),Y[0]&256&&f!==(f=W[8](Te(Ee,fo)))&&u(s,"x1",f),Y[0]&256&&p!==(p=W[8](Te(Ee,po)))&&u(s,"x2",p),Y[0]&8192&&u(s,"y2",W[13]),Y[0]&192&&h!==(h=W[7](W[6]))&&u(m,"y1",h),Y[0]&4096&&u(m,"x2",W[12]),Y[0]&192&&d!==(d=W[7](W[6]))&&u(m,"y2",d),Y[0]&288&&v!==(v=W[8](W[5]))&&u(b,"x1",v),Y[0]&288&&y!==(y=W[8](W[5]))&&u(b,"x2",y),Y[0]&8192&&u(b,"y2",W[13]),Y[0]&4096&&A!==(A=W[12]-20)&&u(G,"x",A),Y[0]&128&&S!==(S=W[7](Te(Ee,mo))-10)&&u(G,"y",S),Y[0]&256&&H!==(H=W[8](Te(Ee,ho))-160)&&u(I,"x",H),Y[0]&256&&V!==(V=`rotate(-90, ${W[8](Te(Ee,go))}, 0)`)&&u(I,"transform",V),Y[0]&8&&ye(l,"active",W[3]>=7||W[3]=="exit"),W[10]?ne?ne.p(W,Y):(ne=oo(W),ne.c(),ne.m(K,null)):ne&&(ne.d(1),ne=null),Y[0]&8&&ye(K,"active",W[3]>=6||W[3]=="exit")},i:ge,o:ge,d(W){W&&(g(e),g(t),g(r),g(a),g(l),g(F),g(K)),$&&$.d(),x&&x.d(W),me&&me.d(W),ne&&ne.d()}}}const $p=99;function em(n,e){return[...n].sort(()=>Math.random()-.5).slice(0,e)}function co(n,e,t){return t.map(()=>em(n,e))}const so=n=>n.price,uo=n=>n.price,fo=n=>n.rating,po=n=>n.rating,tm=n=>n.price,mo=n=>n.price,nm=n=>n.rating,ho=n=>n.rating,go=n=>n.rating;function rm(n,e,t){let r,a,l,i,o,c,s,f,p,m,h,d,b,v,y,G,w,k,C;Q(n,Rl,J=>t(30,m=J)),Q(n,Gl,J=>t(5,h=J)),Q(n,wl,J=>t(6,d=J)),Q(n,En,J=>t(9,y=J));const{data:E,xGet:A,yGet:S,xScale:I,yScale:M,width:D,height:P,padding:B,xDomain:H,yDomain:V}=ct("LayerCake");Q(n,E,J=>t(4,p=J)),Q(n,A,J=>t(14,k=J)),Q(n,S,J=>t(15,C=J)),Q(n,I,J=>t(8,v=J)),Q(n,M,J=>t(7,b=J)),Q(n,D,J=>t(12,G=J)),Q(n,P,J=>t(13,w=J));const F=Ee.filter(J=>J.price<=150&&J.topgroup!=="human"&&J.topgroup!=="none"),K=["amphibian/reptile","bear","bird","bug","canine","cat","cattle","deer","fish","horse","human","marine invertebrate","mythical creature","none","pachyderm","pig","rabbit","ram"];let{r:$=30}=e,{fill:x="#ccc"}=e,{stroke:me="#000"}=e,{strokeWidth:ne=2}=e,{chartScrollIndex:W}=e;const Y=qr().x(J=>J.x).y(J=>J.y),ie=Array.from({length:$p+1},(J,he)=>he);F!==0&&co(F,p[1]?.length||0,ie);function j(J,he){return Ee.filter(re=>re.price<=J&&re.rating>=he&&re.topgroup!=="none"&&re.topgroup!=="human"&&re.price<=150)}return n.$$set=J=>{"r"in J&&t(0,$=J.r),"fill"in J&&t(1,x=J.fill),"stroke"in J&&t(23,me=J.stroke),"strokeWidth"in J&&t(2,ne=J.strokeWidth),"chartScrollIndex"in J&&t(3,W=J.chartScrollIndex)},n.$$.update=()=>{if(n.$$.dirty[0]&512&&t(11,r=y=="cat"?"159436402":y=="cattle"?"159742039":"157063319"),n.$$.dirty[0]&24&&t(29,a=W==9?p[1].filter(J=>J.topgroup=="bird"):W==10?p[1].filter(J=>J.topgroup=="cattle"):W==11?p[1].filter(J=>J.topgroup=="cat"):p[1]),n.$$.dirty[0]&536870912&&t(28,l=a.map(J=>({x:+J.rating,y:+J.price}))),n.$$.dirty[0]&268435456&&t(27,i=Y(l)),n.$$.dirty[0]&134218112&&t(10,o=Wr().x(J=>v(J[0])).y(J=>b(J[1]))(i)),n.$$.dirty[0]&96&&t(26,c=j(d,h)),n.$$.dirty[0]&67108864&&t(25,s=c.length/F.length*100),n.$$.dirty[0]&67108864&&Rl.set(c),n.$$.dirty[0]&33554432&&zs.set(s),n.$$.dirty[0]&1073741824){let J=new Map;m.forEach(he=>{he.topgroup.split(",").map(Se=>Se.trim()).forEach(Se=>{K.includes(Se)&&J.set(Se,(J.get(Se)||0)+1)})}),t(24,f=Array.from(J,([he,re])=>({group:he,count:re})).sort((he,re)=>re.count-he.count))}n.$$.dirty[0]&16777216&&ku.set(f),n.$$.dirty[0]&16&&p[1]?.length&&Ts().then(()=>{co(F,p[1].length,ie)})},t(24,f=[]),[$,x,ne,W,p,h,d,b,v,y,o,r,G,w,k,C,E,A,S,I,M,D,P,me,f,s,c,i,l,a,m]}class am extends Ie{constructor(e){super(),De(this,e,rm,xp,Ae,{r:0,fill:1,stroke:23,strokeWidth:2,chartScrollIndex:3},null,[-1,-1])}}const Dt=[{topGroup:"amphibian/reptile",price:"30.965000000000003",rating:"3.95",stealPercent:"5.263157894736842",totalCount:"38"},{topGroup:"bear",price:"31.55",rating:"4.1",stealPercent:"13.043478260869565",totalCount:"23"},{topGroup:"bird",price:"25.99",rating:"4",stealPercent:"16.450216450216452",totalCount:"462"},{topGroup:"bug",price:"22.655",rating:"3.9",stealPercent:"21.428571428571427",totalCount:"98"},{topGroup:"canine",price:"28.99",rating:"4",stealPercent:"10.434782608695652",totalCount:"115"},{topGroup:"cat",price:"34.99",rating:"4.1",stealPercent:"10.130718954248366",totalCount:"306"},{topGroup:"cattle",price:"22.494999999999997",rating:"3.9",stealPercent:"13.043478260869565",totalCount:"46"},{topGroup:"deer",price:"30.49",rating:"4",stealPercent:"6",totalCount:"50"},{topGroup:"fish",price:"24.99",rating:"3.9",stealPercent:"24.193548387096776",totalCount:"62"},{topGroup:"horse",price:"25",rating:"4",stealPercent:"14.482758620689657",totalCount:"145"},{topGroup:"marine invertebrate",price:"22.67",rating:"3.9",stealPercent:"18.181818181818183",totalCount:"33"},{topGroup:"mythical creature",price:"34.99",rating:"4.1",stealPercent:"14.754098360655737",totalCount:"122"},{topGroup:"pachyderm",price:"24.22",rating:"3.9",stealPercent:"8.333333333333332",totalCount:"24"},{topGroup:"rabbit",price:"29.99",rating:"4",stealPercent:"12",totalCount:"25"},{topGroup:"ram",price:"21.74",rating:"3.9",stealPercent:"19.298245614035086",totalCount:"57"},{topGroup:"pig",price:"23.22",rating:"3.8",stealPercent:"10.714285714285714",totalCount:"28"},{topGroup:"all wines",price:"29.99",rating:"4",stealPercent:"13.94674683272493",totalCount:"9314"},{topGroup:"animal wines",price:"26.99",rating:"4",stealPercent:"14.516129032258066",totalCount:"1488"}];function bo(n,e,t){const r=n.slice();return r[20]=e[t],r[22]=t,r}function _o(n){let e,t;return{c(){e=be("line"),this.h()},l(r){e=_e(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),T(e).forEach(g),this.h()},h(){u(e,"class","gridline svelte-y4rttx"),u(e,"y1",t=n[9]*-1),u(e,"y2","0"),u(e,"x1","0"),u(e,"x2","0")},m(r,a){L(r,e,a)},p(r,a){a&512&&t!==(t=r[9]*-1)&&u(e,"y1",t)},d(r){r&&g(e)}}}function yo(n){let e;return{c(){e=be("line"),this.h()},l(t){e=_e(t,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),T(e).forEach(g),this.h()},h(){u(e,"class","tick-mark svelte-y4rttx"),u(e,"y1",0),u(e,"y2",6),u(e,"x1",0),u(e,"x2",0)},m(t,r){L(t,e,r)},d(t){t&&g(e)}}}function ko(n){let e,t,r,a=n[5](n[20])+"",l,i,o=n[0]!==!1&&_o(n),c=n[1]===!0&&yo();return{c(){e=be("g"),o&&o.c(),t=le(),c&&c.c(),r=be("text"),l=ee(a),this.h()},l(s){e=_e(s,"g",{class:!0,transform:!0});var f=T(e);o&&o.l(f),t=le(),c&&c.l(f),r=_e(f,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var p=T(r);l=te(p,a),p.forEach(g),f.forEach(g),this.h()},h(){u(r,"x",0),u(r,"y",n[4]),u(r,"dx",""),u(r,"dy",""),u(r,"text-anchor",n[15](n[22])),u(r,"class","svelte-y4rttx"),u(e,"class","tick tick-"+n[22]+" svelte-y4rttx"),u(e,"transform",i="translate("+n[6](n[20])+","+n[8][0]+")")},m(s,f){L(s,e,f),o&&o.m(e,null),_(e,t),c&&c.m(e,null),_(e,r),_(r,l)},p(s,f){s[0]!==!1?o?o.p(s,f):(o=_o(s),o.c(),o.m(e,t)):o&&(o.d(1),o=null),s[1]===!0?c||(c=yo(),c.c(),c.m(e,r)):c&&(c.d(1),c=null),f&160&&a!==(a=s[5](s[20])+"")&&we(l,a),f&16&&u(r,"y",s[4]),f&448&&i!==(i="translate("+s[6](s[20])+","+s[8][0]+")")&&u(e,"transform",i)},d(s){s&&g(e),o&&o.d(),c&&c.d()}}}function vo(n){let e,t,r;return{c(){e=be("line"),this.h()},l(a){e=_e(a,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),T(e).forEach(g),this.h()},h(){u(e,"class","baseline svelte-y4rttx"),u(e,"y1",t=n[9]+.5),u(e,"y2",r=n[9]+.5),u(e,"x1","0"),u(e,"x2",n[10])},m(a,l){L(a,e,l)},p(a,l){l&512&&t!==(t=a[9]+.5)&&u(e,"y1",t),l&512&&r!==(r=a[9]+.5)&&u(e,"y2",r),l&1024&&u(e,"x2",a[10])},d(a){a&&g(e)}}}function lm(n){let e,t,r=ve(n[7]),a=[];for(let i=0;i<r.length;i+=1)a[i]=ko(bo(n,r,i));let l=n[2]===!0&&vo(n);return{c(){e=be("g");for(let i=0;i<a.length;i+=1)a[i].c();t=le(),l&&l.c(),this.h()},l(i){e=_e(i,"g",{class:!0});var o=T(e);for(let c=0;c<a.length;c+=1)a[c].l(o);t=le(),l&&l.l(o),o.forEach(g),this.h()},h(){u(e,"class","axis x-axis svelte-y4rttx"),ye(e,"snapTicks",n[3])},m(i,o){L(i,e,o);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);_(e,t),l&&l.m(e,null)},p(i,[o]){if(o&33779){r=ve(i[7]);let c;for(c=0;c<r.length;c+=1){const s=bo(i,r,c);a[c]?a[c].p(s,o):(a[c]=ko(s),a[c].c(),a[c].m(e,t))}for(;c<a.length;c+=1)a[c].d(1);a.length=r.length}i[2]===!0?l?l.p(i,o):(l=vo(i),l.c(),l.m(e,null)):l&&(l.d(1),l=null),o&8&&ye(e,"snapTicks",i[3])},i:ge,o:ge,d(i){i&&g(e),je(a,i),l&&l.d()}}}function im(n,e,t){let r,a,l,i,o,c;const{width:s,height:f,xScale:p,yScale:m,yRange:h}=ct("LayerCake");Q(n,s,E=>t(10,c=E)),Q(n,f,E=>t(9,o=E)),Q(n,p,E=>t(6,l=E)),Q(n,h,E=>t(8,i=E));let{gridlines:d=!0}=e,{tickMarks:b=!1}=e,{baseline:v=!1}=e,{snapTicks:y=!1}=e,{yTick:G=16}=e,{formatTick:w=E=>E}=e,{ticks:k=[0,25,50,75,100,125,150]}=e;const C=E=>{if(y===!0){if(E===0)return"start";if(E===a.length-1)return"end"}return"middle"};return n.$$set=E=>{"gridlines"in E&&t(0,d=E.gridlines),"tickMarks"in E&&t(1,b=E.tickMarks),"baseline"in E&&t(2,v=E.baseline),"snapTicks"in E&&t(3,y=E.snapTicks),"yTick"in E&&t(4,G=E.yTick),"formatTick"in E&&t(5,w=E.formatTick),"ticks"in E&&t(16,k=E.ticks)},n.$$.update=()=>{n.$$.dirty&64&&t(17,r=typeof l.bandwidth=="function"),n.$$.dirty&196672&&t(7,a=Array.isArray(k)?k:r?l.domain():typeof k=="function"?k(l.ticks()):l.ticks(k))},[d,b,v,y,G,w,l,a,i,o,c,s,f,p,h,C,k,r]}class Tl extends Ie{constructor(e){super(),De(this,e,im,lm,Ae,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,yTick:4,formatTick:5,ticks:16})}}function wo(n,e,t){const r=n.slice();return r[18]=e[t],r}function Go(n){let e,t,r=n[0]!==!1&&So(n);return{c(){e=be("line"),r&&r.c(),t=le(),this.h()},l(a){e=_e(a,"line",{class:!0,x2:!0,y1:!0,y2:!0}),T(e).forEach(g),r&&r.l(a),t=le(),this.h()},h(){u(e,"class","gridline svelte-oiqxkh"),u(e,"x2",n[11]),u(e,"y1",n[3]),u(e,"y2",n[3])},m(a,l){L(a,e,l),r&&r.m(a,l),L(a,t,l)},p(a,l){l&2048&&u(e,"x2",a[11]),l&8&&u(e,"y1",a[3]),l&8&&u(e,"y2",a[3]),a[0]!==!1?r?r.p(a,l):(r=So(a),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(a){a&&(g(e),g(t)),r&&r.d(a)}}}function So(n){let e,t,r=n[7](n[18])+"",a;return{c(){e=be("text"),t=ee("$"),a=ee(r),this.h()},l(l){e=_e(l,"text",{transform:!0,x:!0,y:!0,dx:!0,dy:!0,style:!0,class:!0});var i=T(e);t=te(i,"$"),a=te(i,r),i.forEach(g),this.h()},h(){u(e,"transform","translate(2, -2)"),u(e,"x",n[2]),u(e,"y",n[3]),u(e,"dx",n[4]),u(e,"dy",n[5]),fe(e,"text-anchor",n[6]),u(e,"class","svelte-oiqxkh")},m(l,i){L(l,e,i),_(e,t),_(e,a)},p(l,i){i&640&&r!==(r=l[7](l[18])+"")&&we(a,r),i&4&&u(e,"x",l[2]),i&8&&u(e,"y",l[3]),i&16&&u(e,"dx",l[4]),i&32&&u(e,"dy",l[5]),i&64&&fe(e,"text-anchor",l[6])},d(l){l&&g(e)}}}function Eo(n){let e;return{c(){e=be("line"),this.h()},l(t){e=_e(t,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),T(e).forEach(g),this.h()},h(){u(e,"class","tick-mark svelte-oiqxkh"),u(e,"x1","0"),u(e,"x2",6),u(e,"y1",n[3]),u(e,"y2",n[3])},m(t,r){L(t,e,r)},p(t,r){r&8&&u(e,"y1",t[3]),r&8&&u(e,"y2",t[3])},d(t){t&&g(e)}}}function Co(n){let e,t,r,a,l=(n[0]!==!1||n[18]===0)&&Go(n),i=n[1]===!0&&Eo(n);return{c(){e=be("g"),l&&l.c(),t=le(),i&&i.c(),this.h()},l(o){e=_e(o,"g",{class:!0,transform:!0});var c=T(e);l&&l.l(c),t=le(),i&&i.l(c),c.forEach(g),this.h()},h(){u(e,"class",r="tick tick-"+n[18]+" svelte-oiqxkh"),u(e,"transform",a="translate("+n[10][0]+", "+n[8](n[18])+")")},m(o,c){L(o,e,c),l&&l.m(e,null),_(e,t),i&&i.m(e,null)},p(o,c){o[0]!==!1||o[18]===0?l?l.p(o,c):(l=Go(o),l.c(),l.m(e,t)):l&&(l.d(1),l=null),o[1]===!0?i?i.p(o,c):(i=Eo(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null),c&512&&r!==(r="tick tick-"+o[18]+" svelte-oiqxkh")&&u(e,"class",r),c&1792&&a!==(a="translate("+o[10][0]+", "+o[8](o[18])+")")&&u(e,"transform",a)},d(o){o&&g(e),l&&l.d(),i&&i.d()}}}function om(n){let e,t=ve(n[9]),r=[];for(let a=0;a<t.length;a+=1)r[a]=Co(wo(n,t,a));return{c(){e=be("g");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=_e(a,"g",{class:!0,transform:!0});var l=T(e);for(let i=0;i<r.length;i+=1)r[i].l(l);l.forEach(g),this.h()},h(){u(e,"class","axis y-axis"),u(e,"transform","translate(0, 0)")},m(a,l){L(a,e,l);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null)},p(a,[l]){if(l&4095){t=ve(a[9]);let i;for(i=0;i<t.length;i+=1){const o=wo(a,t,i);r[i]?r[i].p(o,l):(r[i]=Co(o),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},i:ge,o:ge,d(a){a&&g(e),je(r,a)}}}function cm(n,e,t){let r,a,l,i;const{data:o,padding:c,xRange:s,yScale:f,width:p}=ct("LayerCake");Q(n,s,C=>t(10,l=C)),Q(n,f,C=>t(8,a=C)),Q(n,p,C=>t(11,i=C));let{gridlines:m=!0}=e,{tickMarks:h=!1}=e,{xTick:d=0}=e,{yTick:b=0}=e,{dxTick:v=0}=e,{dyTick:y=-4}=e,{textAnchor:G="start"}=e,{formatTick:w=C=>C}=e,{ticks:k=4}=e;return n.$$set=C=>{"gridlines"in C&&t(0,m=C.gridlines),"tickMarks"in C&&t(1,h=C.tickMarks),"xTick"in C&&t(2,d=C.xTick),"yTick"in C&&t(3,b=C.yTick),"dxTick"in C&&t(4,v=C.dxTick),"dyTick"in C&&t(5,y=C.dyTick),"textAnchor"in C&&t(6,G=C.textAnchor),"formatTick"in C&&t(7,w=C.formatTick),"ticks"in C&&t(15,k=C.ticks)},n.$$.update=()=>{n.$$.dirty&33024&&t(9,r=Array.isArray(k)?k:typeof k=="function"?k(a.ticks()):a.ticks(k))},[m,h,d,b,v,y,G,w,a,r,l,i,s,f,p,k]}class Ra extends Ie{constructor(e){super(),De(this,e,cm,om,Ae,{gridlines:0,tickMarks:1,xTick:2,yTick:3,dxTick:4,dyTick:5,textAnchor:6,formatTick:7,ticks:15})}}function Ao(n,e,t){const r=n.slice();return r[21]=e[t],r[23]=t,r}function Mo(n){let e,t,r,a,l;function i(){return n[17](n[21])}function o(){return n[18](n[21])}function c(){return n[19](n[21])}return{c(){e=be("path"),this.h()},l(s){e=_e(s,"path",{id:!0,class:!0,d:!0,role:!0}),T(e).forEach(g),this.h()},h(){u(e,"id",t=`voronoi-${n[21].data.id}`),u(e,"class",Sn("voronoi-cell")+" svelte-1yus30z"),u(e,"d",r=n[2].renderCell(n[23])),u(e,"role","tooltip"),ye(e,"active",n[0]>=5&&n[0]<9||n[0]==9&&n[21].data.topgroup.includes("bird")||n[0]==10&&n[21].data.topgroup.includes("cattle")||n[0]==11&&n[21].data.topgroup.includes("cat")||n[0]==13||n[0]=="exit")},m(s,f){L(s,e,f),a||(l=[de(e,"mouseover",i),de(e,"mouseleave",o),de(e,"focus",c)],a=!0)},p(s,f){n=s,f&2&&t!==(t=`voronoi-${n[21].data.id}`)&&u(e,"id",t),f&4&&r!==(r=n[2].renderCell(n[23]))&&u(e,"d",r),f&3&&ye(e,"active",n[0]>=5&&n[0]<9||n[0]==9&&n[21].data.topgroup.includes("bird")||n[0]==10&&n[21].data.topgroup.includes("cattle")||n[0]==11&&n[21].data.topgroup.includes("cat")||n[0]==13||n[0]=="exit")},d(s){s&&g(e),a=!1,ht(l)}}}function sm(n){let e,t=ve(n[1]),r=[];for(let a=0;a<t.length;a+=1)r[a]=Mo(Ao(n,t,a));return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=le()},l(a){for(let l=0;l<r.length;l+=1)r[l].l(a);e=le()},m(a,l){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(a,l);L(a,e,l)},p(a,[l]){if(l&775){t=ve(a[1]);let i;for(i=0;i<t.length;i+=1){const o=Ao(a,t,i);r[i]?r[i].p(o,l):(r[i]=Mo(o),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},i:ge,o:ge,d(a){a&&g(e),je(r,a)}}}function um(n){return`star${(n+"").replace(".","_")}.svg`}function fm(n,e,t){let r,a,l,i,o,c,s,f;const{data:p,xGet:m,yGet:h,width:d,height:b}=ct("LayerCake");Q(n,p,S=>t(16,f=S)),Q(n,m,S=>t(15,s=S)),Q(n,h,S=>t(14,c=S)),Q(n,d,S=>t(13,o=S)),Q(n,b,S=>t(12,i=S));let{stroke:v=void 0}=e,{chartScrollIndex:y}=e;function G(S){Ca.set("bottle"),cr(".wine-circle circle").style("opacity",.3).style("fill","#38425D"),cr(`#circle-${S.data.id}`).style("opacity",1).style("fill","#CFCABF").transition(500).attr("r",10).each(function(){this.parentNode.appendChild(this)}),k(S.data)}function w(S){cr(".wine-circle circle").style("opacity",.8).style("fill","#38425D").transition(500).attr("r",4)}function k(S){let I=Lr("#universal-tooltip");I.classed("visible",!0),I.select("img").attr("src",`./assets/images/vivinoLabels/img_${S.id}.png`),I.select(".wine-name").text(S.name),I.select(".winery-name").text(`${S.winery}, ${S.country}`),I.select(".animal").text(`${S.topgroup}`),I.select(".type").text(`${S.type}`),I.select(".price").text(`$${S.price.toFixed(2)}`),I.select(".rating").html(`${S.rating}
			<span class="stars"><img alt="stars" src="./assets/images/stars/${um(S.rating)}" /></span>`)}const C=S=>{G(S)},E=S=>{w()},A=S=>{G(S)};return n.$$set=S=>{"stroke"in S&&t(10,v=S.stroke),"chartScrollIndex"in S&&t(0,y=S.chartScrollIndex)},n.$$.update=()=>{n.$$.dirty&114688&&t(11,r=f[1].map(S=>{const I=[s(S),c(S)];return I.data=S,I})),n.$$.dirty&2048&&t(1,a=ru(r,S=>S.join(),!1)),n.$$.dirty&12290&&t(2,l=Da.from(a).voronoi([0,0,o,i]))},[y,a,l,p,m,h,d,b,G,w,v,r,i,o,c,s,f,C,E,A]}class pm extends Ie{constructor(e){super(),De(this,e,fm,sm,Ae,{stroke:10,chartScrollIndex:0})}}function Io(n){let e,t,r,a=n[2]&&n[3]&&Do(n);return{c(){e=R("div"),a&&a.c(),this.h()},l(l){e=z(l,"DIV",{class:!0});var i=T(e);a&&a.l(i),i.forEach(g),this.h()},h(){u(e,"class","range-wrapper svelte-1ge52qt"),wt(()=>n[10].call(e))},m(l,i){L(l,e,i),a&&a.m(e,null),t=Ea(e,n[10].bind(e)),r=!0},p(l,i){l[2]&&l[3]?a?(a.p(l,i),i&12&&q(a,1)):(a=Do(l),a.c(),q(a,1),a.m(e,null)):a&&(Le(),X(a,1,1,()=>{a=null}),Ve())},i(l){r||(q(a),r=!0)},o(l){X(a),r=!1},d(l){l&&g(e),a&&a.d(),t()}}}function Do(n){let e,t,r,a;return e=new ii({props:{min:3,max:4.8,step:.1,metric:"rating",rangeW:n[2],rangeH:n[3],padding:n[1]>=700?156:90}}),r=new ii({props:{min:0,max:150,step:1,metric:"price",rangeW:n[2],rangeH:n[3],padding:n[1]>=700?156:90}}),{c(){oe(e.$$.fragment),t=U(),oe(r.$$.fragment)},l(l){pe(e.$$.fragment,l),t=Z(l),pe(r.$$.fragment,l)},m(l,i){ce(e,l,i),L(l,t,i),ce(r,l,i),a=!0},p(l,i){const o={};i&4&&(o.rangeW=l[2]),i&8&&(o.rangeH=l[3]),i&2&&(o.padding=l[1]>=700?156:90),e.$set(o);const c={};i&4&&(c.rangeW=l[2]),i&8&&(c.rangeH=l[3]),i&2&&(c.padding=l[1]>=700?156:90),r.$set(c)},i(l){a||(q(e.$$.fragment,l),q(r.$$.fragment,l),a=!0)},o(l){X(e.$$.fragment,l),X(r.$$.fragment,l),a=!1},d(l){l&&g(t),se(e,l),se(r,l)}}}function mm(n){let e,t,r,a,l,i,o,c;return e=new Tl({props:{gridlines:!0,ticks:7}}),r=new Ra({props:{gridlines:!0,ticks:3}}),l=new am({props:{r:dm,fill:bm,chartScrollIndex:n[0]}}),o=new pm({props:{chartScrollIndex:n[0]}}),{c(){oe(e.$$.fragment),t=U(),oe(r.$$.fragment),a=U(),oe(l.$$.fragment),i=U(),oe(o.$$.fragment)},l(s){pe(e.$$.fragment,s),t=Z(s),pe(r.$$.fragment,s),a=Z(s),pe(l.$$.fragment,s),i=Z(s),pe(o.$$.fragment,s)},m(s,f){ce(e,s,f),L(s,t,f),ce(r,s,f),L(s,a,f),ce(l,s,f),L(s,i,f),ce(o,s,f),c=!0},p(s,f){const p={};f&1&&(p.chartScrollIndex=s[0]),l.$set(p);const m={};f&1&&(m.chartScrollIndex=s[0]),o.$set(m)},i(s){c||(q(e.$$.fragment,s),q(r.$$.fragment,s),q(l.$$.fragment,s),q(o.$$.fragment,s),c=!0)},o(s){X(e.$$.fragment,s),X(r.$$.fragment,s),X(l.$$.fragment,s),X(o.$$.fragment,s),c=!1},d(s){s&&(g(t),g(a),g(i)),se(e,s),se(r,s),se(l,s),se(o,s)}}}function hm(n){let e,t;return e=new gr({props:{$$slots:{default:[mm]},$$scope:{ctx:n}}}),{c(){oe(e.$$.fragment)},l(r){pe(e.$$.fragment,r)},m(r,a){ce(e,r,a),t=!0},p(r,a){const l={};a&65537&&(l.$$scope={dirty:a,ctx:r}),e.$set(l)},i(r){t||(q(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function To(n){let e,t='<p style="left: 30%; top: 40%" class="svelte-1ge52qt">Bad Expensive Wine</p> <p style="left: 75%; top: 40%" class="svelte-1ge52qt">Good Expensive Wine</p> <p style="left: 30%; top: 80%" class="svelte-1ge52qt">Bad Cheap Wine</p> <p style="left: 75%; top: 80%" class="svelte-1ge52qt">Good Cheap Wine</p>',r,a;return{c(){e=R("div"),e.innerHTML=t,this.h()},l(l){e=z(l,"DIV",{class:!0,"data-svelte-h":!0}),Xe(e)!=="svelte-1a2l39"&&(e.innerHTML=t),this.h()},h(){u(e,"class","quadrants svelte-1ge52qt")},m(l,i){L(l,e,i),a=!0},i(l){a||(l&&wt(()=>{a&&(r||(r=fr(e,xt,{},!0)),r.run(1))}),a=!0)},o(l){l&&(r||(r=fr(e,xt,{},!1)),r.run(0)),a=!1},d(l){l&&g(e),l&&r&&r.end()}}}function gm(n){let e,t,r,a,l,i,o,c,s="More expensive →",f,p,m="Better rating →",h,d,b;wt(n[9]);let v=(n[0]>=13||n[0]=="exit")&&Io(n);l=new Vr({props:{padding:{top:0,right:0,bottom:0,left:0},x:hl,y:ml,data:[Dt,n[4]],xDomain:n[5],yDomain:n[6],$$slots:{default:[hm]},$$scope:{ctx:n}}});let y=(n[0]==7||n[0]==8)&&To();return{c(){e=R("section"),t=R("div"),v&&v.c(),r=U(),a=R("div"),oe(l.$$.fragment),i=U(),y&&y.c(),o=U(),c=R("p"),c.textContent=s,f=U(),p=R("p"),p.textContent=m,this.h()},l(G){e=z(G,"SECTION",{id:!0,class:!0});var w=T(e);t=z(w,"DIV",{class:!0,id:!0});var k=T(t);v&&v.l(k),r=Z(k),a=z(k,"DIV",{class:!0});var C=T(a);pe(l.$$.fragment,C),C.forEach(g),i=Z(k),y&&y.l(k),o=Z(k),c=z(k,"P",{class:!0,"data-svelte-h":!0}),Xe(c)!=="svelte-xeo69j"&&(c.textContent=s),f=Z(k),p=z(k,"P",{class:!0,"data-svelte-h":!0}),Xe(p)!=="svelte-1nm5j64"&&(p.textContent=m),k.forEach(g),w.forEach(g),this.h()},h(){u(a,"class","chart-inner svelte-1ge52qt"),u(c,"class","label label-price svelte-1ge52qt"),u(p,"class","label label-rating svelte-1ge52qt"),u(t,"class","chart-container svelte-1ge52qt"),u(t,"id","scatterplot"),u(e,"id","scatter"),u(e,"class","svelte-1ge52qt")},m(G,w){L(G,e,w),_(e,t),v&&v.m(t,null),_(t,r),_(t,a),ce(l,a,null),_(t,i),y&&y.m(t,null),_(t,o),_(t,c),_(t,f),_(t,p),h=!0,d||(b=de(window,"resize",n[9]),d=!0)},p(G,[w]){G[0]>=13||G[0]=="exit"?v?(v.p(G,w),w&1&&q(v,1)):(v=Io(G),v.c(),q(v,1),v.m(t,r)):v&&(Le(),X(v,1,1,()=>{v=null}),Ve());const k={};w&16&&(k.data=[Dt,G[4]]),w&32&&(k.xDomain=G[5]),w&64&&(k.yDomain=G[6]),w&65537&&(k.$$scope={dirty:w,ctx:G}),l.$set(k),G[0]==7||G[0]==8?y?w&1&&q(y,1):(y=To(),y.c(),q(y,1),y.m(t,o)):y&&(Le(),X(y,1,1,()=>{y=null}),Ve())},i(G){h||(q(v),q(l.$$.fragment,G),q(y),h=!0)},o(G){X(v),X(l.$$.fragment,G),X(y),h=!1},d(G){G&&g(e),v&&v.d(),se(l),y&&y.d(),d=!1,b()}}}const ml="price",hl="rating",dm=30,bm="#CFCABF";function _m(n,e,t){let r,a,l;Q(n,mr,b=>t(4,r=b));let{chartScrollIndex:i}=e;Dt.forEach(b=>{b[hl]=+b[hl],b[ml]=+b[ml]});let o=Ui([3.7,4.2],{duration:2e3,easing:li});Q(n,o,b=>t(5,a=b));let c=Ui([20,35],{duration:2e3,easing:li});Q(n,c,b=>t(6,l=b)),Ee.filter(b=>b.price<=150&&b.topgroup!=="human"&&b.topgroup!=="none");async function s(b){b<=3||b==null?(o.set([3.7,4.2]),c.set([20,35])):(o.set([3,4.8]),c.set([0,150]))}let f,p,m;function h(){t(1,f=window.innerWidth)}function d(){p=this.offsetWidth,m=this.offsetHeight,t(2,p),t(3,m)}return n.$$set=b=>{"chartScrollIndex"in b&&t(0,i=b.chartScrollIndex)},n.$$.update=()=>{n.$$.dirty&1&&s(i),n.$$.dirty&1&&console.log(i)},[i,f,p,m,r,a,l,o,c,h,d]}class ym extends Ie{constructor(e){super(),De(this,e,_m,gm,Ae,{chartScrollIndex:0})}}function Po(n,e,t){const r=n.slice();return r[10]=e[t],r[12]=t,r}function Ro(n){let e,t,r=[],a=new Map,l,i,o,c,s,f,p,m,h,d,b,v,y,G='<p class="num svelte-1yuoxyb">13.9%</p> <div class="median-circle svelte-1yuoxyb"></div> <p class="svelte-1yuoxyb">All wines</p>',w,k,C='<p class="num svelte-1yuoxyb">14.5%</p> <div class="median-circle svelte-1yuoxyb"></div> <p class="svelte-1yuoxyb">Animal wines</p>',E,A,S=ve(n[1]);const I=M=>M[10][0];for(let M=0;M<S.length;M+=1){let D=Po(n,S,M),P=I(D);a.set(P,r[M]=No(P,D))}return c=new Lt({props:{name:"chevron-left"}}),b=new Lt({props:{name:"chevron-right"}}),{c(){e=R("div"),t=R("div");for(let M=0;M<r.length;M+=1)r[M].c();l=U(),i=R("div"),o=R("p"),oe(c.$$.fragment),s=ee("Lower "),f=ee(n[2]),p=U(),m=R("p"),h=ee("Higher "),d=ee(n[2]),oe(b.$$.fragment),v=U(),y=R("div"),y.innerHTML=G,w=U(),k=R("div"),k.innerHTML=C,this.h()},l(M){e=z(M,"DIV",{class:!0});var D=T(e);t=z(D,"DIV",{class:!0});var P=T(t);for(let F=0;F<r.length;F+=1)r[F].l(P);P.forEach(g),l=Z(D),i=z(D,"DIV",{class:!0});var B=T(i);o=z(B,"P",{class:!0});var H=T(o);pe(c.$$.fragment,H),s=te(H,"Lower "),f=te(H,n[2]),H.forEach(g),p=Z(B),m=z(B,"P",{class:!0});var V=T(m);h=te(V,"Higher "),d=te(V,n[2]),pe(b.$$.fragment,V),V.forEach(g),v=Z(B),y=z(B,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),Xe(y)!=="svelte-iu3x4o"&&(y.innerHTML=G),w=Z(B),k=z(B,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),Xe(k)!=="svelte-178og01"&&(k.innerHTML=C),B.forEach(g),D.forEach(g),this.h()},h(){u(t,"class","animal-wrapper svelte-1yuoxyb"),u(o,"class","svelte-1yuoxyb"),u(m,"class","svelte-1yuoxyb"),u(y,"class","median-mark svelte-1yuoxyb"),fe(y,"left","59%"),u(k,"class","median-mark svelte-1yuoxyb"),fe(k,"left","61%"),u(i,"class","labels svelte-1yuoxyb"),ye(i,"hidden",n[0]<=5),u(e,"class","summary-bottles svelte-1yuoxyb")},m(M,D){L(M,e,D),_(e,t);for(let P=0;P<r.length;P+=1)r[P]&&r[P].m(t,null);_(e,l),_(e,i),_(i,o),ce(c,o,null),_(o,s),_(o,f),_(i,p),_(i,m),_(m,h),_(m,d),ce(b,m,null),_(i,v),_(i,y),_(i,w),_(i,k),A=!0},p(M,D){if(D&58){S=ve(M[1]);for(let P=0;P<r.length;P+=1)r[P].r();r=pr(r,D,I,1,M,S,a,t,vl,No,null,Po);for(let P=0;P<r.length;P+=1)r[P].a()}(!A||D&4)&&we(f,M[2]),(!A||D&4)&&we(d,M[2]),(!A||D&1)&&ye(i,"hidden",M[0]<=5)},i(M){A||(q(c.$$.fragment,M),q(b.$$.fragment,M),M&&wt(()=>{A&&(E||(E=fr(e,xt,{},!0)),E.run(1))}),A=!0)},o(M){X(c.$$.fragment,M),X(b.$$.fragment,M),M&&(E||(E=fr(e,xt,{},!1)),E.run(0)),A=!1},d(M){M&&g(e);for(let D=0;D<r.length;D+=1)r[D].d();se(c),se(b),M&&E&&E.end()}}}function km(n){let e,t;return{c(){e=R("img"),this.h()},l(r){e=z(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ye(e.src,t="./assets/images/blank-bottle.png")||u(e,"src",t),u(e,"alt","wine bottle"),u(e,"class","svelte-1yuoxyb")},m(r,a){L(r,e,a)},d(r){r&&g(e)}}}function vm(n){let e,t;return{c(){e=R("img"),this.h()},l(r){e=z(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ye(e.src,t="./assets/images/blank-bottle-outline.png")||u(e,"src",t),u(e,"alt","wine bottle with red outline"),u(e,"class","svelte-1yuoxyb")},m(r,a){L(r,e,a)},d(r){r&&g(e)}}}function zo(n){let e,t=n[5](n[10][0]).subgroups+"",r;return{c(){e=R("p"),r=ee(t),this.h()},l(a){e=z(a,"P",{class:!0});var l=T(e);r=te(l,t),l.forEach(g),this.h()},h(){u(e,"class","subgroup svelte-1yuoxyb")},m(a,l){L(a,e,l),_(e,r)},p(a,l){l&2&&t!==(t=a[5](a[10][0]).subgroups+"")&&we(r,t)},d(a){a&&g(e)}}}function No(n,e){let t,r,a=e[10][1].steals.percent.toFixed(1)+"",l,i,o,c,s,f,p,m,h,d,b=e[10][0].replace("/"," / ")+"",v,y,G=e[5](e[10][0]),w,k,C=ge;function E(M,D){return M[10][0]===M[4]?vm:km}let A=E(e),S=A(e),I=G&&zo(e);return{key:n,first:null,c(){t=R("div"),r=R("p"),l=ee(a),i=ee("%"),o=U(),c=R("div"),S.c(),s=U(),f=R("img"),h=U(),d=R("p"),v=ee(b),y=U(),I&&I.c(),w=U(),this.h()},l(M){t=z(M,"DIV",{class:!0,style:!0});var D=T(t);r=z(D,"P",{class:!0});var P=T(r);l=te(P,a),i=te(P,"%"),P.forEach(g),o=Z(D),c=z(D,"DIV",{class:!0});var B=T(c);S.l(B),s=Z(B),f=z(B,"IMG",{class:!0,src:!0,alt:!0}),B.forEach(g),h=Z(D),d=z(D,"P",{class:!0});var H=T(d);v=te(H,b),H.forEach(g),y=Z(D),I&&I.l(D),w=Z(D),D.forEach(g),this.h()},h(){u(r,"class","num svelte-1yuoxyb"),u(f,"class","img-icon svelte-1yuoxyb"),Ye(f.src,p="./assets/images/icons/"+e[10][0].replace(/[^a-zA-Z0-9]/g,"")+".png")||u(f,"src",p),u(f,"alt",m=e[10][0]+" icon"),u(c,"class","img-wrapper svelte-1yuoxyb"),u(d,"class","svelte-1yuoxyb"),u(t,"class","animal-group active svelte-1yuoxyb"),fe(t,"transition-delay",(e[1].length-e[12]-1)*100+"ms"),ye(t,"active",e[10][0]===e[4]),ye(t,"animated",e[3]),this.first=t},m(M,D){L(M,t,D),_(t,r),_(r,l),_(r,i),_(t,o),_(t,c),S.m(c,null),_(c,s),_(c,f),_(t,h),_(t,d),_(d,v),_(t,y),I&&I.m(t,null),_(t,w)},p(M,D){e=M,D&2&&a!==(a=e[10][1].steals.percent.toFixed(1)+"")&&we(l,a),A!==(A=E(e))&&(S.d(1),S=A(e),S&&(S.c(),S.m(c,s))),D&2&&!Ye(f.src,p="./assets/images/icons/"+e[10][0].replace(/[^a-zA-Z0-9]/g,"")+".png")&&u(f,"src",p),D&2&&m!==(m=e[10][0]+" icon")&&u(f,"alt",m),D&2&&b!==(b=e[10][0].replace("/"," / ")+"")&&we(v,b),D&2&&(G=e[5](e[10][0])),G?I?I.p(e,D):(I=zo(e),I.c(),I.m(t,w)):I&&(I.d(1),I=null),D&2&&fe(t,"transition-delay",(e[1].length-e[12]-1)*100+"ms"),D&18&&ye(t,"active",e[10][0]===e[4]),D&8&&ye(t,"animated",e[3])},r(){k=t.getBoundingClientRect()},f(){Ma(t),C()},a(){C(),C=Aa(t,k,Pa,{duration:1e3})},d(M){M&&g(t),S.d(),I&&I.d()}}}function wm(n){let e,t,r=n[0]>=12&&n[1]!==void 0&&Ro(n);return{c(){r&&r.c(),e=le()},l(a){r&&r.l(a),e=le()},m(a,l){r&&r.m(a,l),L(a,e,l),t=!0},p(a,[l]){a[0]>=12&&a[1]!==void 0?r?(r.p(a,l),l&3&&q(r,1)):(r=Ro(a),r.c(),q(r,1),r.m(e.parentNode,e)):r&&(Le(),X(r,1,1,()=>{r=null}),Ve())},i(a){t||(q(r),t=!0)},o(a){X(r),t=!1},d(a){a&&g(e),r&&r.d(a)}}}function Gm(n,e,t){let r,a;Q(n,En,h=>t(4,a=h));let{scrollIndex:l}=e,i,o;const c=[{animal:"amphibian/reptile",subgroups:"lizards, snakes, frogs"},{animal:"bird",subgroups:"singbirds, chicken, ducks, raptors, etc."},{animal:"canine",subgroups:"domestic dogs, wolves, foxes"},{animal:"cat",subgroups:"domestic cats, lions, tigers, etc."},{animal:"cattle",subgroups:"cows, oxen, bulls, camels, etc."},{animal:"deer",subgroups:"antelope, caribou, gazelles, etc."},{animal:"fish",subgroups:"sharks, whales, dolphins, other fins, etc."},{animal:"deer",subgroups:"antelope, caribou, gazelles, etc."},{animal:"marine invertebrate",subgroups:"lobster, crab, shrimp, octopi, etc."},{animal:"mythical",subgroups:"griffins, unicorns, monsters, etc."},{animal:"pachyderm",subgroups:"elephants, rhinos, hippos"},{animal:"pig",subgroups:"boar"},{animal:"rabbit",subgroups:"hare"},{animal:"ram",subgroups:"sheep, goats"}],s=Pn.filter(h=>h.animalGroup!=="animal wines"&&h.animalGroup!=="all"&&h.animalGroup!=="human"&&h.animalGroup!=="none"),f=Nr(s,h=>h.animalGroup),p={};for(const[h,d]of f)p[h]={},d.forEach(b=>{const{category:v,bucket:y,percent:G,count:w}=b;v==="median"?t(6,p[h][y]=+w,p):t(6,p[h][y]={percent:+G,count:+w},p)});function m(h){return c.find(d=>d.animal.toLowerCase()===h.toLowerCase())}return n.$$set=h=>{"scrollIndex"in h&&t(0,l=h.scrollIndex)},n.$$.update=()=>{n.$$.dirty&65&&(l!==12?(t(1,i=Object.entries(p).sort(([h],[d])=>h.localeCompare(d))),t(2,o=void 0)):(t(1,i=Object.entries(p).sort(([,h],[,d])=>h.steals.percent-d.steals.percent)),t(2,o="steals"))),n.$$.dirty&1&&t(3,r=l==12)},[l,i,o,r,a,m,p]}class Sm extends Ie{constructor(e){super(),De(this,e,Gm,wm,Ae,{scrollIndex:0})}}function Lo(n,e,t){const r=n.slice();return r[13]=e[t],r[15]=t,r}function Vo(n,e,t){const r=n.slice();return r[16]=e[t],r[15]=t,r}function Fo(n){let e,t,r=n[16].value+"";return{c(){e=R("p"),t=new tt(!1),this.h()},l(a){e=z(a,"P",{class:!0});var l=T(e);t=nt(l,!1),l.forEach(g),this.h()},h(){t.a=null,u(e,"class","svelte-1cgzejm")},m(a,l){L(a,e,l),t.m(r,e)},p:ge,d(a){a&&g(e)}}}function Oo(n){let e,t,r=n[6].toFixed(2)+"",a,l,i,o,c,s,f,p,m,h,d;return{c(){e=R("p"),t=R("span"),a=ee(r),l=ee("%"),i=ee(" of animal wines are steals when the price is "),o=R("span"),c=ee("equal to or under $"),s=ee(n[7]),f=ee(" and the rating "),p=R("span"),m=ee("equal to or above "),h=ee(n[8]),d=ee(" stars."),this.h()},l(b){e=z(b,"P",{class:!0});var v=T(e);t=z(v,"SPAN",{class:!0});var y=T(t);a=te(y,r),l=te(y,"%"),y.forEach(g),i=te(v," of animal wines are steals when the price is "),o=z(v,"SPAN",{class:!0});var G=T(o);c=te(G,"equal to or under $"),s=te(G,n[7]),G.forEach(g),f=te(v," and the rating "),p=z(v,"SPAN",{class:!0});var w=T(p);m=te(w,"equal to or above "),h=te(w,n[8]),d=te(w," stars."),w.forEach(g),v.forEach(g),this.h()},h(){u(t,"class","bold"),u(o,"class","bold"),u(p,"class","bold"),u(e,"class","svelte-1cgzejm")},m(b,v){L(b,e,v),_(e,t),_(t,a),_(t,l),_(e,i),_(e,o),_(o,c),_(o,s),_(e,f),_(e,p),_(p,m),_(p,h),_(p,d)},p(b,v){v&64&&r!==(r=b[6].toFixed(2)+"")&&we(a,r),v&128&&we(s,b[7]),v&256&&we(h,b[8])},d(b){b&&g(e)}}}function Em(n){let e,t,r,a,l,i,o,c,s=n[5][0].name+"",f,p,m,h=n[5][0].winery+"",d,b,v,y=n[5][0].topgroup+"",G,w,k,C=n[5][0].type+"",E,A,S,I,M,D=n[5][0].price+"",P,B,H,V=n[5][0].rating+"",F,K,$,x,me;return{c(){e=R("div"),t=R("img"),l=U(),i=R("div"),o=R("p"),c=R("span"),f=ee(s),p=U(),m=R("p"),d=ee(h),b=U(),v=R("p"),G=ee(y),w=U(),k=R("p"),E=ee(C),A=U(),S=R("div"),I=R("p"),M=ee("$"),P=ee(D),B=U(),H=R("p"),F=ee(V),K=U(),$=R("span"),x=R("img"),this.h()},l(ne){e=z(ne,"DIV",{class:!0});var W=T(e);t=z(W,"IMG",{src:!0,alt:!0,class:!0}),l=Z(W),i=z(W,"DIV",{class:!0});var Y=T(i);o=z(Y,"P",{class:!0});var ie=T(o);c=z(ie,"SPAN",{class:!0});var j=T(c);f=te(j,s),j.forEach(g),ie.forEach(g),p=Z(Y),m=z(Y,"P",{class:!0});var J=T(m);d=te(J,h),J.forEach(g),b=Z(Y),v=z(Y,"P",{class:!0});var he=T(v);G=te(he,y),he.forEach(g),w=Z(Y),k=z(Y,"P",{class:!0});var re=T(k);E=te(re,C),re.forEach(g),A=Z(Y),S=z(Y,"DIV",{class:!0});var Se=T(S);I=z(Se,"P",{class:!0});var We=T(I);M=te(We,"$"),P=te(We,D),We.forEach(g),B=Z(Se),H=z(Se,"P",{class:!0});var Ge=T(H);F=te(Ge,V),K=Z(Ge),$=z(Ge,"SPAN",{class:!0});var Me=T($);x=z(Me,"IMG",{alt:!0,src:!0,class:!0}),Me.forEach(g),Ge.forEach(g),Se.forEach(g),Y.forEach(g),W.forEach(g),this.h()},h(){Ye(t.src,r="./assets/images/vivinoLabels/img_"+n[1]+".png")||u(t,"src",r),u(t,"alt",a="wine label with "+n[2]+" on it"),u(t,"class","svelte-1cgzejm"),u(c,"class","bold"),u(o,"class","wine-name svelte-1cgzejm"),u(m,"class","winery-name svelte-1cgzejm"),u(v,"class","animal svelte-1cgzejm"),u(k,"class","type svelte-1cgzejm"),u(I,"class","price svelte-1cgzejm"),u(x,"alt","stars"),Ye(x.src,me="./assets/images/stars/"+qo(n[5][0].rating))||u(x,"src",me),u(x,"class","svelte-1cgzejm"),u($,"class","stars svelte-1cgzejm"),u(H,"class","rating svelte-1cgzejm"),u(S,"class","price-rating svelte-1cgzejm"),u(i,"class","deets svelte-1cgzejm"),u(e,"class","selected-bottle-display svelte-1cgzejm")},m(ne,W){L(ne,e,W),_(e,t),_(e,l),_(e,i),_(i,o),_(o,c),_(c,f),_(i,p),_(i,m),_(m,d),_(i,b),_(i,v),_(v,G),_(i,w),_(i,k),_(k,E),_(i,A),_(i,S),_(S,I),_(I,M),_(I,P),_(S,B),_(S,H),_(H,F),_(H,K),_(H,$),_($,x)},p(ne,W){W&2&&!Ye(t.src,r="./assets/images/vivinoLabels/img_"+ne[1]+".png")&&u(t,"src",r),W&4&&a!==(a="wine label with "+ne[2]+" on it")&&u(t,"alt",a),W&32&&s!==(s=ne[5][0].name+"")&&we(f,s),W&32&&h!==(h=ne[5][0].winery+"")&&we(d,h),W&32&&y!==(y=ne[5][0].topgroup+"")&&we(G,y),W&32&&C!==(C=ne[5][0].type+"")&&we(E,C),W&32&&D!==(D=ne[5][0].price+"")&&we(P,D),W&32&&V!==(V=ne[5][0].rating+"")&&we(F,V),W&32&&!Ye(x.src,me="./assets/images/stars/"+qo(ne[5][0].rating))&&u(x,"src",me)},d(ne){ne&&g(e)}}}function Wo(n){let e,t,r,a,l,i=ve(n[13].block),o=[];for(let f=0;f<i.length;f+=1)o[f]=Fo(Vo(n,i,f));let c=(n[15]==13&&n[6]||n[15]==13&&n[6]==0)&&Oo(n),s=n[15]==5&&Em(n);return{c(){e=R("div"),t=R("div");for(let f=0;f<o.length;f+=1)o[f].c();r=U(),c&&c.c(),a=U(),s&&s.c(),l=U(),this.h()},l(f){e=z(f,"DIV",{id:!0,class:!0});var p=T(e);t=z(p,"DIV",{class:!0});var m=T(t);for(let h=0;h<o.length;h+=1)o[h].l(m);r=Z(m),c&&c.l(m),a=Z(m),s&&s.l(m),m.forEach(g),l=Z(p),p.forEach(g),this.h()},h(){u(t,"class","step-inner svelte-1cgzejm"),u(e,"id","step-"+n[15]),u(e,"class","step svelte-1cgzejm")},m(f,p){L(f,e,p),_(e,t);for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(t,null);_(t,r),c&&c.m(t,null),_(t,a),s&&s.m(t,null),_(e,l)},p(f,p){if(p&512){i=ve(f[13].block);let m;for(m=0;m<i.length;m+=1){const h=Vo(f,i,m);o[m]?o[m].p(h,p):(o[m]=Fo(h),o[m].c(),o[m].m(t,r))}for(;m<o.length;m+=1)o[m].d(1);o.length=i.length}f[15]==13&&f[6]||f[15]==13&&f[6]==0?c?c.p(f,p):(c=Oo(f),c.c(),c.m(t,a)):c&&(c.d(1),c=null),f[15]==5&&s.p(f,p)},d(f){f&&g(e),je(o,f),c&&c.d(),s&&s.d()}}}function Cm(n){let e,t=ve(n[9].chartScroll),r=[];for(let a=0;a<t.length;a+=1)r[a]=Wo(Lo(n,t,a));return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=le()},l(a){for(let l=0;l<r.length;l+=1)r[l].l(a);e=le()},m(a,l){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(a,l);L(a,e,l)},p(a,l){if(l&998){t=ve(a[9].chartScroll);let i;for(i=0;i<t.length;i+=1){const o=Lo(a,t,i);r[i]?r[i].p(o,l):(r[i]=Wo(o),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(a){a&&g(e),je(r,a)}}}function Am(n){let e,t,r,a,l,i,o,c,s,f,p,m,h,d,b,v;wt(n[10]),l=new ym({props:{chartScrollIndex:n[0]}}),c=new Sm({props:{scrollIndex:n[0]}});function y(w){n[11](w)}let G={$$slots:{default:[Cm]},$$scope:{ctx:n}};return n[0]!==void 0&&(G.value=n[0]),f=new tp({props:G}),He.push(()=>ln(f,"value",y)),{c(){e=R("section"),t=R("div"),r=R("div"),a=R("div"),oe(l.$$.fragment),i=U(),o=R("div"),oe(c.$$.fragment),s=U(),oe(f.$$.fragment),m=U(),h=R("div"),this.h()},l(w){e=z(w,"SECTION",{id:!0,class:!0});var k=T(e);t=z(k,"DIV",{class:!0});var C=T(t);r=z(C,"DIV",{class:!0});var E=T(r);a=z(E,"DIV",{class:!0});var A=T(a);pe(l.$$.fragment,A),A.forEach(g),i=Z(E),o=z(E,"DIV",{class:!0});var S=T(o);pe(c.$$.fragment,S),S.forEach(g),E.forEach(g),C.forEach(g),s=Z(k),pe(f.$$.fragment,k),m=Z(k),h=z(k,"DIV",{class:!0}),T(h).forEach(g),k.forEach(g),this.h()},h(){u(a,"class","scatter-wrapper svelte-1cgzejm"),ye(a,"active",n[0]!==12),u(o,"class","lineup-wrapper svelte-1cgzejm"),ye(o,"active",n[0]==12),u(r,"class","chart-wrapper svelte-1cgzejm"),u(t,"class","sticky svelte-1cgzejm"),u(h,"class","spacer svelte-1cgzejm"),u(e,"id","chart-scroll"),u(e,"class","svelte-1cgzejm")},m(w,k){L(w,e,k),_(e,t),_(t,r),_(r,a),ce(l,a,null),_(r,i),_(r,o),ce(c,o,null),_(e,s),ce(f,e,null),_(e,m),_(e,h),d=!0,b||(v=de(window,"resize",n[10]),b=!0)},p(w,[k]){const C={};k&1&&(C.chartScrollIndex=w[0]),l.$set(C),(!d||k&1)&&ye(a,"active",w[0]!==12);const E={};k&1&&(E.scrollIndex=w[0]),c.$set(E),(!d||k&1)&&ye(o,"active",w[0]==12);const A={};k&262630&&(A.$$scope={dirty:k,ctx:w}),!p&&k&1&&(p=!0,A.value=w[0],an(()=>p=!1)),f.$set(A)},i(w){d||(q(l.$$.fragment,w),q(c.$$.fragment,w),q(f.$$.fragment,w),d=!0)},o(w){X(l.$$.fragment,w),X(c.$$.fragment,w),X(f.$$.fragment,w),d=!1},d(w){w&&g(e),se(l),se(c),se(f),b=!1,v()}}}function qo(n){return`star${(n+"").replace(".","_")}_tan.svg`}function Mm(n,e,t){let r,a,l,i,o,c;Q(n,En,b=>t(2,l=b)),Q(n,zs,b=>t(6,i=b)),Q(n,wl,b=>t(7,o=b)),Q(n,Gl,b=>t(8,c=b));const s=ct("copy");let f,p,m;function h(){t(3,p=window.innerHeight),t(4,m=window.innerWidth)}function d(b){f=b,t(0,f)}return n.$$.update=()=>{n.$$.dirty&1,n.$$.dirty&4&&t(1,r=l=="cat"?"159436402":l=="cattle"?"159742039":"157063319"),n.$$.dirty&2&&t(5,a=Ee.filter(b=>b.id==r))},[f,r,l,p,m,a,i,o,c,s,h,d]}class Im extends Ie{constructor(e){super(),De(this,e,Mm,Am,Ae,{})}}function Bo(n,e,t){const r=n.slice();return r[29]=e[t],r[31]=t,r}function Ja(n){const e=n.slice(),t=e[8].bandwidth?e[3](e[29]):e[3](e[29])[0];e[18]=t;const r=e[2](e[29]);e[17]=r;const a=e[8].bandwidth?e[8].bandwidth():e[6](e[29]);e[32]=a;const l=e[5](e[29]);return e[19]=l,e}function jo(n){let e,t,r,a,l,i,o,c,s,f,p,m,h;function d(...G){return n[24](n[29],...G)}function b(G,w){return G[29].category=="country"?Pm:G[29].category=="price"?Tm:Dm}let v=b(n),y=v(n);return{c(){e=be("rect"),c=be("text"),y.c(),this.h()},l(G){e=_e(G,"rect",{class:!0,"data-id":!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),T(e).forEach(g),c=_e(G,"text",{class:!0,x:!0,y:!0,"text-anchor":!0});var w=T(c);y.l(w),w.forEach(g),this.h()},h(){u(e,"class",t=Sn(n[29].bucket)+" svelte-1tjvrij"),u(e,"data-id",n[31]),u(e,"x",r=n[18]),u(e,"y",a=n[17]),u(e,"width",l=n[32]),u(e,"height",i=n[19]),u(e,"fill",o=n[15](n[29],n[31])),u(e,"stroke",n[0]),u(e,"stroke-width",n[1]),u(c,"class",s="bucket-text "+n[29].category+"-text svelte-1tjvrij"),u(c,"x",f=n[18]+n[32]/2),u(c,"y",p=n[4]+24),u(c,"text-anchor","middle")},m(G,w){L(G,e,w),L(G,c,w),y.m(c,null),m||(h=[de(e,"mouseover",or(d)),de(e,"mouseleave",Vm)],m=!0)},p(G,w){n=G,w[0]&128&&t!==(t=Sn(n[29].bucket)+" svelte-1tjvrij")&&u(e,"class",t),w[0]&392&&r!==(r=n[18])&&u(e,"x",r),w[0]&132&&a!==(a=n[17])&&u(e,"y",a),w[0]&448&&l!==(l=n[32])&&u(e,"width",l),w[0]&160&&i!==(i=n[19])&&u(e,"height",i),w[0]&128&&o!==(o=n[15](n[29],n[31]))&&u(e,"fill",o),w[0]&1&&u(e,"stroke",n[0]),w[0]&2&&u(e,"stroke-width",n[1]),v===(v=b(n))&&y?y.p(n,w):(y.d(1),y=v(n),y&&(y.c(),y.m(c,null))),w[0]&128&&s!==(s="bucket-text "+n[29].category+"-text svelte-1tjvrij")&&u(c,"class",s),w[0]&456&&f!==(f=n[18]+n[32]/2)&&u(c,"x",f),w[0]&16&&p!==(p=n[4]+24)&&u(c,"y",p)},d(G){G&&(g(e),g(c)),y.d(),m=!1,ht(h)}}}function Dm(n){let e=n[29].bucket+"",t;return{c(){t=ee(e)},l(r){t=te(r,e)},m(r,a){L(r,t,a)},p(r,a){a[0]&128&&e!==(e=r[29].bucket+"")&&we(t,e)},d(r){r&&g(t)}}}function Tm(n){let e;function t(l,i){if(l[29].bucket=="50–59.99"||l[29].bucket=="100–109.99"||l[29].bucket=="150+")return zm;if(l[29].bucket=="<10")return Rm}let r=t(n),a=r&&r(n);return{c(){a&&a.c(),e=le()},l(l){a&&a.l(l),e=le()},m(l,i){a&&a.m(l,i),L(l,e,i)},p(l,i){r===(r=t(l))&&a?a.p(l,i):(a&&a.d(1),a=r&&r(l),a&&(a.c(),a.m(e.parentNode,e)))},d(l){l&&g(e),a&&a.d(l)}}}function Pm(n){let e=n[14][n[31]].abbrev+"",t;return{c(){t=ee(e)},l(r){t=te(r,e)},m(r,a){L(r,t,a)},p:ge,d(r){r&&g(t)}}}function Rm(n){let e="<$10",t;return{c(){t=ee(e)},l(r){t=te(r,e)},m(r,a){L(r,t,a)},p:ge,d(r){r&&g(t)}}}function zm(n){let e,t=n[29].bucket+"",r;return{c(){e=ee("$"),r=ee(t)},l(a){e=te(a,"$"),r=te(a,t)},m(a,l){L(a,e,l),L(a,r,l)},p(a,l){l[0]&128&&t!==(t=a[29].bucket+"")&&we(r,t)},d(a){a&&(g(e),g(r))}}}function Ho(n){let e,t=n[29].bucket!=="all"&&jo(Ja(n));return{c(){t&&t.c(),e=le()},l(r){t&&t.l(r),e=le()},m(r,a){t&&t.m(r,a),L(r,e,a)},p(r,a){r[29].bucket!=="all"?t?t.p(Ja(r),a):(t=jo(Ja(r)),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&g(e),t&&t.d(r)}}}function Nm(n){let e,t=ve(n[7]),r=[];for(let a=0;a<t.length;a+=1)r[a]=Ho(Bo(n,t,a));return{c(){e=be("g");for(let a=0;a<r.length;a+=1)r[a].c()},l(a){e=_e(a,"g",{});var l=T(e);for(let i=0;i<r.length;i+=1)r[i].l(l);l.forEach(g)},m(a,l){L(a,e,l);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null)},p(a,l){if(l[0]&115199){t=ve(a[7]);let i;for(i=0;i<t.length;i+=1){const o=Bo(a,t,i);r[i]?r[i].p(o,l):(r[i]=Ho(o),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},i:ge,o:ge,d(a){a&&g(e),je(r,a)}}}function Lm(n,e){return e.find(r=>r.bucket===n.bucket)}function Vm(n){let e=n.target.closest("#distribution"),t=e?.querySelector(".tooltip");t&&(t.style.opacity=0),e?.querySelectorAll("rect").forEach(r=>r.classList.remove("notHover","hover"))}function Fm(n,e,t){let r,a,l,i,o,c,s,f,p;const{data:m,xGet:h,yGet:d,yRange:b,xScale:v,xDomain:y,y:G,x:w,height:k}=ct("LayerCake");Q(n,m,V=>t(7,f=V)),Q(n,h,V=>t(3,s=V)),Q(n,d,V=>t(2,o=V)),Q(n,b,V=>t(23,c=V)),Q(n,v,V=>t(8,p=V)),Q(n,k,V=>t(22,i=V)),Fr();const C=[{country:"France",abbrev:"FR"},{country:"United States",abbrev:"US"},{country:"Italy",abbrev:"IT"},{country:"Spain",abbrev:"ES"},{country:"Argentina",abbrev:"AR"},{country:"Portugal",abbrev:"PT"},{country:"South Africa",abbrev:"ZA"},{country:"Australia",abbrev:"AU"},{country:"Germany",abbrev:"DE"},{country:"Chile",abbrev:"CL"},{country:"New Zealand",abbrev:"NZ"},{country:"Austria",abbrev:"AT"}],E=Pn.filter(V=>V.animalGroup=="all");let{fill:A="#c6c6c6"}=e,{stroke:S="#000"}=e,{strokeWidth:I=0}=e,{allWineData:M}=e;function D(V,F){let K=Lm(V,M[1]),$=V.percent-K.percent;return $<-5?"#7b0439":$>5?"#4b6a1e":"#38425D"}function P(V,F){let K=V.target.closest(".chart-wrapper");Ca.set("histo"),B(F),K.querySelectorAll("rect").forEach($=>$.classList.add("notHover")),V.target.classList.add("hover")}function B(V){let F=Lr("#universal-tooltip");F.classed("visible",!0);let K=E.filter(x=>x.bucket==V.bucket),$=V.category=="price"?`<p class="details">
					<span class="bolded">${Math.round(V.percent)}%</span> 
					of <span class="bolded">${V.animalGroup}</span> wines 
					cost between <span class="bolded">$${V.bucket}</span>,
					compared to <span class="bolded">${Math.round(K[0].percent)}%</span> of all wines 
					</p>`:V.category=="rating"?`<p class="details">
					<span class="bolded">${Math.round(V.percent)}%</span> 
					of <span class="bolded">${V.animalGroup}</span> wines 
					are rated between <span class="bolded">${V.bucket} stars</span>,
					compared to <span class="bolded">${Math.round(K[0].percent)}%</span> of all wines 
					</p>`:V.category=="type"?`<p class="details">
					<span class="bolded">${Math.round(V.percent)}%</span> 
					of <span class="bolded">${V.animalGroup}</span> wines 
					are <span class="bolded">${V.bucket}</span> wines,
					compared to <span class="bolded">${Math.round(K[0].percent)}%</span> of all wines 
					</p>`:`<p class="details">
					<span class="bolded">${Math.round(V.percent)}%</span> 
					of <span class="bolded">${V.animalGroup}</span> wines 
					are from <span class="bolded">${V.bucket}</span>,
					compared to <span class="bolded">${Math.round(K[0].percent)}%</span> of all wines 
					</p>`;F.select(".summary").html($)}const H=(V,F)=>P(F,V);return n.$$set=V=>{"fill"in V&&t(20,A=V.fill),"stroke"in V&&t(0,S=V.stroke),"strokeWidth"in V&&t(1,I=V.strokeWidth),"allWineData"in V&&t(21,M=V.allWineData)},n.$$.update=()=>{n.$$.dirty[0]&8&&t(6,r=V=>{const F=s(V);return Math.max(0,F[1]-F[0])}),n.$$.dirty[0]&8388612&&t(5,a=V=>c[0]-o(V)),n.$$.dirty[0]&4194304&&t(4,l=i)},[S,I,o,s,l,a,r,f,p,m,h,d,b,v,C,D,P,G,w,k,A,M,i,c,H]}class Om extends Ie{constructor(e){super(),De(this,e,Fm,Nm,Ae,{fill:20,stroke:0,strokeWidth:1,allWineData:21},null,[-1,-1])}}function Wm(n){let e;return{c(){e=be("path"),this.h()},l(t){e=_e(t,"path",{d:!0,stroke:!0,class:!0}),T(e).forEach(g),this.h()},h(){u(e,"d",n[1]),u(e,"stroke",n[0]),u(e,"class","svelte-td8wiw")},m(t,r){L(t,e,r)},p(t,[r]){r&2&&u(e,"d",t[1]),r&1&&u(e,"stroke",t[0])},i:ge,o:ge,d(t){t&&g(e)}}}function qm(n,e,t){let r,a,l,i,o;const{data:c,xGet:s,yGet:f,xScale:p}=ct("LayerCake");Q(n,c,d=>t(7,l=d)),Q(n,s,d=>t(9,o=d)),Q(n,f,d=>t(8,i=d));let{stroke:m="#CFCABF"}=e,{curve:h=i1}=e;return n.$$set=d=>{"stroke"in d&&t(0,m=d.stroke),"curve"in d&&t(5,h=d.curve)},n.$$.update=()=>{n.$$.dirty&800&&t(6,r=Wr().x(o).y(i).curve(h)),n.$$.dirty&192&&t(1,a=r(l))},[m,a,c,s,f,h,r,l,i,o]}class Bm extends Ie{constructor(e){super(),De(this,e,qm,Wm,Ae,{stroke:0,curve:5})}}function Uo(n,e,t){const r=n.slice();r[15]=e[t],r[20]=t;const a=r[5].find(function(...c){return n[10](r[15],...c)})?.[1]||[];r[16]=a;const l=[...new Set(r[16].map(o=>o.bucket))];r[17]=l;const i=jf().domain(r[17]).range([0,r[0]]);return r[18]=i,r}function Zo(n){const e=n.slice(),t=e[3].summaryCards.find(r=>r.animal===e[1]);return e[21]=t,e}function jm(n){let e,t,r=n[15].key+"",a,l,i,o,c,s,f,p,m,h,d,b,v;function y(S){n[8](S)}let G={padding:{top:0,right:0,bottom:40,left:0},x:Ko,y:ir,xScale:Dl().paddingInner(.04),xDomain:n[15].xDomain,yDomain:[0,100],data:n[15].values,$$slots:{default:[Um]},$$scope:{ctx:n}};n[0]!==void 0&&(G.width=n[0]),c=new Vr({props:G}),He.push(()=>ln(c,"width",y));function w(S){n[9](S)}let k={padding:{top:0,right:0,bottom:40,left:0},x:Ko,y:ir,xScale:n[18],xDomain:n[17],yDomain:[0,100],data:n[16],$$slots:{default:[Ym]},$$scope:{ctx:n}};n[0]!==void 0&&(k.width=n[0]),m=new Vr({props:k}),He.push(()=>ln(m,"width",w));function C(S,I){if(S[15].key=="price")return Qm;if(S[15].key=="rating")return Jm;if(S[15].key=="type")return Xm;if(S[15].key=="country")return Km}let E=C(n),A=E&&E(n);return{c(){e=R("div"),t=R("h5"),a=ee(r),l=U(),i=R("div"),o=R("div"),oe(c.$$.fragment),f=U(),p=R("div"),oe(m.$$.fragment),d=U(),A&&A.c(),b=U(),this.h()},l(S){e=z(S,"DIV",{class:!0,id:!0});var I=T(e);t=z(I,"H5",{class:!0});var M=T(t);a=te(M,r),M.forEach(g),l=Z(I),i=z(I,"DIV",{class:!0});var D=T(i);o=z(D,"DIV",{class:!0,id:!0});var P=T(o);pe(c.$$.fragment,P),P.forEach(g),f=Z(D),p=z(D,"DIV",{class:!0,id:!0,style:!0});var B=T(p);pe(m.$$.fragment,B),B.forEach(g),D.forEach(g),d=Z(I),A&&A.l(I),b=Z(I),I.forEach(g),this.h()},h(){u(t,"class","svelte-etc4bk"),u(o,"class","chart-container bars svelte-etc4bk"),u(o,"id","bars_"+n[15][0]),u(p,"class","chart-container svelte-etc4bk"),u(p,"id","line"),fe(p,"pointer-events","none"),u(i,"class","chart-layers svelte-etc4bk"),u(e,"class","chart-wrapper svelte-etc4bk"),u(e,"id","chart-wrapper-"+n[15].key)},m(S,I){L(S,e,I),_(e,t),_(t,a),_(e,l),_(e,i),_(i,o),ce(c,o,null),_(i,f),_(i,p),ce(m,p,null),_(e,d),A&&A.m(e,null),_(e,b),v=!0},p(S,I){const M={};I&4194304&&(M.$$scope={dirty:I,ctx:S}),!s&&I&1&&(s=!0,M.width=S[0],an(()=>s=!1)),c.$set(M);const D={};I&1&&(D.xScale=S[18]),I&4194304&&(D.$$scope={dirty:I,ctx:S}),!h&&I&1&&(h=!0,D.width=S[0],an(()=>h=!1)),m.$set(D),A&&A.p(S,I)},i(S){v||(q(c.$$.fragment,S),q(m.$$.fragment,S),v=!0)},o(S){X(c.$$.fragment,S),X(m.$$.fragment,S),v=!1},d(S){S&&g(e),se(c),se(m),A&&A.d()}}}function Hm(n){let e,t,r,a;return e=new Ra({props:{snapBaselineLabel:!0,gridlines:!1}}),r=new Om({props:{allWineData:n[6]}}),{c(){oe(e.$$.fragment),t=U(),oe(r.$$.fragment)},l(l){pe(e.$$.fragment,l),t=Z(l),pe(r.$$.fragment,l)},m(l,i){ce(e,l,i),L(l,t,i),ce(r,l,i),a=!0},p:ge,i(l){a||(q(e.$$.fragment,l),q(r.$$.fragment,l),a=!0)},o(l){X(e.$$.fragment,l),X(r.$$.fragment,l),a=!1},d(l){l&&g(t),se(e,l),se(r,l)}}}function Um(n){let e,t;return e=new gr({props:{$$slots:{default:[Hm]},$$scope:{ctx:n}}}),{c(){oe(e.$$.fragment)},l(r){pe(e.$$.fragment,r)},m(r,a){ce(e,r,a),t=!0},p(r,a){const l={};a&4194304&&(l.$$scope={dirty:a,ctx:r}),e.$set(l)},i(r){t||(q(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Zm(n){let e,t;return e=new Bm({}),{c(){oe(e.$$.fragment)},l(r){pe(e.$$.fragment,r)},m(r,a){ce(e,r,a),t=!0},i(r){t||(q(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Ym(n){let e,t;return e=new gr({props:{$$slots:{default:[Zm]},$$scope:{ctx:n}}}),{c(){oe(e.$$.fragment)},l(r){pe(e.$$.fragment,r)},m(r,a){ce(e,r,a),t=!0},p(r,a){const l={};a&4194304&&(l.$$scope={dirty:a,ctx:r}),e.$set(l)},i(r){t||(q(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Km(n){let e,t,r=n[21].countryComments+"";return{c(){e=R("p"),t=new tt(!1),this.h()},l(a){e=z(a,"P",{class:!0});var l=T(e);t=nt(l,!1),l.forEach(g),this.h()},h(){t.a=null,u(e,"class","comments svelte-etc4bk")},m(a,l){L(a,e,l),t.m(r,e)},p(a,l){l&2&&r!==(r=a[21].countryComments+"")&&t.p(r)},d(a){a&&g(e)}}}function Xm(n){let e,t,r=n[21].typeComments+"";return{c(){e=R("p"),t=new tt(!1),this.h()},l(a){e=z(a,"P",{class:!0});var l=T(e);t=nt(l,!1),l.forEach(g),this.h()},h(){t.a=null,u(e,"class","comments svelte-etc4bk")},m(a,l){L(a,e,l),t.m(r,e)},p(a,l){l&2&&r!==(r=a[21].typeComments+"")&&t.p(r)},d(a){a&&g(e)}}}function Jm(n){let e,t,r=n[21].ratingComments+"";return{c(){e=R("p"),t=new tt(!1),this.h()},l(a){e=z(a,"P",{class:!0});var l=T(e);t=nt(l,!1),l.forEach(g),this.h()},h(){t.a=null,u(e,"class","comments svelte-etc4bk")},m(a,l){L(a,e,l),t.m(r,e)},p(a,l){l&2&&r!==(r=a[21].ratingComments+"")&&t.p(r)},d(a){a&&g(e)}}}function Qm(n){let e,t,r=n[21].priceComments+"";return{c(){e=R("p"),t=new tt(!1),this.h()},l(a){e=z(a,"P",{class:!0});var l=T(e);t=nt(l,!1),l.forEach(g),this.h()},h(){t.a=null,u(e,"class","comments svelte-etc4bk")},m(a,l){L(a,e,l),t.m(r,e)},p(a,l){l&2&&r!==(r=a[21].priceComments+"")&&t.p(r)},d(a){a&&g(e)}}}function Yo(n){let e,t,r=n[15].key!=="steals"&&n[15].key!=="count"&&jm(Zo(n));return{c(){r&&r.c(),e=le()},l(a){r&&r.l(a),e=le()},m(a,l){r&&r.m(a,l),L(a,e,l),t=!0},p(a,l){a[15].key!=="steals"&&a[15].key!=="count"&&r.p(Zo(a),l)},i(a){t||(q(r),t=!0)},o(a){X(r),t=!1},d(a){a&&g(e),r&&r.d(a)}}}function xm(n){let e,t,r="Wine distribution",a,l,i,o,c,s=ve(n[4]),f=[];for(let m=0;m<s.length;m+=1)f[m]=Yo(Uo(n,s,m));const p=m=>X(f[m],1,1,()=>{f[m]=null});return{c(){e=R("section"),t=R("h4"),t.textContent=r,a=U(),l=R("div"),i=U(),o=R("div");for(let m=0;m<f.length;m+=1)f[m].c();this.h()},l(m){e=z(m,"SECTION",{id:!0,class:!0});var h=T(e);t=z(h,"H4",{class:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-kcul0t"&&(t.textContent=r),a=Z(h),l=z(h,"DIV",{class:!0}),T(l).forEach(g),i=Z(h),o=z(h,"DIV",{class:!0});var d=T(o);for(let b=0;b<f.length;b+=1)f[b].l(d);d.forEach(g),h.forEach(g),this.h()},h(){u(t,"class","svelte-etc4bk"),u(l,"class","tooltip svelte-etc4bk"),ye(l,"hidden",n[2]),u(o,"class","quad-wrapper svelte-etc4bk"),u(e,"id","distribution"),u(e,"class","svelte-etc4bk")},m(m,h){L(m,e,h),_(e,t),_(e,a),_(e,l),_(e,i),_(e,o);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(o,null);c=!0},p(m,[h]){if((!c||h&4)&&ye(l,"hidden",m[2]),h&123){s=ve(m[4]);let d;for(d=0;d<s.length;d+=1){const b=Uo(m,s,d);f[d]?(f[d].p(b,h),q(f[d],1)):(f[d]=Yo(b),f[d].c(),q(f[d],1),f[d].m(o,null))}for(Le(),d=s.length;d<f.length;d+=1)p(d);Ve()}},i(m){if(!c){for(let h=0;h<s.length;h+=1)q(f[h]);c=!0}},o(m){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)X(f[h]);c=!1},d(m){m&&g(e),je(f,m)}}}const Ko="bucket",ir="percent",Xo="count";function $m(n,e){return e.find(r=>r[0]==n)}function eh(n,e,t){let r;Q(n,vu,y=>t(2,r=y));const a=ct("copy");let{chartScrollIndex:l}=e,{width:i}=e,{animal:o}=e;Pn.forEach(y=>{y[ir]=+y[ir],y[ir]=+y[ir],y[Xo]=+y[Xo]});const c=Nr(Pn,y=>y.animalGroup);let s=Pn.filter(y=>y.animalGroup==o),f=Nr(s,y=>y.category).filter(y=>y[0]!=="median").map(([y,G])=>{const w=[...new Set(G.map(k=>k.bucket))];return{key:y,values:G,xDomain:w}});const p=Pn.filter(y=>y.animalGroup=="all"),m=Nr(p,y=>y.category).filter(y=>y[0]!=="median").map(([y,G])=>(G.push({animalGroup:"end",category:y,bucket:"end",percent:0,count:0}),[y,G])),h=$m("all",c);function d(y){i=y,t(0,i)}function b(y){i=y,t(0,i)}const v=(y,[G])=>G===y.key;return n.$$set=y=>{"chartScrollIndex"in y&&t(7,l=y.chartScrollIndex),"width"in y&&t(0,i=y.width),"animal"in y&&t(1,o=y.animal)},[i,o,r,a,f,m,h,l,d,b,v]}class th extends Ie{constructor(e){super(),De(this,e,eh,xm,Ae,{chartScrollIndex:7,width:0,animal:1})}}function Jo(n,e,t){const r=n.slice();r[37]=e[t],r[41]=t;const a=r[7](r[37]);r[38]=a;const l=r[8](r[37]);return r[39]=l,r}function Qo(n){let e,t,r,a;return{c(){e=be("circle"),this.h()},l(l){e=_e(l,"circle",{id:!0,cx:!0,cy:!0,r:!0,fill:!0,class:!0}),T(e).forEach(g),this.h()},h(){u(e,"id",t=`card-wine-circle-${n[37].id}`),u(e,"cx",r=n[38]),u(e,"cy",a=n[39]),u(e,"r",n[0]),u(e,"fill","#38425D"),u(e,"class","svelte-9ley7b")},m(l,i){L(l,e,i)},p(l,i){i[0]&8&&t!==(t=`card-wine-circle-${l[37].id}`)&&u(e,"id",t),i[0]&136&&r!==(r=l[38])&&u(e,"cx",r),i[0]&264&&a!==(a=l[39])&&u(e,"cy",a),i[0]&1&&u(e,"r",l[0])},d(l){l&&g(e)}}}function xo(n){let e;return{c(){e=be("path"),this.h()},l(t){e=_e(t,"path",{class:!0,d:!0}),T(e).forEach(g),this.h()},h(){u(e,"class","expRegression svelte-9ley7b"),u(e,"d",n[4])},m(t,r){L(t,e,r)},p(t,r){r[0]&16&&u(e,"d",t[4])},d(t){t&&g(e)}}}function $o(n){let e;return{c(){e=be("path"),this.h()},l(t){e=_e(t,"path",{class:!0,d:!0}),T(e).forEach(g),this.h()},h(){u(e,"class","expRegression svelte-9ley7b"),u(e,"d",n[4])},m(t,r){L(t,e,r)},p(t,r){r[0]&16&&u(e,"d",t[4])},d(t){t&&g(e)}}}function nh(n){let e,t,r,a,l,i,o,c,s,f,p,m,h,d,b,v,y,G,w,k,C,E,A,S,I,M,D=ve(n[3][0]),P=[];for(let V=0;V<D.length;V+=1)P[V]=Qo(Jo(n,D,V));let B=n[4]&&xo(n),H=n[4]&&$o(n);return{c(){e=be("g"),t=be("rect"),o=U(),c=be("g");for(let V=0;V<P.length;V+=1)P[V].c();s=U(),f=be("g"),p=be("line"),b=be("line"),B&&B.c(),G=U(),w=be("g"),k=be("line"),S=be("line"),H&&H.c(),this.h()},l(V){e=_e(V,"g",{class:!0});var F=T(e);t=_e(F,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,opacity:!0}),T(t).forEach(g),F.forEach(g),o=Z(V),c=_e(V,"g",{class:!0});var K=T(c);for(let me=0;me<P.length;me+=1)P[me].l(K);K.forEach(g),s=Z(V),f=_e(V,"g",{class:!0});var $=T(f);p=_e($,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),T(p).forEach(g),b=_e($,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),T(b).forEach(g),B&&B.l($),$.forEach(g),G=Z(V),w=_e(V,"g",{class:!0});var x=T(w);k=_e(x,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),T(k).forEach(g),S=_e(x,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),T(S).forEach(g),H&&H.l(x),x.forEach(g),this.h()},h(){u(t,"class","highlight-quadrant"),u(t,"x",r=n[2](4)),u(t,"y",a=n[1](29.99)),u(t,"width",l=n[5]-n[2](4)),u(t,"height",i=n[6]-n[1](29.99)),u(t,"fill","#363B45"),u(t,"opacity","0.5"),u(e,"class","median-markings"),u(c,"class","card-wine-circle"),u(p,"class","priceAVG svelte-9ley7b"),u(p,"x1",0),u(p,"y1",m=n[1](Te(Ee,ec))),u(p,"x2",h=n[5]+n[9].right),u(p,"y2",d=n[1](Te(Ee,tc))),u(b,"class","ratingAVG svelte-9ley7b"),u(b,"x1",v=n[2](Te(Ee,nc))),u(b,"y1",0),u(b,"x2",y=n[2](Te(Ee,rc))),u(b,"y2",n[6]),u(f,"class","lines"),u(k,"class","priceAVG svelte-9ley7b"),u(k,"x1",0),u(k,"y1",C=n[1](Te(Ee,ac))),u(k,"x2",E=n[5]+n[9].right),u(k,"y2",A=n[1](Te(Ee,lc))),u(S,"class","ratingAVG svelte-9ley7b"),u(S,"x1",I=n[2](Te(Ee,ic))),u(S,"y1",0),u(S,"x2",M=n[2](Te(Ee,oc))),u(S,"y2",n[6]),u(w,"class","median-markings")},m(V,F){L(V,e,F),_(e,t),L(V,o,F),L(V,c,F);for(let K=0;K<P.length;K+=1)P[K]&&P[K].m(c,null);L(V,s,F),L(V,f,F),_(f,p),_(f,b),B&&B.m(f,null),L(V,G,F),L(V,w,F),_(w,k),_(w,S),H&&H.m(w,null)},p(V,F){if(F[0]&4&&r!==(r=V[2](4))&&u(t,"x",r),F[0]&2&&a!==(a=V[1](29.99))&&u(t,"y",a),F[0]&36&&l!==(l=V[5]-V[2](4))&&u(t,"width",l),F[0]&66&&i!==(i=V[6]-V[1](29.99))&&u(t,"height",i),F[0]&393){D=ve(V[3][0]);let K;for(K=0;K<D.length;K+=1){const $=Jo(V,D,K);P[K]?P[K].p($,F):(P[K]=Qo($),P[K].c(),P[K].m(c,null))}for(;K<P.length;K+=1)P[K].d(1);P.length=D.length}F[0]&2&&m!==(m=V[1](Te(Ee,ec)))&&u(p,"y1",m),F[0]&544&&h!==(h=V[5]+V[9].right)&&u(p,"x2",h),F[0]&2&&d!==(d=V[1](Te(Ee,tc)))&&u(p,"y2",d),F[0]&4&&v!==(v=V[2](Te(Ee,nc)))&&u(b,"x1",v),F[0]&4&&y!==(y=V[2](Te(Ee,rc)))&&u(b,"x2",y),F[0]&64&&u(b,"y2",V[6]),V[4]?B?B.p(V,F):(B=xo(V),B.c(),B.m(f,null)):B&&(B.d(1),B=null),F[0]&2&&C!==(C=V[1](Te(Ee,ac)))&&u(k,"y1",C),F[0]&544&&E!==(E=V[5]+V[9].right)&&u(k,"x2",E),F[0]&2&&A!==(A=V[1](Te(Ee,lc)))&&u(k,"y2",A),F[0]&4&&I!==(I=V[2](Te(Ee,ic)))&&u(S,"x1",I),F[0]&4&&M!==(M=V[2](Te(Ee,oc)))&&u(S,"x2",M),F[0]&64&&u(S,"y2",V[6]),V[4]?H?H.p(V,F):(H=$o(V),H.c(),H.m(w,null)):H&&(H.d(1),H=null)},i:ge,o:ge,d(V){V&&(g(e),g(o),g(c),g(s),g(f),g(G),g(w)),je(P,V),B&&B.d(),H&&H.d()}}}const rh=99,ec=n=>n.price,tc=n=>n.price,nc=n=>n.rating,rc=n=>n.rating,ac=n=>n.price,lc=n=>n.price,ic=n=>n.rating,oc=n=>n.rating;function ah(n,e,t){let r,a,l,i,o,c,s,f,p;Q(n,wu,P=>t(24,P));const{data:m,xGet:h,yGet:d,xScale:b,yScale:v,width:y,height:G,padding:w,xDomain:k,yDomain:C}=ct("LayerCake");Q(n,m,P=>t(3,i=P)),Q(n,h,P=>t(7,s=P)),Q(n,d,P=>t(8,f=P)),Q(n,b,P=>t(2,l=P)),Q(n,v,P=>t(1,a=P)),Q(n,y,P=>t(5,o=P)),Q(n,G,P=>t(6,c=P)),Q(n,w,P=>t(9,p=P));let{r:E=4}=e,{fill:A="#ccc"}=e,{stroke:S="#000"}=e,{strokeWidth:I=0}=e,{addRandom:M=!1}=e;Te(Ee,P=>P.price),Te(Ee,P=>P.rating);let D;return cn(()=>{}),Array.from({length:rh+1},(P,B)=>B),qr().x(P=>P.x).y(P=>P.y),n.$$set=P=>{"r"in P&&t(0,E=P.r),"fill"in P&&t(18,A=P.fill),"stroke"in P&&t(19,S=P.stroke),"strokeWidth"in P&&t(20,I=P.strokeWidth),"addRandom"in P&&t(21,M=P.addRandom)},n.$$.update=()=>{n.$$.dirty[0]&8&&t(22,r=i[1]),n.$$.dirty[0]&4194310&&t(4,D=Wr().x(P=>l(P[0])).y(P=>a(P[1]))(r))},[E,a,l,i,D,o,c,s,f,p,m,h,d,b,v,y,G,w,A,S,I,M,r]}class lh extends Ie{constructor(e){super(),De(this,e,ah,nh,Ae,{r:0,fill:18,stroke:19,strokeWidth:20,addRandom:21},null,[-1,-1])}}function cc(n,e,t){const r=n.slice();return r[21]=e[t],r[23]=t,r}function sc(n){let e,t,r,a,l;function i(){return n[17](n[21])}function o(){return n[18](n[21])}function c(){return n[19](n[21])}return{c(){e=be("path"),this.h()},l(s){e=_e(s,"path",{id:!0,class:!0,d:!0,role:!0}),T(e).forEach(g),this.h()},h(){u(e,"id",t=`voronoi-${n[21].data.id}`),u(e,"class",Sn("voronoi-cell active")+" svelte-1yus30z"),u(e,"d",r=n[1].renderCell(n[23])),u(e,"role","tooltip")},m(s,f){L(s,e,f),a||(l=[de(e,"mouseover",i),de(e,"mouseleave",o),de(e,"focus",c)],a=!0)},p(s,f){n=s,f&1&&t!==(t=`voronoi-${n[21].data.id}`)&&u(e,"id",t),f&2&&r!==(r=n[1].renderCell(n[23]))&&u(e,"d",r)},d(s){s&&g(e),a=!1,ht(l)}}}function ih(n){let e,t=ve(n[0]),r=[];for(let a=0;a<t.length;a+=1)r[a]=sc(cc(n,t,a));return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=le()},l(a){for(let l=0;l<r.length;l+=1)r[l].l(a);e=le()},m(a,l){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(a,l);L(a,e,l)},p(a,[l]){if(l&387){t=ve(a[0]);let i;for(i=0;i<t.length;i+=1){const o=cc(a,t,i);r[i]?r[i].p(o,l):(r[i]=sc(o),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},i:ge,o:ge,d(a){a&&g(e),je(r,a)}}}function oh(n){return`star${(n+"").replace(".","_")}.svg`}function ch(n,e,t){let r,a,l,i,o,c,s,f;const{data:p,xGet:m,yGet:h,width:d,height:b}=ct("LayerCake");Q(n,p,S=>t(16,f=S)),Q(n,m,S=>t(15,s=S)),Q(n,h,S=>t(14,c=S)),Q(n,d,S=>t(13,o=S)),Q(n,b,S=>t(12,i=S));let{stroke:v=void 0}=e,{chartScrollIndex:y}=e;function G(S){Ca.set("bottle"),cr(".card-wine-circle circle, .circle-explore").style("opacity",.3).style("fill","#38425D"),cr(`#card-wine-circle-${S.data.id}, #circle-${S.data.id}`).style("opacity",1).style("fill","#CFCABF").transition(500).attr("r",10).each(function(){this.parentNode.appendChild(this)}),k(S.data)}function w(S){cr(".card-wine-circle circle, .circle-explore").style("opacity",.8).style("fill","#38425D").transition(500).attr("r",4)}function k(S){let I=Lr("#universal-tooltip");I.classed("visible",!0),I.select("img").attr("src",`./assets/images/vivinoLabels/img_${S.id}.png`),I.select(".wine-name").text(S.name),I.select(".winery-name").text(`${S.winery}, ${S.country}`),I.select(".animal").text(`${S.topgroup}`),I.select(".type").text(`${S.type}`),I.select(".price").text(`$${S.price.toFixed(2)}`),I.select(".rating").html(`${S.rating}
			<span class="stars"><img alt="stars" src="./assets/images/stars/${oh(S.rating)}" /></span>`)}const C=S=>{G(S)},E=S=>{w()},A=S=>{G(S)};return n.$$set=S=>{"stroke"in S&&t(9,v=S.stroke),"chartScrollIndex"in S&&t(10,y=S.chartScrollIndex)},n.$$.update=()=>{n.$$.dirty&114688&&t(11,r=f[0].map(S=>{const I=[s(S),c(S)];return I.data=S,I})),n.$$.dirty&2048&&t(0,a=ru(r,S=>S.join(),!1)),n.$$.dirty&12289&&t(1,l=Da.from(a).voronoi([0,0,o,i]))},[a,l,p,m,h,d,b,G,w,v,y,r,i,o,c,s,f,C,E,A]}class lu extends Ie{constructor(e){super(),De(this,e,ch,ih,Ae,{stroke:9,chartScrollIndex:10})}}function uc(n){let e,t,r,a,l,i,o;return t=new Lt({props:{name:"chevron-right",size:"1rem"}}),{c(){e=R("span"),oe(t.$$.fragment),r=U(),a=R("span"),l=ee(n[3]),i=ee("s"),this.h()},l(c){e=z(c,"SPAN",{class:!0});var s=T(e);pe(t.$$.fragment,s),r=Z(s),a=z(s,"SPAN",{class:!0});var f=T(a);l=te(f,n[3]),i=te(f,"s"),f.forEach(g),s.forEach(g),this.h()},h(){u(a,"class","bold"),u(e,"class","subgroup-span")},m(c,s){L(c,e,s),ce(t,e,null),_(e,r),_(e,a),_(a,l),_(a,i),o=!0},p(c,s){(!o||s&8)&&we(l,c[3])},i(c){o||(q(t.$$.fragment,c),o=!0)},o(c){X(t.$$.fragment,c),o=!1},d(c){c&&g(e),se(t)}}}function sh(n){let e,t,r,a,l,i,o,c;return e=new Tl({props:{gridlines:!0,ticks:7}}),r=new Ra({props:{gridlines:!0,ticks:3}}),l=new lh({props:{r:ph,fill:mh}}),o=new lu({}),{c(){oe(e.$$.fragment),t=U(),oe(r.$$.fragment),a=U(),oe(l.$$.fragment),i=U(),oe(o.$$.fragment)},l(s){pe(e.$$.fragment,s),t=Z(s),pe(r.$$.fragment,s),a=Z(s),pe(l.$$.fragment,s),i=Z(s),pe(o.$$.fragment,s)},m(s,f){ce(e,s,f),L(s,t,f),ce(r,s,f),L(s,a,f),ce(l,s,f),L(s,i,f),ce(o,s,f),c=!0},p:ge,i(s){c||(q(e.$$.fragment,s),q(r.$$.fragment,s),q(l.$$.fragment,s),q(o.$$.fragment,s),c=!0)},o(s){X(e.$$.fragment,s),X(r.$$.fragment,s),X(l.$$.fragment,s),X(o.$$.fragment,s),c=!1},d(s){s&&(g(t),g(a),g(i)),se(e,s),se(r,s),se(l,s),se(o,s)}}}function uh(n){let e,t;return e=new gr({props:{$$slots:{default:[sh]},$$scope:{ctx:n}}}),{c(){oe(e.$$.fragment)},l(r){pe(e.$$.fragment,r)},m(r,a){ce(e,r,a),t=!0},p(r,a){const l={};a&32768&&(l.$$scope={dirty:a,ctx:r}),e.$set(l)},i(r){t||(q(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function fh(n){let e,t,r,a="Individual wines",l,i,o,c,s,f=fc(n[0])+"",p,m,h,d,b,v,y,G,w,k,C,E,A,S,I=n[3]!==void 0&&n[4]==n[0]&&uc(n);return b=new Lt({props:{name:"refresh-ccw",size:"1rem"}}),C=new Vr({props:{padding:{top:20,right:0,bottom:20,left:0},x:dl,y:gl,data:[n[1],n[2]],xDomain:[2,5],yDomain:[0,150],$$slots:{default:[uh]},$$scope:{ctx:n}}}),{c(){e=R("section"),t=R("div"),r=R("h4"),r.textContent=a,l=U(),i=R("div"),o=R("p"),c=ee("Now showing "),s=R("span"),p=ee(f),m=U(),I&&I.c(),h=U(),d=R("button"),oe(b.$$.fragment),v=ee(`
                Reset to all `),y=ee(n[0]),G=ee(" wines"),w=U(),k=R("div"),oe(C.$$.fragment),this.h()},l(M){e=z(M,"SECTION",{id:!0,class:!0});var D=T(e);t=z(D,"DIV",{class:!0});var P=T(t);r=z(P,"H4",{class:!0,"data-svelte-h":!0}),Xe(r)!=="svelte-qvtna3"&&(r.textContent=a),l=Z(P),i=z(P,"DIV",{class:!0});var B=T(i);o=z(B,"P",{class:!0});var H=T(o);c=te(H,"Now showing "),s=z(H,"SPAN",{class:!0});var V=T(s);p=te(V,f),V.forEach(g),m=Z(H),I&&I.l(H),H.forEach(g),h=Z(B),d=z(B,"BUTTON",{id:!0});var F=T(d);pe(b.$$.fragment,F),v=te(F,`
                Reset to all `),y=te(F,n[0]),G=te(F," wines"),F.forEach(g),B.forEach(g),w=Z(P),k=z(P,"DIV",{class:!0,id:!0,style:!0});var K=T(k);pe(C.$$.fragment,K),K.forEach(g),P.forEach(g),D.forEach(g),this.h()},h(){u(r,"class","svelte-15hzwbi"),u(s,"class","bold"),u(o,"class","svelte-15hzwbi"),u(d,"id","refesh-btn"),u(i,"class","deets svelte-15hzwbi"),u(k,"class","chart-container svelte-15hzwbi"),u(k,"id","scatterplot"),fe(k,"pointer-events","none"),u(t,"class","chart-wrapper svelte-15hzwbi"),u(e,"id","scatter"),u(e,"class","svelte-15hzwbi")},m(M,D){L(M,e,D),_(e,t),_(t,r),_(t,l),_(t,i),_(i,o),_(o,c),_(o,s),_(s,p),_(o,m),I&&I.m(o,null),_(i,h),_(i,d),ce(b,d,null),_(d,v),_(d,y),_(d,G),_(t,w),_(t,k),ce(C,k,null),E=!0,A||(S=de(d,"click",n[5]),A=!0)},p(M,[D]){(!E||D&1)&&f!==(f=fc(M[0])+"")&&we(p,f),M[3]!==void 0&&M[4]==M[0]?I?(I.p(M,D),D&25&&q(I,1)):(I=uc(M),I.c(),q(I,1),I.m(o,null)):I&&(Le(),X(I,1,1,()=>{I=null}),Ve()),(!E||D&1)&&we(y,M[0]);const P={};D&6&&(P.data=[M[1],M[2]]),D&32768&&(P.$$scope={dirty:D,ctx:M}),C.$set(P)},i(M){E||(q(I),q(b.$$.fragment,M),q(C.$$.fragment,M),E=!0)},o(M){X(I),X(b.$$.fragment,M),X(C.$$.fragment,M),E=!1},d(M){M&&g(e),I&&I.d(),se(b),se(C),A=!1,S()}}}const gl="price",dl="rating",ph=4,mh="#d0c8a8";function fc(n){return n=="amphibian/reptile"?"amphibians/reptiles":n=="cattle"||n=="deer"||n=="fish"?n:`${n}s`}function hh(n,e,t){let{animal:r}=e;Ee.filter(h=>h.price<=150);let a=Ee.filter(h=>h.topgroup.includes(r)&&h.price<=150),l=a.map(h=>({x:+h.rating,y:+h.price}));a.forEach(h=>{h[dl]=+h[dl],h[gl]=+h[gl]});const i=qr().x(h=>h.x).y(h=>h.y);let o=i(l),c,s,f;function p(h){let d=h.target.id.split("-")[0];t(3,s=d),t(4,f=h.target.closest(".animal-card").id.split("-")[2]),f==r&&(t(1,a=Ee.filter(b=>b.topgroup.includes(r)&&b.subgroup.includes(d)&&b.price<=150)),l=a.map(b=>({x:+b.rating,y:+b.price})),t(2,o=i(l)))}cn(()=>{c=document.querySelectorAll(".summary-btn"),c.forEach(h=>{h.addEventListener("click",d=>p(d))})});function m(){t(3,s=void 0),t(1,a=Ee.filter(h=>h.topgroup.includes(r)&&h.price<=150)),l=a.map(h=>({x:+h.rating,y:+h.price})),t(2,o=i(l))}return n.$$set=h=>{"animal"in h&&t(0,r=h.animal)},[r,a,o,s,f,m]}class gh extends Ie{constructor(e){super(),De(this,e,hh,fh,Ae,{animal:0})}}function pc(n,e,t){const r=n.slice();return r[13]=e[t],r[15]=t,r}function Qa(n){const e=n.slice(),t=e[1].summaryCards.find(r=>r.animal===e[0]);return e[12]=t,e}function mc(n){let e,t,r,a,l,i,o,c,s,f,p,m,h,d,b,v="Median price",y,G,w,k=Dt.find(n[5]).price.toFixed(2)+"",C,E,A,S,I="Total wines",M,D,P=Dt.find(n[6]).totalCount+"",B,H,V,F,K="Median rating",$,x,me=Dt.find(n[7]).rating+"",ne,W,Y,ie,j,J,he,re,Se="Steals",We,Ge,Me=Math.round(Dt.find(n[9]).stealPercent*10)/10+"",ae,ke,ue,Fe=n[1].summaryCards.find(n[4]),$e,Be,Ue,Ke,St,Ne,Ce,st,Gt,et=Fe&&hc(Qa(n));return Ke=new gh({props:{animal:n[0]}}),Ne=new th({props:{animal:n[0]}}),{c(){e=R("div"),t=R("div"),r=R("div"),a=R("div"),l=R("div"),i=R("div"),o=R("img"),s=U(),f=R("h3"),p=ee(n[0]),m=U(),h=R("div"),d=R("div"),b=R("p"),b.textContent=v,y=U(),G=R("p"),w=ee("$"),C=ee(k),E=U(),A=R("div"),S=R("p"),S.textContent=I,M=U(),D=R("p"),B=ee(P),H=U(),V=R("div"),F=R("p"),F.textContent=K,$=U(),x=R("p"),ne=ee(me),W=U(),Y=R("span"),ie=R("img"),J=U(),he=R("div"),re=R("p"),re.textContent=Se,We=U(),Ge=R("p"),ae=ee(Me),ke=ee("%"),ue=U(),et&&et.c(),$e=U(),Be=R("div"),Ue=R("div"),oe(Ke.$$.fragment),St=U(),oe(Ne.$$.fragment),this.h()},l(qe){e=z(qe,"DIV",{class:!0,id:!0});var Je=T(e);t=z(Je,"DIV",{class:!0,id:!0});var Ht=T(t);r=z(Ht,"DIV",{class:!0});var Et=T(r);a=z(Et,"DIV",{class:!0});var Vt=T(a);l=z(Vt,"DIV",{class:!0});var Ut=T(l);i=z(Ut,"DIV",{class:!0});var Cn=T(i);o=z(Cn,"IMG",{src:!0,class:!0}),Cn.forEach(g),s=Z(Ut),f=z(Ut,"H3",{class:!0});var Zt=T(f);p=te(Zt,n[0]),Zt.forEach(g),Ut.forEach(g),m=Z(Vt),h=z(Vt,"DIV",{class:!0});var Qe=T(h);d=z(Qe,"DIV",{class:!0});var gt=T(d);b=z(gt,"P",{class:!0,"data-svelte-h":!0}),Xe(b)!=="svelte-1az4nep"&&(b.textContent=v),y=Z(gt),G=z(gt,"P",{class:!0});var Ft=T(G);w=te(Ft,"$"),C=te(Ft,k),Ft.forEach(g),gt.forEach(g),E=Z(Qe),A=z(Qe,"DIV",{class:!0});var pt=T(A);S=z(pt,"P",{class:!0,"data-svelte-h":!0}),Xe(S)!=="svelte-me3e84"&&(S.textContent=I),M=Z(pt),D=z(pt,"P",{class:!0});var _t=T(D);B=te(_t,P),_t.forEach(g),pt.forEach(g),H=Z(Qe),V=z(Qe,"DIV",{class:!0});var Tt=T(V);F=z(Tt,"P",{class:!0,"data-svelte-h":!0}),Xe(F)!=="svelte-qzncbr"&&(F.textContent=K),$=Z(Tt),x=z(Tt,"P",{class:!0});var yt=T(x);ne=te(yt,me),W=Z(yt),Y=z(yt,"SPAN",{class:!0});var Ot=T(Y);ie=z(Ot,"IMG",{alt:!0,src:!0,class:!0}),Ot.forEach(g),yt.forEach(g),Tt.forEach(g),J=Z(Qe),he=z(Qe,"DIV",{class:!0});var Ct=T(he);re=z(Ct,"P",{class:!0,"data-svelte-h":!0}),Xe(re)!=="svelte-hq95j8"&&(re.textContent=Se),We=Z(Ct),Ge=z(Ct,"P",{class:!0});var Pt=T(Ge);ae=te(Pt,Me),ke=te(Pt,"%"),Pt.forEach(g),Ct.forEach(g),Qe.forEach(g),Vt.forEach(g),ue=Z(Et),et&&et.l(Et),Et.forEach(g),Ht.forEach(g),$e=Z(Je),Be=z(Je,"DIV",{class:!0,id:!0});var At=T(Be);Ue=z(At,"DIV",{class:!0});var Mt=T(Ue);pe(Ke.$$.fragment,Mt),Mt.forEach(g),St=Z(At),pe(Ne.$$.fragment,At),At.forEach(g),Je.forEach(g),this.h()},h(){Ye(o.src,c="./assets/images/icons/"+n[2]+".png")||u(o,"src",c),u(o,"class","svelte-155b1i7"),u(i,"class","icon svelte-155b1i7"),u(f,"class","svelte-155b1i7"),u(l,"class","icon-name-wrapper svelte-155b1i7"),u(b,"class","svelte-155b1i7"),u(G,"class","svelte-155b1i7"),u(d,"class","median svelte-155b1i7"),u(S,"class","svelte-155b1i7"),u(D,"class","svelte-155b1i7"),u(A,"class","median svelte-155b1i7"),u(F,"class","svelte-155b1i7"),u(ie,"alt","stars"),Ye(ie.src,j="./assets/images/stars/"+bc(Dt.find(n[8]).rating))||u(ie,"src",j),u(ie,"class","svelte-155b1i7"),u(Y,"class","stars svelte-155b1i7"),u(x,"class","svelte-155b1i7"),u(V,"class","median svelte-155b1i7"),u(re,"class","svelte-155b1i7"),u(Ge,"class","svelte-155b1i7"),u(he,"class","median svelte-155b1i7"),u(h,"class","medians-wrapper svelte-155b1i7"),u(a,"class","topline-wrapper svelte-155b1i7"),u(r,"class","deets svelte-155b1i7"),u(t,"class","rail svelte-155b1i7"),u(t,"id","rail-left"),u(Ue,"class","scatter-wrapper svelte-155b1i7"),u(Be,"class","rail svelte-155b1i7"),u(Be,"id","rail-right"),u(e,"class","animal-card svelte-155b1i7"),u(e,"id","animal-card-"+n[2])},m(qe,Je){L(qe,e,Je),_(e,t),_(t,r),_(r,a),_(a,l),_(l,i),_(i,o),_(l,s),_(l,f),_(f,p),_(a,m),_(a,h),_(h,d),_(d,b),_(d,y),_(d,G),_(G,w),_(G,C),_(h,E),_(h,A),_(A,S),_(A,M),_(A,D),_(D,B),_(h,H),_(h,V),_(V,F),_(V,$),_(V,x),_(x,ne),_(x,W),_(x,Y),_(Y,ie),_(h,J),_(h,he),_(he,re),_(he,We),_(he,Ge),_(Ge,ae),_(Ge,ke),_(r,ue),et&&et.m(r,null),_(e,$e),_(e,Be),_(Be,Ue),ce(Ke,Ue,null),_(Be,St),ce(Ne,Be,null),Ce=!0,st||(Gt=[rn(Ia.call(null,e,{bottom:40})),de(e,"enter",n[10]),de(e,"exit",n[11])],st=!0)},p(qe,Je){(!Ce||Je&1)&&we(p,qe[0]),(!Ce||Je&1)&&k!==(k=Dt.find(qe[5]).price.toFixed(2)+"")&&we(C,k),(!Ce||Je&1)&&P!==(P=Dt.find(qe[6]).totalCount+"")&&we(B,P),(!Ce||Je&1)&&me!==(me=Dt.find(qe[7]).rating+"")&&we(ne,me),(!Ce||Je&1&&!Ye(ie.src,j="./assets/images/stars/"+bc(Dt.find(qe[8]).rating)))&&u(ie,"src",j),(!Ce||Je&1)&&Me!==(Me=Math.round(Dt.find(qe[9]).stealPercent*10)/10+"")&&we(ae,Me),Je&1&&(Fe=qe[1].summaryCards.find(qe[4])),Fe?et?et.p(Qa(qe),Je):(et=hc(Qa(qe)),et.c(),et.m(r,null)):et&&(et.d(1),et=null);const Ht={};Je&1&&(Ht.animal=qe[0]),Ke.$set(Ht);const Et={};Je&1&&(Et.animal=qe[0]),Ne.$set(Et)},i(qe){Ce||(q(Ke.$$.fragment,qe),q(Ne.$$.fragment,qe),Ce=!0)},o(qe){X(Ke.$$.fragment,qe),X(Ne.$$.fragment,qe),Ce=!1},d(qe){qe&&g(e),et&&et.d(),se(Ke),se(Ne),st=!1,ht(Gt)}}}function hc(n){let e,t=n[12].text&&gc(n);return{c(){t&&t.c(),e=le()},l(r){t&&t.l(r),e=le()},m(r,a){t&&t.m(r,a),L(r,e,a)},p(r,a){r[12].text?t?t.p(r,a):(t=gc(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&g(e),t&&t.d(r)}}}function gc(n){let e,t=ve(n[12].text),r=[];for(let a=0;a<t.length;a+=1)r[a]=dc(pc(n,t,a));return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=le()},l(a){for(let l=0;l<r.length;l+=1)r[l].l(a);e=le()},m(a,l){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(a,l);L(a,e,l)},p(a,l){if(l&3){t=ve(a[12].text);let i;for(i=0;i<t.length;i+=1){const o=pc(a,t,i);r[i]?r[i].p(o,l):(r[i]=dc(o),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(a){a&&g(e),je(r,a)}}}function dc(n){let e,t,r=n[13].value+"";return{c(){e=R("p"),t=new tt(!1),this.h()},l(a){e=z(a,"P",{class:!0});var l=T(e);t=nt(l,!1),l.forEach(g),this.h()},h(){t.a=null,u(e,"class","svelte-155b1i7")},m(a,l){L(a,e,l),t.m(r,e)},p(a,l){l&1&&r!==(r=a[13].value+"")&&t.p(r)},d(a){a&&g(e)}}}function dh(n){let e,t,r=n[0]!=="human"&&n[0]!=="none"&&mc(n);return{c(){r&&r.c(),e=le()},l(a){r&&r.l(a),e=le()},m(a,l){r&&r.m(a,l),L(a,e,l),t=!0},p(a,[l]){a[0]!=="human"&&a[0]!=="none"?r?(r.p(a,l),l&1&&q(r,1)):(r=mc(a),r.c(),q(r,1),r.m(e.parentNode,e)):r&&(Le(),X(r,1,1,()=>{r=null}),Ve())},i(a){t||(q(r),t=!0)},o(a){X(r),t=!1},d(a){a&&g(e),r&&r.d(a)}}}function bc(n){return`star${(n+"").replace(".","_")}_tan.svg`}function bh(n,e,t){let{animal:r}=e;const a=ct("copy");let l=r.replace(/[^a-zA-Z0-9]/g,"");function i(b,v){b=="enter"?zl.set(v):zl.set(void 0)}const o=b=>b.animal===r,c=b=>b.topGroup==r,s=b=>b.topGroup==r,f=b=>b.topGroup==r,p=b=>b.topGroup==r,m=b=>b.topGroup==r,h=()=>i("enter",r),d=()=>i("exit",r);return n.$$set=b=>{"animal"in b&&t(0,r=b.animal)},[r,a,l,i,o,c,s,f,p,m,h,d]}class _h extends Ie{constructor(e){super(),De(this,e,bh,dh,Ae,{animal:0})}}function _c(n,e,t){const r=n.slice();return r[11]=e[t],r[13]=t,r}function yh(n){let e,t,r,a,l,i,o=n[11]+"",c,s;return{c(){e=R("div"),t=R("div"),r=R("img"),l=U(),i=R("p"),c=ee(o),s=U(),this.h()},l(f){e=z(f,"DIV",{class:!0,id:!0});var p=T(e);t=z(p,"DIV",{class:!0});var m=T(t);r=z(m,"IMG",{src:!0,alt:!0,id:!0,class:!0}),m.forEach(g),l=Z(p),i=z(p,"P",{class:!0});var h=T(i);c=te(h,o),h.forEach(g),s=Z(p),p.forEach(g),this.h()},h(){Ye(r.src,a="assets/images/icons/"+n[11].replace(/[^a-zA-Z0-9]/g,"")+".png")||u(r,"src",a),u(r,"alt",n[11]+" icon"),u(r,"id",n[11].replace(/[^a-zA-Z0-9]/g,"")+"-nav"),u(r,"class","navIcon svelte-if2ckt"),u(t,"class","img-wrapper svelte-if2ckt"),u(i,"class","svelte-if2ckt"),u(e,"class","navBlock svelte-if2ckt"),u(e,"id","nav_"+n[11].replace(/[^a-zA-Z0-9]/g,"")),ye(e,"isActive",n[11]==n[5][n[4]])},m(f,p){L(f,e,p),_(e,t),_(t,r),_(e,l),_(e,i),_(i,c),_(e,s)},p(f,p){p&48&&ye(e,"isActive",f[11]==f[5][f[4]])},d(f){f&&g(e)}}}function yc(n){let e,t=n[11]!=="none"&&n[11]!=="human"&&yh(n);return{c(){t&&t.c(),e=le()},l(r){t&&t.l(r),e=le()},m(r,a){t&&t.m(r,a),L(r,e,a)},p(r,a){r[11]!=="none"&&r[11]!=="human"&&t.p(r,a)},d(r){r&&g(e),t&&t.d(r)}}}function kh(n){let e,t=ve(n[5]),r=[];for(let a=0;a<t.length;a+=1)r[a]=yc(_c(n,t,a));return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=le()},l(a){for(let l=0;l<r.length;l+=1)r[l].l(a);e=le()},m(a,l){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(a,l);L(a,e,l)},p(a,l){if(l&48){t=ve(a[5]);let i;for(i=0;i<t.length;i+=1){const o=_c(a,t,i);r[i]?r[i].p(o,l):(r[i]=yc(o),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(a){a&&g(e),je(r,a)}}}function kc(n){let e,t,r,a,l;var i=n[1];function o(c,s){return{props:{particlesToShow:c[3],particlesToScroll:4,arrows:!1,swiping:!0,initialPageIndex:0,dots:!1,$$slots:{default:[kh]},$$scope:{ctx:c}}}}return i&&(t=ua(i,o(n)),n[7](t)),{c(){e=R("nav"),t&&oe(t.$$.fragment),this.h()},l(c){e=z(c,"NAV",{class:!0});var s=T(e);t&&pe(t.$$.fragment,s),s.forEach(g),this.h()},h(){u(e,"class","svelte-if2ckt")},m(c,s){L(c,e,s),t&&ce(t,e,null),r=!0,a||(l=de(e,"click",Gh),a=!0)},p(c,s){if(s&2&&i!==(i=c[1])){if(t){Le();const f=t;X(f.$$.fragment,1,0,()=>{se(f,1)}),Ve()}i?(t=ua(i,o(c)),c[7](t),oe(t.$$.fragment),q(t.$$.fragment,1),ce(t,e,null)):t=null}else if(i){const f={};s&8&&(f.particlesToShow=c[3]),s&16400&&(f.$$scope={dirty:s,ctx:c}),t.$set(f)}},i(c){r||(t&&q(t.$$.fragment,c),r=!0)},o(c){t&&X(t.$$.fragment,c),r=!1},d(c){c&&g(e),n[7](null),t&&se(t),a=!1,l()}}}function vh(n){let e=n[3],t,r,a,l;wt(n[6]);let i=kc(n);return{c(){i.c(),t=le()},l(o){i.l(o),t=le()},m(o,c){i.m(o,c),L(o,t,c),r=!0,a||(l=de(window,"resize",n[6]),a=!0)},p(o,[c]){c&8&&Ae(e,e=o[3])?(Le(),X(i,1,1,ge),Ve(),i=kc(o),i.c(),q(i,1),i.m(t.parentNode,t)):i.p(o,c)},i(o){r||(q(i),r=!0)},o(o){X(i),r=!1},d(o){o&&g(t),i.d(o),a=!1,l()}}}let wh=140;function Gh(n){}function Sh(n,e,t){let r;Q(n,Ns,m=>t(4,r=m));const a=["amphibian/reptile","bear","bird","bug","canine","cat","cattle","deer","fish","horse","human","marine invertebrate","mythical","none","pachyderm","pig","rabbit","ram"];let l,i,o;a.length;let c;function s(m){t(3,c=Math.ceil(m/wh))}cn(async()=>{const m=await Ls(()=>import("../chunks/main.V3IhYKWe.js"),__vite__mapDeps([7,1,2,5,8,9]),import.meta.url);t(1,l=m.default)});function f(){t(0,o=window.innerWidth)}function p(m){He[m?"unshift":"push"](()=>{i=m,t(2,i)})}return n.$$.update=()=>{n.$$.dirty&1&&s(o)},[o,l,i,c,r,a,f,p]}class Eh extends Ie{constructor(e){super(),De(this,e,Sh,vh,Ae,{})}}function vc(n,e,t){const r=n.slice();return r[8]=e[t],r[10]=t,r}function wc(n,e,t){const r=n.slice();return r[11]=e[t],r[10]=t,r}function Gc(n,e,t){const r=n.slice();return r[11]=e[t],r[10]=t,r}function Sc(n,e,t){const r=n.slice();return r[8]=e[t],r[10]=t,r}function Ec(n,e,t){const r=n.slice();return r[8]=e[t],r[10]=t,r}function Cc(n){let e,t,r=n[8].value+"";return{c(){e=R("p"),t=new tt(!1),this.h()},l(a){e=z(a,"P",{class:!0});var l=T(e);t=nt(l,!1),l.forEach(g),this.h()},h(){t.a=null,u(e,"class","svelte-yuonyo")},m(a,l){L(a,e,l),t.m(r,e)},p:ge,d(a){a&&g(e)}}}function Ac(n){let e,t,r=n[8].value+"";return{c(){e=R("p"),t=new tt(!1),this.h()},l(a){e=z(a,"P",{class:!0});var l=T(e);t=nt(l,!1),l.forEach(g),this.h()},h(){t.a=null,u(e,"class","svelte-yuonyo")},m(a,l){L(a,e,l),t.m(r,e)},p:ge,d(a){a&&g(e)}}}function Mc(n){let e,t,r=n[11].animal+"",a,l,i,o,c,s=n[11].subgroup+"",f,p,m,h,d,b=n[11].topgroup+"",v,y,G;return i=new da({props:{color:"#CFCABF",strokeWidth:2}}),m=new da({props:{color:"#CFCABF",strokeWidth:2}}),{c(){e=R("li"),t=R("span"),a=ee(r),l=U(),oe(i.$$.fragment),o=U(),c=R("span"),f=ee(s),p=U(),oe(m.$$.fragment),h=U(),d=R("span"),v=ee(b),y=U(),this.h()},l(w){e=z(w,"LI",{class:!0});var k=T(e);t=z(k,"SPAN",{});var C=T(t);a=te(C,r),C.forEach(g),l=Z(k),pe(i.$$.fragment,k),o=Z(k),c=z(k,"SPAN",{});var E=T(c);f=te(E,s),E.forEach(g),p=Z(k),pe(m.$$.fragment,k),h=Z(k),d=z(k,"SPAN",{});var A=T(d);v=te(A,b),A.forEach(g),y=Z(k),k.forEach(g),this.h()},h(){u(e,"class","svelte-yuonyo")},m(w,k){L(w,e,k),_(e,t),_(t,a),_(e,l),ce(i,e,null),_(e,o),_(e,c),_(c,f),_(e,p),ce(m,e,null),_(e,h),_(e,d),_(d,v),_(e,y),G=!0},p:ge,i(w){G||(q(i.$$.fragment,w),q(m.$$.fragment,w),G=!0)},o(w){X(i.$$.fragment,w),X(m.$$.fragment,w),G=!1},d(w){w&&g(e),se(i),se(m)}}}function Ic(n){let e,t,r=n[11].animal+"",a,l,i,o,c,s=n[11].subgroup+"",f,p,m,h,d,b=n[11].topgroup+"",v,y,G;return i=new da({props:{color:"#CFCABF",strokeWidth:2}}),m=new da({props:{color:"#CFCABF",strokeWidth:2}}),{c(){e=R("li"),t=R("span"),a=ee(r),l=U(),oe(i.$$.fragment),o=U(),c=R("span"),f=ee(s),p=U(),oe(m.$$.fragment),h=U(),d=R("span"),v=ee(b),y=U(),this.h()},l(w){e=z(w,"LI",{class:!0});var k=T(e);t=z(k,"SPAN",{});var C=T(t);a=te(C,r),C.forEach(g),l=Z(k),pe(i.$$.fragment,k),o=Z(k),c=z(k,"SPAN",{});var E=T(c);f=te(E,s),E.forEach(g),p=Z(k),pe(m.$$.fragment,k),h=Z(k),d=z(k,"SPAN",{});var A=T(d);v=te(A,b),A.forEach(g),y=Z(k),k.forEach(g),this.h()},h(){u(e,"class","svelte-yuonyo")},m(w,k){L(w,e,k),_(e,t),_(t,a),_(e,l),ce(i,e,null),_(e,o),_(e,c),_(c,f),_(e,p),ce(m,e,null),_(e,h),_(e,d),_(d,v),_(e,y),G=!0},p:ge,i(w){G||(q(i.$$.fragment,w),q(m.$$.fragment,w),G=!0)},o(w){X(i.$$.fragment,w),X(m.$$.fragment,w),G=!1},d(w){w&&g(e),se(i),se(m)}}}function Dc(n){let e,t,r=n[8].value+"";return{c(){e=R("p"),t=new tt(!1),this.h()},l(a){e=z(a,"P",{class:!0});var l=T(e);t=nt(l,!1),l.forEach(g),this.h()},h(){t.a=null,u(e,"class","svelte-yuonyo")},m(a,l){L(a,e,l),t.m(r,e)},p:ge,d(a){a&&g(e)}}}function Ch(n){let e,t,r,a,l,i,o,c,s,f="Methodology",p,m,h,d,b,v="Were rolled up",y,G,w,k,C,E="Stayed the same",A,S,I,M,D,P;a=new $s({props:{wineData:n[4],bottleIndex:4,containerDimensions:{bottlesWidth:n[0],bottlesHeight:n[1]},outroVisible:n[2],bottlePosLeft:n[2]?n[4].targetPos:n[4].startingPos}});let B=ve(n[3].outro),H=[];for(let j=0;j<B.length;j+=1)H[j]=Cc(Ec(n,B,j));let V=ve(n[3].methodsA),F=[];for(let j=0;j<V.length;j+=1)F[j]=Ac(Sc(n,V,j));let K=ve(n[3].methodsExChange),$=[];for(let j=0;j<K.length;j+=1)$[j]=Mc(Gc(n,K,j));const x=j=>X($[j],1,1,()=>{$[j]=null});let me=ve(n[3].methodsExSame),ne=[];for(let j=0;j<me.length;j+=1)ne[j]=Ic(wc(n,me,j));const W=j=>X(ne[j],1,1,()=>{ne[j]=null});let Y=ve(n[3].methodsB),ie=[];for(let j=0;j<Y.length;j+=1)ie[j]=Dc(vc(n,Y,j));return{c(){e=R("section"),t=R("div"),r=R("div"),oe(a.$$.fragment),i=U();for(let j=0;j<H.length;j+=1)H[j].c();o=U(),c=R("div"),s=R("h3"),s.textContent=f,p=U();for(let j=0;j<F.length;j+=1)F[j].c();m=U(),h=R("div"),d=R("div"),b=R("h5"),b.textContent=v,y=U(),G=R("ul");for(let j=0;j<$.length;j+=1)$[j].c();w=U(),k=R("div"),C=R("h5"),C.textContent=E,A=U(),S=R("ul");for(let j=0;j<ne.length;j+=1)ne[j].c();I=U();for(let j=0;j<ie.length;j+=1)ie[j].c();this.h()},l(j){e=z(j,"SECTION",{id:!0,class:!0});var J=T(e);t=z(J,"DIV",{id:!0,class:!0});var he=T(t);r=z(he,"DIV",{class:!0});var re=T(r);pe(a.$$.fragment,re),re.forEach(g),i=Z(he);for(let ue=0;ue<H.length;ue+=1)H[ue].l(he);he.forEach(g),o=Z(J),c=z(J,"DIV",{id:!0,class:!0});var Se=T(c);s=z(Se,"H3",{class:!0,"data-svelte-h":!0}),Xe(s)!=="svelte-1a6bfjb"&&(s.textContent=f),p=Z(Se);for(let ue=0;ue<F.length;ue+=1)F[ue].l(Se);m=Z(Se),h=z(Se,"DIV",{class:!0});var We=T(h);d=z(We,"DIV",{class:!0});var Ge=T(d);b=z(Ge,"H5",{class:!0,"data-svelte-h":!0}),Xe(b)!=="svelte-13g7joq"&&(b.textContent=v),y=Z(Ge),G=z(Ge,"UL",{class:!0});var Me=T(G);for(let ue=0;ue<$.length;ue+=1)$[ue].l(Me);Me.forEach(g),Ge.forEach(g),w=Z(We),k=z(We,"DIV",{class:!0});var ae=T(k);C=z(ae,"H5",{class:!0,"data-svelte-h":!0}),Xe(C)!=="svelte-1aqqmj"&&(C.textContent=E),A=Z(ae),S=z(ae,"UL",{class:!0});var ke=T(S);for(let ue=0;ue<ne.length;ue+=1)ne[ue].l(ke);ke.forEach(g),ae.forEach(g),We.forEach(g),I=Z(Se);for(let ue=0;ue<ie.length;ue+=1)ie[ue].l(Se);Se.forEach(g),J.forEach(g),this.h()},h(){u(r,"class","bottle-wrapper svelte-yuonyo"),wt(()=>n[5].call(r)),u(t,"id","closing"),u(t,"class","svelte-yuonyo"),u(s,"class","svelte-yuonyo"),u(b,"class","svelte-yuonyo"),u(G,"class","svelte-yuonyo"),u(d,"class","change svelte-yuonyo"),u(C,"class","svelte-yuonyo"),u(S,"class","svelte-yuonyo"),u(k,"class","same svelte-yuonyo"),u(h,"class","examples svelte-yuonyo"),u(c,"id","methods"),u(c,"class","svelte-yuonyo"),u(e,"id","outro"),u(e,"class","svelte-yuonyo")},m(j,J){L(j,e,J),_(e,t),_(t,r),ce(a,r,null),l=Ea(r,n[5].bind(r)),_(t,i);for(let he=0;he<H.length;he+=1)H[he]&&H[he].m(t,null);_(e,o),_(e,c),_(c,s),_(c,p);for(let he=0;he<F.length;he+=1)F[he]&&F[he].m(c,null);_(c,m),_(c,h),_(h,d),_(d,b),_(d,y),_(d,G);for(let he=0;he<$.length;he+=1)$[he]&&$[he].m(G,null);_(h,w),_(h,k),_(k,C),_(k,A),_(k,S);for(let he=0;he<ne.length;he+=1)ne[he]&&ne[he].m(S,null);_(c,I);for(let he=0;he<ie.length;he+=1)ie[he]&&ie[he].m(c,null);M=!0,D||(P=[rn(Ia.call(null,e)),de(e,"enter",n[6]),de(e,"exit",n[7])],D=!0)},p(j,[J]){const he={};if(J&3&&(he.containerDimensions={bottlesWidth:j[0],bottlesHeight:j[1]}),J&4&&(he.outroVisible=j[2]),J&4&&(he.bottlePosLeft=j[2]?j[4].targetPos:j[4].startingPos),a.$set(he),J&8){B=ve(j[3].outro);let re;for(re=0;re<B.length;re+=1){const Se=Ec(j,B,re);H[re]?H[re].p(Se,J):(H[re]=Cc(Se),H[re].c(),H[re].m(t,null))}for(;re<H.length;re+=1)H[re].d(1);H.length=B.length}if(J&8){V=ve(j[3].methodsA);let re;for(re=0;re<V.length;re+=1){const Se=Sc(j,V,re);F[re]?F[re].p(Se,J):(F[re]=Ac(Se),F[re].c(),F[re].m(c,m))}for(;re<F.length;re+=1)F[re].d(1);F.length=V.length}if(J&8){K=ve(j[3].methodsExChange);let re;for(re=0;re<K.length;re+=1){const Se=Gc(j,K,re);$[re]?($[re].p(Se,J),q($[re],1)):($[re]=Mc(Se),$[re].c(),q($[re],1),$[re].m(G,null))}for(Le(),re=K.length;re<$.length;re+=1)x(re);Ve()}if(J&8){me=ve(j[3].methodsExSame);let re;for(re=0;re<me.length;re+=1){const Se=wc(j,me,re);ne[re]?(ne[re].p(Se,J),q(ne[re],1)):(ne[re]=Ic(Se),ne[re].c(),q(ne[re],1),ne[re].m(S,null))}for(Le(),re=me.length;re<ne.length;re+=1)W(re);Ve()}if(J&8){Y=ve(j[3].methodsB);let re;for(re=0;re<Y.length;re+=1){const Se=vc(j,Y,re);ie[re]?ie[re].p(Se,J):(ie[re]=Dc(Se),ie[re].c(),ie[re].m(c,null))}for(;re<ie.length;re+=1)ie[re].d(1);ie.length=Y.length}},i(j){if(!M){q(a.$$.fragment,j);for(let J=0;J<K.length;J+=1)q($[J]);for(let J=0;J<me.length;J+=1)q(ne[J]);M=!0}},o(j){X(a.$$.fragment,j),$=$.filter(Boolean);for(let J=0;J<$.length;J+=1)X($[J]);ne=ne.filter(Boolean);for(let J=0;J<ne.length;J+=1)X(ne[J]);M=!1},d(j){j&&g(e),se(a),l(),je(H,j),je(F,j),je($,j),je(ne,j),je(ie,j),D=!1,ht(P)}}}function Ah(n,e,t){const r=ct("copy");let a=0,l=0,i=!1;const o={animal:"fish",name:"Sauvignon Blanc",winery:"Mount Fishtail",country:"New Zealand",price:15.99,bottleSlot:"center-lone",targetPos:"50%",startingPos:"-50%"};function c(){l=this.clientHeight,a=this.clientWidth,t(1,l),t(0,a)}return[a,l,i,r,o,c,()=>t(2,i=!0),()=>t(2,i=!1)]}class Mh extends Ie{constructor(e){super(),De(this,e,Ah,Ch,Ae,{})}}function Ih(n){let e,t=`${n[0]} transparent ${n[0]}
  ${n[0]}`;return{c(){e=R("div"),this.h()},l(r){e=z(r,"DIV",{style:!0,class:!0}),T(e).forEach(g),this.h()},h(){fe(e,"--duration",n[1]),u(e,"class","svelte-wusbtr"),fe(e,"border-color",t),fe(e,"width",n[2]),fe(e,"height",n[2])},m(r,a){L(r,e,a)},p(r,[a]){a&2&&fe(e,"--duration",r[1]);const l=a&2;(a&3&&t!==(t=`${r[0]} transparent ${r[0]}
  ${r[0]}`)||l)&&fe(e,"border-color",t),(a&6||l)&&fe(e,"width",r[2]),(a&6||l)&&fe(e,"height",r[2])},i:ge,o:ge,d(r){r&&g(e)}}}function Dh(n,e,t){let{color:r="cornflowerblue"}=e,{duration:a="1.5s"}=e,{size:l="1em"}=e;return n.$$set=i=>{"color"in i&&t(0,r=i.color),"duration"in i&&t(1,a=i.duration),"size"in i&&t(2,l=i.size)},[r,a,l]}class Th extends Ie{constructor(e){super(),De(this,e,Dh,Ih,Ae,{color:0,duration:1,size:2})}}function Ph(n){let e,t=`rotate(${n[0].angle}deg) scale(${n[0].scale}) translate(${n[0].dx}px,
  ${n[0].dy}px)`,r;const a=n[11].default,l=at(a,n,n[10],null);return{c(){e=R("span"),l&&l.c(),this.h()},l(i){e=z(i,"SPAN",{});var o=T(e);l&&l.l(o),o.forEach(g),this.h()},h(){fe(e,"transform",t)},m(i,o){L(i,e,o),l&&l.m(e,null),r=!0},p(i,[o]){l&&l.p&&(!r||o&1024)&&lt(l,a,i,i[10],r?ot(a,i[10],o,null):it(i[10]),null),o&1&&t!==(t=`rotate(${i[0].angle}deg) scale(${i[0].scale}) translate(${i[0].dx}px,
  ${i[0].dy}px)`)&&fe(e,"transform",t)},i(i){r||(q(l,i),r=!0)},o(i){X(l,i),r=!1},d(i){i&&g(e),l&&l.d(i)}}}function Rh(n,e,t){let r,{$$slots:a={},$$scope:l}=e,{wiggle:i=!1}=e,{angle:o=0}=e,{scale:c=1}=e,{dx:s=0}=e,{dy:f=0}=e,{duration:p=200}=e,{stiffness:m=.05}=e,{damping:h=.1}=e,d={angle:0,scale:1,dx:0,dy:0},b=qp(d,{stiffness:m,damping:h});return Q(n,b,v=>t(0,r=v)),n.$$set=v=>{"wiggle"in v&&t(2,i=v.wiggle),"angle"in v&&t(3,o=v.angle),"scale"in v&&t(4,c=v.scale),"dx"in v&&t(5,s=v.dx),"dy"in v&&t(6,f=v.dy),"duration"in v&&t(7,p=v.duration),"stiffness"in v&&t(8,m=v.stiffness),"damping"in v&&t(9,h=v.damping),"$$scope"in v&&t(10,l=v.$$scope)},n.$$.update=()=>{n.$$.dirty&132&&i&&setTimeout(()=>t(2,i=!1),p),n.$$.dirty&124&&b.set(i?{scale:c,angle:o,dx:s,dy:f}:d)},[r,b,i,o,c,s,f,p,m,h,l,a]}class zh extends Ie{constructor(e){super(),De(this,e,Rh,Ph,Ae,{wiggle:2,angle:3,scale:4,dx:5,dy:6,duration:7,stiffness:8,damping:9})}}function Nh(n){let e,t,r=[n[0],{fill:"currentColor"},{viewBox:"0 0 16 16"}],a={};for(let l=0;l<r.length;l+=1)a=jt(a,r[l]);return{c(){e=be("svg"),t=be("path"),this.h()},l(l){e=_e(l,"svg",{fill:!0,viewBox:!0});var i=T(e);t=_e(i,"path",{d:!0}),T(t).forEach(g),i.forEach(g),this.h()},h(){u(t,"d","M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"),sr(e,a)},m(l,i){L(l,e,i),_(e,t)},p(l,[i]){sr(e,a=Sl(r,[i&1&&l[0],{fill:"currentColor"},{viewBox:"0 0 16 16"}]))},i:ge,o:ge,d(l){l&&g(e)}}}function Lh(n,e,t){return n.$$set=r=>{t(0,e=jt(jt({},e),ur(r)))},e=ur(e),[e]}class Vh extends Ie{constructor(e){super(),De(this,e,Lh,Nh,Ae,{})}}function Fh(n){let e,t,r=[n[0],{viewBox:"0 0 24 24"},{fill:"#181A1F"}],a={};for(let l=0;l<r.length;l+=1)a=jt(a,r[l]);return{c(){e=be("svg"),t=be("path"),this.h()},l(l){e=_e(l,"svg",{viewBox:!0,fill:!0});var i=T(e);t=_e(i,"path",{d:!0}),T(t).forEach(g),i.forEach(g),this.h()},h(){u(t,"d","M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"),sr(e,a)},m(l,i){L(l,e,i),_(e,t)},p(l,[i]){sr(e,a=Sl(r,[i&1&&l[0],{viewBox:"0 0 24 24"},{fill:"#181A1F"}]))},i:ge,o:ge,d(l){l&&g(e)}}}function Oh(n,e,t){return n.$$set=r=>{t(0,e=jt(jt({},e),ur(r)))},e=ur(e),[e]}class iu extends Ie{constructor(e){super(),De(this,e,Oh,Fh,Ae,{})}}function Wh(n){let e,t,r=[n[0],{viewBox:"0 0 24 24"},{fill:"currentColor"}],a={};for(let l=0;l<r.length;l+=1)a=jt(a,r[l]);return{c(){e=be("svg"),t=be("path"),this.h()},l(l){e=_e(l,"svg",{viewBox:!0,fill:!0});var i=T(e);t=_e(i,"path",{d:!0}),T(t).forEach(g),i.forEach(g),this.h()},h(){u(t,"d","M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2S2 6.477 2 12s4.477 10 10 10Zm-4.906-3.68L18.32 7.094A8 8 0 0 1 7.094 18.32ZM5.68 16.906A8 8 0 0 1 16.906 5.68L5.68 16.906Z"),sr(e,a)},m(l,i){L(l,e,i),_(e,t)},p(l,[i]){sr(e,a=Sl(r,[i&1&&l[0],{viewBox:"0 0 24 24"},{fill:"currentColor"}]))},i:ge,o:ge,d(l){l&&g(e)}}}function qh(n,e,t){return n.$$set=r=>{t(0,e=jt(jt({},e),ur(r)))},e=ur(e),[e]}class Bh extends Ie{constructor(e){super(),De(this,e,qh,Wh,Ae,{})}}const mt=n=>n instanceof Object?(n.label===void 0&&console.error(`MultiSelect option ${JSON.stringify(n)} is an object but has no label key`),n.label):`${n}`;function Sa(n,e=null){let t="";if(["selected","option",null].includes(e)||console.error(`MultiSelect: Invalid key=${e} for get_style`),typeof n=="object"&&n.style&&(typeof n.style=="string"&&(t=n.style),typeof n.style=="object")){if(e&&e in n.style)return n.style[e]??"";console.error(`Invalid style object for option=${JSON.stringify(n)}`)}return t.trim()&&!t.trim().endsWith(";")&&(t+=";"),t}const{Boolean:jh}=Ru,Hh=n=>({searchText:n[0]&16,msgType:n[0]&68660|n[1]&16,msg:n[0]&101428|n[1]&16}),Tc=n=>({searchText:n[4],msgType:n[125],msg:n[126]});function xa(n){const e=n.slice(),t={dupe:e[15],create:e[10],"no-match":e[35]}[e[125]];return e[126]=t,e}function $a(n){const e=n.slice(),t=e[5].map(mt).includes(e[4]);e[121]=t;const r=!e[16]&&e[121]&&"dupe";e[122]=r;const a=!!(e[11]&&e[10])&&"create";e[123]=a;const l=!!(e[2]?.length==0&&e[35])&&"no-match";e[124]=l;const i=e[122]||e[123]||e[124];return e[125]=i,e}function Pc(n,e,t){const r=n.slice();r[127]=e[t],r[134]=t;const a=r[127]instanceof Object?r[127]:{label:r[127]};r[128]=a.label,r[50]=a.disabled!==void 0?a.disabled:null,r[129]=a.title!==void 0?a.title:null,r[130]=a.selectedTitle!==void 0?a.selectedTitle:null,r[131]=a.disabledTitle!==void 0?a.disabledTitle:r[13];const l=r[0]===r[134];return r[132]=l,r}const Uh=n=>({option:n[0]&1073741828}),Rc=n=>({option:n[127],idx:n[134]}),Zh=n=>({option:n[0]&1073741828}),zc=n=>({option:n[127],idx:n[134]}),Yh=n=>({}),Nc=n=>({}),Kh=n=>({}),Lc=n=>({}),Xh=n=>({}),Vc=n=>({}),Jh=n=>({selected:n[0]&32,disabled:n[1]&524288,invalid:n[0]&128,id:n[0]&262144,placeholder:n[1]&256,open:n[0]&256,required:n[1]&4096}),Fc=n=>({selected:n[5],disabled:n[50],invalid:n[7],id:n[18],placeholder:n[39],open:n[8],required:n[43]});function Oc(n,e,t){const r=n.slice();return r[127]=e[t],r[134]=t,r}const Qh=n=>({}),Wc=n=>({}),xh=n=>({option:n[0]&32,idx:n[0]&32}),qc=n=>({option:n[127],idx:n[134]}),$h=n=>({option:n[0]&32,idx:n[0]&32}),Bc=n=>({option:n[127],idx:n[134]}),e0=n=>({open:n[0]&256}),jc=n=>({open:n[8]});function t0(n){let e,t;return e=new Vh({props:{width:"15px",style:"min-width: 1em; padding: 0 1pt; cursor: pointer;"}}),{c(){oe(e.$$.fragment)},l(r){pe(e.$$.fragment,r)},m(r,a){ce(e,r,a),t=!0},p:ge,i(r){t||(q(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function n0(n){let e=mt(n[127])+"",t;return{c(){t=ee(e)},l(r){t=te(r,e)},m(r,a){L(r,t,a)},p(r,a){a[0]&32&&e!==(e=mt(r[127])+"")&&we(t,e)},d(r){r&&g(t)}}}function r0(n){let e,t=mt(n[127])+"",r;return{c(){e=new tt(!1),r=le(),this.h()},l(a){e=nt(a,!1),r=le(),this.h()},h(){e.a=r},m(a,l){e.m(t,a,l),L(a,r,l)},p(a,l){l[0]&32&&t!==(t=mt(a[127])+"")&&e.p(t)},d(a){a&&(g(r),e.d())}}}function a0(n){let e;function t(l,i){return l[37]?r0:n0}let r=t(n),a=r(n);return{c(){a.c(),e=le()},l(l){a.l(l),e=le()},m(l,i){a.m(l,i),L(l,e,i)},p(l,i){r===(r=t(l))&&a?a.p(l,i):(a.d(1),a=r(l),a&&(a.c(),a.m(e.parentNode,e)))},d(l){l&&g(e),a.d(l)}}}function l0(n){let e;const t=n[78].default,r=at(t,n,n[116],qc),a=r||a0(n);return{c(){a&&a.c()},l(l){a&&a.l(l)},m(l,i){a&&a.m(l,i),e=!0},p(l,i){r?r.p&&(!e||i[0]&32|i[3]&8388608)&&lt(r,t,l,l[116],e?ot(t,l[116],i,xh):it(l[116]),qc):a&&a.p&&(!e||i[0]&32|i[1]&64)&&a.p(l,e?i:[-1,-1,-1,-1,-1])},i(l){e||(q(a,l),e=!0)},o(l){X(a,l),e=!1},d(l){a&&a.d(l)}}}function Hc(n){let e,t,r,a,l;const i=n[78]["remove-icon"],o=at(i,n,n[116],Wc),c=o||i0();function s(){return n[98](n[127])}function f(){return n[99](n[127])}return{c(){e=R("button"),c&&c.c(),this.h()},l(p){e=z(p,"BUTTON",{type:!0,title:!0,class:!0});var m=T(e);c&&c.l(m),m.forEach(g),this.h()},h(){u(e,"type","button"),u(e,"title",t=n[41]+" "+mt(n[127])),u(e,"class","remove svelte-1sv726k")},m(p,m){L(p,e,m),c&&c.m(e,null),r=!0,a||(l=[de(e,"mouseup",Nt(s)),de(e,"keydown",function(){pa(n[62](f))&&n[62](f).apply(this,arguments)})],a=!0)},p(p,m){n=p,o&&o.p&&(!r||m[3]&8388608)&&lt(o,i,n,n[116],r?ot(i,n[116],m,Qh):it(n[116]),Wc),(!r||m[0]&32|m[1]&1024&&t!==(t=n[41]+" "+mt(n[127])))&&u(e,"title",t)},i(p){r||(q(c,p),r=!0)},o(p){X(c,p),r=!1},d(p){p&&g(e),c&&c.d(p),a=!1,ht(l)}}}function i0(n){let e,t;return e=new iu({props:{width:"15px"}}),{c(){oe(e.$$.fragment)},l(r){pe(e.$$.fragment,r)},m(r,a){ce(e,r,a),t=!0},p:ge,i(r){t||(q(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Uc(n,e){let t,r,a,l,i,o,c=ge,s,f,p;const m=e[78].selected,h=at(m,e,e[116],Bc),d=h||l0(e);let b=!e[50]&&(e[42]===null||e[5].length>e[42])&&Hc(e);function v(){return e[100](e[134])}return{key:n,first:null,c(){t=R("li"),d&&d.c(),r=U(),b&&b.c(),this.h()},l(y){t=z(y,"LI",{class:!0,role:!0,"aria-selected":!0,draggable:!0,style:!0});var G=T(t);d&&d.l(G),r=Z(G),b&&b.l(G),G.forEach(g),this.h()},h(){u(t,"class",a=Sn(e[26])+" svelte-1sv726k"),u(t,"role","option"),u(t,"aria-selected","true"),u(t,"draggable",l=e[44]&&!e[50]&&e[5].length>1),u(t,"style",i=Sa(e[127],"selected")+" "+e[27]),ye(t,"active",e[54]===e[134]),this.first=t},m(y,G){L(y,t,G),d&&d.m(t,null),_(t,r),b&&b.m(t,null),s=!0,f||(p=[de(t,"dragstart",function(){pa(e[65](e[134]))&&e[65](e[134]).apply(this,arguments)}),de(t,"drop",or(function(){pa(e[64](e[134]))&&e[64](e[134]).apply(this,arguments)})),de(t,"dragenter",v),de(t,"dragover",or(e[94]))],f=!0)},p(y,G){e=y,h?h.p&&(!s||G[0]&32|G[3]&8388608)&&lt(h,m,e,e[116],s?ot(m,e[116],G,$h):it(e[116]),Bc):d&&d.p&&(!s||G[0]&32|G[1]&64|G[3]&8388608)&&d.p(e,s?G:[-1,-1,-1,-1,-1]),!e[50]&&(e[42]===null||e[5].length>e[42])?b?(b.p(e,G),G[0]&32|G[1]&526336&&q(b,1)):(b=Hc(e),b.c(),q(b,1),b.m(t,null)):b&&(Le(),X(b,1,1,()=>{b=null}),Ve()),(!s||G[0]&67108864&&a!==(a=Sn(e[26])+" svelte-1sv726k"))&&u(t,"class",a),(!s||G[0]&32|G[1]&532480&&l!==(l=e[44]&&!e[50]&&e[5].length>1))&&u(t,"draggable",l),(!s||G[0]&134217760&&i!==(i=Sa(e[127],"selected")+" "+e[27]))&&u(t,"style",i),(!s||G[0]&67108896|G[1]&8388608)&&ye(t,"active",e[54]===e[134])},r(){o=t.getBoundingClientRect()},f(){Ma(t),c()},a(){c(),c=Aa(t,o,Pa,{duration:100})},i(y){s||(q(d,y),q(b),s=!0)},o(y){X(d,y),X(b),s=!1},d(y){y&&g(t),d&&d.d(y),b&&b.d(),f=!1,ht(p)}}}function Zc(n){let e;const t=n[78].spinner,r=at(t,n,n[116],Vc),a=r||o0();return{c(){a&&a.c()},l(l){a&&a.l(l)},m(l,i){a&&a.m(l,i),e=!0},p(l,i){r&&r.p&&(!e||i[3]&8388608)&&lt(r,t,l,l[116],e?ot(t,l[116],i,Xh):it(l[116]),Vc)},i(l){e||(q(a,l),e=!0)},o(l){X(a,l),e=!1},d(l){a&&a.d(l)}}}function o0(n){let e,t;return e=new Th({}),{c(){oe(e.$$.fragment)},l(r){pe(e.$$.fragment,r)},m(r,a){ce(e,r,a),t=!0},i(r){t||(q(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function c0(n){let e,t,r,a=n[31]&&(n[31]>1||n[32])&&Yc(n),l=n[31]!==1&&n[5].length>1&&Kc(n);return{c(){a&&a.c(),e=U(),l&&l.c(),t=le()},l(i){a&&a.l(i),e=Z(i),l&&l.l(i),t=le()},m(i,o){a&&a.m(i,o),L(i,e,o),l&&l.m(i,o),L(i,t,o),r=!0},p(i,o){i[31]&&(i[31]>1||i[32])?a?(a.p(i,o),o[1]&3&&q(a,1)):(a=Yc(i),a.c(),q(a,1),a.m(e.parentNode,e)):a&&(Le(),X(a,1,1,()=>{a=null}),Ve()),i[31]!==1&&i[5].length>1?l?(l.p(i,o),o[0]&32|o[1]&1&&q(l,1)):(l=Kc(i),l.c(),q(l,1),l.m(t.parentNode,t)):l&&(Le(),X(l,1,1,()=>{l=null}),Ve())},i(i){r||(q(a),q(l),r=!0)},o(i){X(a),X(l),r=!1},d(i){i&&(g(e),g(t)),a&&a.d(i),l&&l.d(i)}}}function s0(n){let e;const t=n[78]["disabled-icon"],r=at(t,n,n[116],Lc),a=r||p0();return{c(){a&&a.c()},l(l){a&&a.l(l)},m(l,i){a&&a.m(l,i),e=!0},p(l,i){r&&r.p&&(!e||i[3]&8388608)&&lt(r,t,l,l[116],e?ot(t,l[116],i,Kh):it(l[116]),Lc)},i(l){e||(q(a,l),e=!0)},o(l){X(a,l),e=!1},d(l){a&&a.d(l)}}}function Yc(n){let e,t,r;function a(i){n[103](i)}let l={angle:20,$$slots:{default:[u0]},$$scope:{ctx:n}};return n[51]!==void 0&&(l.wiggle=n[51]),e=new zh({props:l}),He.push(()=>ln(e,"wiggle",a)),{c(){oe(e.$$.fragment)},l(i){pe(e.$$.fragment,i)},m(i,o){ce(e,i,o),r=!0},p(i,o){const c={};o[0]&32|o[1]&7|o[3]&8388608&&(c.$$scope={dirty:o,ctx:i}),!t&&o[1]&1048576&&(t=!0,c.wiggle=i[51],an(()=>t=!1)),e.$set(c)},i(i){r||(q(e.$$.fragment,i),r=!0)},o(i){X(e.$$.fragment,i),r=!1},d(i){se(e,i)}}}function u0(n){let e,t=n[32]?.(n[5].length,n[31])+"",r,a;return{c(){e=R("span"),r=ee(t),this.h()},l(l){e=z(l,"SPAN",{class:!0});var i=T(e);r=te(i,t),i.forEach(g),this.h()},h(){u(e,"class",a="max-select-msg "+n[33]+" svelte-1sv726k")},m(l,i){L(l,e,i),_(e,r)},p(l,i){i[0]&32|i[1]&3&&t!==(t=l[32]?.(l[5].length,l[31])+"")&&we(r,t),i[1]&4&&a!==(a="max-select-msg "+l[33]+" svelte-1sv726k")&&u(e,"class",a)},d(l){l&&g(e)}}}function Kc(n){let e,t,r,a;const l=n[78]["remove-icon"],i=at(l,n,n[116],Nc),o=i||f0();return{c(){e=R("button"),o&&o.c(),this.h()},l(c){e=z(c,"BUTTON",{type:!0,class:!0,title:!0});var s=T(e);o&&o.l(s),s.forEach(g),this.h()},h(){u(e,"type","button"),u(e,"class","remove remove-all svelte-1sv726k"),u(e,"title",n[40])},m(c,s){L(c,e,s),o&&o.m(e,null),t=!0,r||(a=[de(e,"mouseup",Nt(n[61])),de(e,"keydown",n[62](n[61]))],r=!0)},p(c,s){i&&i.p&&(!t||s[3]&8388608)&&lt(i,l,c,c[116],t?ot(l,c[116],s,Yh):it(c[116]),Nc),(!t||s[1]&512)&&u(e,"title",c[40])},i(c){t||(q(o,c),t=!0)},o(c){X(o,c),t=!1},d(c){c&&g(e),o&&o.d(c),r=!1,ht(a)}}}function f0(n){let e,t;return e=new iu({props:{width:"15px"}}),{c(){oe(e.$$.fragment)},l(r){pe(e.$$.fragment,r)},m(r,a){ce(e,r,a),t=!0},p:ge,i(r){t||(q(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function p0(n){let e,t;return e=new Bh({props:{width:"14pt",style:"margin: 0 2pt;","data-name":"disabled-icon"}}),{c(){oe(e.$$.fragment)},l(r){pe(e.$$.fragment,r)},m(r,a){ce(e,r,a),t=!0},p:ge,i(r){t||(q(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Xc(n){let e,t,r,a,l,i,o=ve(n[2].slice(0,Math.max(0,n[30]??0)||1/0)),c=[];for(let p=0;p<o.length;p+=1)c[p]=Jc(Pc(n,o,p));const s=p=>X(c[p],1,1,()=>{c[p]=null});let f=n[4]&&Qc($a(n));return{c(){e=R("ul");for(let p=0;p<c.length;p+=1)c[p].c();t=U(),f&&f.c(),this.h()},l(p){e=z(p,"UL",{class:!0,role:!0,"aria-multiselectable":!0,"aria-expanded":!0,"aria-disabled":!0,style:!0});var m=T(e);for(let h=0;h<c.length;h+=1)c[h].l(m);t=Z(m),f&&f.l(m),m.forEach(g),this.h()},h(){u(e,"class",r="options "+n[46]+" svelte-1sv726k"),u(e,"role","listbox"),u(e,"aria-multiselectable",a=n[31]===null||n[31]>1),u(e,"aria-expanded",n[8]),u(e,"aria-disabled",l=n[50]?"true":null),u(e,"style",n[49]),ye(e,"hidden",!n[8])},m(p,m){L(p,e,m);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(e,null);_(e,t),f&&f.m(e,null),n[114](e),i=!0},p(p,m){if(m[0]&1128267781|m[1]&100663360|m[3]&8388608){o=ve(p[2].slice(0,Math.max(0,p[30]??0)||1/0));let h;for(h=0;h<o.length;h+=1){const d=Pc(p,o,h);c[h]?(c[h].p(d,m),q(c[h],1)):(c[h]=Jc(d),c[h].c(),q(c[h],1),c[h].m(e,t))}for(Le(),h=o.length;h<c.length;h+=1)s(h);Ve()}p[4]?f?(f.p($a(p),m),m[0]&16&&q(f,1)):(f=Qc($a(p)),f.c(),q(f,1),f.m(e,null)):f&&(Le(),X(f,1,1,()=>{f=null}),Ve()),(!i||m[1]&32768&&r!==(r="options "+p[46]+" svelte-1sv726k"))&&u(e,"class",r),(!i||m[1]&1&&a!==(a=p[31]===null||p[31]>1))&&u(e,"aria-multiselectable",a),(!i||m[0]&256)&&u(e,"aria-expanded",p[8]),(!i||m[1]&524288&&l!==(l=p[50]?"true":null))&&u(e,"aria-disabled",l),(!i||m[1]&262144)&&u(e,"style",p[49]),(!i||m[0]&256|m[1]&32768)&&ye(e,"hidden",!p[8])},i(p){if(!i){for(let m=0;m<o.length;m+=1)q(c[m]);q(f),i=!0}},o(p){c=c.filter(jh);for(let m=0;m<c.length;m+=1)X(c[m]);X(f),i=!1},d(p){p&&g(e),je(c,p),f&&f.d(),n[114](null)}}}function m0(n){let e=mt(n[127])+"",t;return{c(){t=ee(e)},l(r){t=te(r,e)},m(r,a){L(r,t,a)},p(r,a){a[0]&1073741828&&e!==(e=mt(r[127])+"")&&we(t,e)},d(r){r&&g(t)}}}function h0(n){let e,t=mt(n[127])+"",r;return{c(){e=new tt(!1),r=le(),this.h()},l(a){e=nt(a,!1),r=le(),this.h()},h(){e.a=r},m(a,l){e.m(t,a,l),L(a,r,l)},p(a,l){l[0]&1073741828&&t!==(t=mt(a[127])+"")&&e.p(t)},d(a){a&&(g(r),e.d())}}}function g0(n){let e;function t(l,i){return l[37]?h0:m0}let r=t(n),a=r(n);return{c(){a.c(),e=le()},l(l){a.l(l),e=le()},m(l,i){a.m(l,i),L(l,e,i)},p(l,i){r===(r=t(l))&&a?a.p(l,i):(a.d(1),a=r(l),a&&(a.c(),a.m(e.parentNode,e)))},d(l){l&&g(e),a.d(l)}}}function d0(n){let e;const t=n[78].default,r=at(t,n,n[116],Rc),a=r||g0(n);return{c(){a&&a.c()},l(l){a&&a.l(l)},m(l,i){a&&a.m(l,i),e=!0},p(l,i){r?r.p&&(!e||i[0]&1073741828|i[3]&8388608)&&lt(r,t,l,l[116],e?ot(t,l[116],i,Uh):it(l[116]),Rc):a&&a.p&&(!e||i[0]&1073741828|i[1]&64)&&a.p(l,e?i:[-1,-1,-1,-1,-1])},i(l){e||(q(a,l),e=!0)},o(l){X(a,l),e=!1},d(l){a&&a.d(l)}}}function Jc(n){let e,t,r,a,l,i,o;const c=n[78].option,s=at(c,n,n[116],zc),f=s||d0(n);function p(...d){return n[104](n[50],n[127],...d)}function m(){return n[105](n[50],n[134])}function h(){return n[106](n[50],n[134])}return{c(){e=R("li"),f&&f.c(),this.h()},l(d){e=z(d,"LI",{title:!0,class:!0,role:!0,"aria-selected":!0,style:!0});var b=T(e);f&&f.l(b),b.forEach(g),this.h()},h(){u(e,"title",t=n[50]?n[131]:n[56](n[128])&&n[130]||n[129]),u(e,"class",r=n[24]+" "+(n[132]?n[22]:"")+" svelte-1sv726k"),u(e,"role","option"),u(e,"aria-selected","false"),u(e,"style",a=Sa(n[127],"option")+" "+n[25]),ye(e,"selected",n[56](n[128])),ye(e,"active",n[132]),ye(e,"disabled",n[50])},m(d,b){L(d,e,b),f&&f.m(e,null),l=!0,i||(o=[de(e,"mousedown",Nt(n[80])),de(e,"mouseup",Nt(p)),de(e,"mouseover",m),de(e,"focus",h),de(e,"mouseout",n[107]),de(e,"blur",n[108])],i=!0)},p(d,b){n=d,s?s.p&&(!l||b[0]&1073741828|b[3]&8388608)&&lt(s,c,n,n[116],l?ot(c,n[116],b,Zh):it(n[116]),zc):f&&f.p&&(!l||b[0]&1073741828|b[1]&64|b[3]&8388608)&&f.p(n,l?b:[-1,-1,-1,-1,-1]),(!l||b[0]&1073741828|b[1]&33554432&&t!==(t=n[50]?n[131]:n[56](n[128])&&n[130]||n[129]))&&u(e,"title",t),(!l||b[0]&20971521&&r!==(r=n[24]+" "+(n[132]?n[22]:"")+" svelte-1sv726k"))&&u(e,"class",r),(!l||b[0]&1107296260&&a!==(a=Sa(n[127],"option")+" "+n[25]))&&u(e,"style",a),(!l||b[0]&1094713349|b[1]&33554432)&&ye(e,"selected",n[56](n[128])),(!l||b[0]&20971521)&&ye(e,"active",n[132]),(!l||b[0]&1094713349)&&ye(e,"disabled",n[50])},i(d){l||(q(f,d),l=!0)},o(d){X(f,d),l=!1},d(d){d&&g(e),f&&f.d(d),i=!1,ht(o)}}}function Qc(n){let e,t,r=n[125]&&xc(xa(n));return{c(){r&&r.c(),e=le()},l(a){r&&r.l(a),e=le()},m(a,l){r&&r.m(a,l),L(a,e,l),t=!0},p(a,l){a[125]?r?(r.p(xa(a),l),l[0]&68660|l[1]&16&&q(r,1)):(r=xc(xa(a)),r.c(),q(r,1),r.m(e.parentNode,e)):r&&(Le(),X(r,1,1,()=>{r=null}),Ve())},i(a){t||(q(r),t=!0)},o(a){X(r),t=!1},d(a){a&&g(e),r&&r.d(a)}}}function xc(n){let e,t,r,a,l;const i=n[78]["user-msg"],o=at(i,n,n[116],Tc),c=o||b0(n);return{c(){e=R("li"),c&&c.c(),this.h()},l(s){e=z(s,"LI",{title:!0,role:!0,"aria-selected":!0,class:!0});var f=T(e);c&&c.l(f),f.forEach(g),this.h()},h(){u(e,"title",n[10]),u(e,"role","option"),u(e,"aria-selected","false"),u(e,"class",t="user-msg "+n[28]+" "+(n[52]?n[23]:"")+" svelte-1sv726k"),ye(e,"active",n[52]),fe(e,"cursor",{dupe:"not-allowed",create:"pointer","no-match":"default"}[n[125]])},m(s,f){L(s,e,f),c&&c.m(e,null),r=!0,a||(l=[de(e,"mousedown",Nt(n[79])),de(e,"mouseup",Nt(n[109])),de(e,"mouseover",n[110]),de(e,"focus",n[111]),de(e,"mouseout",n[112]),de(e,"blur",n[113])],a=!0)},p(s,f){o?o.p&&(!r||f[0]&101428|f[1]&16|f[3]&8388608)&&lt(o,i,s,s[116],r?ot(i,s[116],f,Hh):it(s[116]),Tc):c&&c.p&&(!r||f[0]&101428|f[1]&16)&&c.p(s,r?f:[-1,-1,-1,-1,-1]),(!r||f[0]&1024)&&u(e,"title",s[10]),(!r||f[0]&276824064|f[1]&2097152&&t!==(t="user-msg "+s[28]+" "+(s[52]?s[23]:"")+" svelte-1sv726k"))&&u(e,"class",t),(!r||f[0]&276824064|f[1]&2097152)&&ye(e,"active",s[52]),f[0]&68660|f[1]&16&&fe(e,"cursor",{dupe:"not-allowed",create:"pointer","no-match":"default"}[s[125]])},i(s){r||(q(c,s),r=!0)},o(s){X(c,s),r=!1},d(s){s&&g(e),c&&c.d(s),a=!1,ht(l)}}}function b0(n){let e=n[126]+"",t;return{c(){t=ee(e)},l(r){t=te(r,e)},m(r,a){L(r,t,a)},p(r,a){a[0]&101428|a[1]&16&&e!==(e=r[126]+"")&&we(t,e)},d(r){r&&g(t)}}}function _0(n){let e,t,r,a,l,i,o=[],c=new Map,s,f,p,m,h,d,b,v,y,G,w,k,C,E,A,S,I;wt(n[95]);const M=n[78]["expand-icon"],D=at(M,n,n[116],jc),P=D||t0();let B=ve(n[5]);const H=W=>W[16]?[W[17](W[127]),W[134]]:W[17](W[127]);for(let W=0;W<B.length;W+=1){let Y=Oc(n,B,W),ie=H(Y);c.set(ie,o[W]=Uc(ie,Y))}const V=n[78]["after-input"],F=at(V,n,n[116],Fc);let K=n[29]&&Zc(n);const $=[s0,c0],x=[];function me(W,Y){return W[50]?0:W[5].length>0?1:-1}~(G=me(n))&&(w=x[G]=$[G](n));let ne=(n[4]&&n[35]||n[3]?.length>0)&&Xc(n);return{c(){e=R("div"),t=R("input"),a=U(),P&&P.c(),l=U(),i=R("ul");for(let W=0;W<o.length;W+=1)o[W].c();s=U(),f=R("input"),d=U(),F&&F.c(),v=U(),K&&K.c(),y=U(),w&&w.c(),k=U(),ne&&ne.c(),this.h()},l(W){e=z(W,"DIV",{class:!0,title:!0,"data-id":!0,role:!0,tabindex:!0,style:!0});var Y=T(e);t=z(Y,"INPUT",{name:!0,tabindex:!0,"aria-hidden":!0,"aria-label":!0,class:!0}),a=Z(Y),P&&P.l(Y),l=Z(Y),i=z(Y,"UL",{class:!0,"aria-label":!0,style:!0});var ie=T(i);for(let j=0;j<o.length;j+=1)o[j].l(ie);s=Z(ie),f=z(ie,"INPUT",{class:!0,style:!0,id:!0,autocomplete:!0,inputmode:!0,pattern:!0,placeholder:!0,"aria-invalid":!0}),d=Z(ie),F&&F.l(ie),ie.forEach(g),v=Z(Y),K&&K.l(Y),y=Z(Y),w&&w.l(Y),k=Z(Y),ne&&ne.l(Y),Y.forEach(g),this.h()},h(){u(t,"name",n[34]),t.required=n[43],t.value=r=n[5].length>=Number(n[43])?JSON.stringify(n[5]):null,u(t,"tabindex","-1"),u(t,"aria-hidden","true"),u(t,"aria-label","ignore this, used only to prevent form submission if select is required but empty"),u(t,"class","form-control svelte-1sv726k"),u(f,"class",p=Sn(n[19])+" svelte-1sv726k"),u(f,"style",n[20]),u(f,"id",n[18]),f.disabled=n[50],u(f,"autocomplete",n[12]),u(f,"inputmode",n[21]),u(f,"pattern",n[38]),u(f,"placeholder",m=n[5].length==0?n[39]:null),u(f,"aria-invalid",h=n[7]?"true":null),u(i,"class",b="selected "+n[47]+" svelte-1sv726k"),u(i,"aria-label","selected options"),u(i,"style",n[48]),u(e,"class",C="multiselect "+n[36]+" svelte-1sv726k"),u(e,"title",E=n[50]?n[14]:null),u(e,"data-id",n[18]),u(e,"role","searchbox"),u(e,"tabindex","-1"),u(e,"style",n[45]),ye(e,"disabled",n[50]),ye(e,"single",n[31]===1),ye(e,"open",n[8]),ye(e,"invalid",n[7])},m(W,Y){L(W,e,Y),_(e,t),n[96](t),_(e,a),P&&P.m(e,null),_(e,l),_(e,i);for(let ie=0;ie<o.length;ie+=1)o[ie]&&o[ie].m(i,null);_(i,s),_(i,f),n[101](f),fa(f,n[4]),_(i,d),F&&F.m(i,null),_(e,v),K&&K.m(e,null),_(e,y),~G&&x[G].m(e,null),_(e,k),ne&&ne.m(e,null),n[115](e),A=!0,S||(I=[de(window,"click",n[63]),de(window,"touchstart",n[63]),de(window,"resize",n[95]),de(t,"invalid",n[97]),de(f,"input",n[102]),de(f,"mouseup",du(Nt(n[59]))),de(f,"keydown",Nt(n[60])),de(f,"focus",n[81]),de(f,"focus",n[59]),de(f,"input",n[66]),de(f,"drop",y0),de(f,"blur",n[82]),de(f,"change",n[83]),de(f,"click",n[84]),de(f,"keydown",n[85]),de(f,"keyup",n[86]),de(f,"mousedown",n[87]),de(f,"mouseenter",n[88]),de(f,"mouseleave",n[89]),de(f,"touchcancel",n[90]),de(f,"touchend",n[91]),de(f,"touchmove",n[92]),de(f,"touchstart",n[93]),de(e,"mouseup",Nt(n[59]))],S=!0)},p(W,Y){if((!A||Y[1]&8)&&u(t,"name",W[34]),(!A||Y[1]&4096)&&(t.required=W[43]),(!A||Y[0]&32|Y[1]&4096&&r!==(r=W[5].length>=Number(W[43])?JSON.stringify(W[5]):null)&&t.value!==r)&&(t.value=r),D&&D.p&&(!A||Y[0]&256|Y[3]&8388608)&&lt(D,M,W,W[116],A?ot(M,W[116],Y,e0):it(W[116]),jc),Y[0]&201523232|Y[1]&143141952|Y[2]&13|Y[3]&8388608){B=ve(W[5]),Le();for(let j=0;j<o.length;j+=1)o[j].r();o=pr(o,Y,H,1,W,B,c,i,yu,Uc,s,Oc);for(let j=0;j<o.length;j+=1)o[j].a();Ve()}(!A||Y[0]&524288&&p!==(p=Sn(W[19])+" svelte-1sv726k"))&&u(f,"class",p),(!A||Y[0]&1048576)&&u(f,"style",W[20]),(!A||Y[0]&262144)&&u(f,"id",W[18]),(!A||Y[1]&524288)&&(f.disabled=W[50]),(!A||Y[0]&4096)&&u(f,"autocomplete",W[12]),(!A||Y[0]&2097152)&&u(f,"inputmode",W[21]),(!A||Y[1]&128)&&u(f,"pattern",W[38]),(!A||Y[0]&32|Y[1]&256&&m!==(m=W[5].length==0?W[39]:null))&&u(f,"placeholder",m),(!A||Y[0]&128&&h!==(h=W[7]?"true":null))&&u(f,"aria-invalid",h),Y[0]&16&&f.value!==W[4]&&fa(f,W[4]),F&&F.p&&(!A||Y[0]&262560|Y[1]&528640|Y[3]&8388608)&&lt(F,V,W,W[116],A?ot(V,W[116],Y,Jh):it(W[116]),Fc),(!A||Y[1]&65536&&b!==(b="selected "+W[47]+" svelte-1sv726k"))&&u(i,"class",b),(!A||Y[1]&131072)&&u(i,"style",W[48]),W[29]?K?(K.p(W,Y),Y[0]&536870912&&q(K,1)):(K=Zc(W),K.c(),q(K,1),K.m(e,y)):K&&(Le(),X(K,1,1,()=>{K=null}),Ve());let ie=G;G=me(W),G===ie?~G&&x[G].p(W,Y):(w&&(Le(),X(x[ie],1,1,()=>{x[ie]=null}),Ve()),~G?(w=x[G],w?w.p(W,Y):(w=x[G]=$[G](W),w.c()),q(w,1),w.m(e,k)):w=null),W[4]&&W[35]||W[3]?.length>0?ne?(ne.p(W,Y),Y[0]&24|Y[1]&16&&q(ne,1)):(ne=Xc(W),ne.c(),q(ne,1),ne.m(e,null)):ne&&(Le(),X(ne,1,1,()=>{ne=null}),Ve()),(!A||Y[1]&32&&C!==(C="multiselect "+W[36]+" svelte-1sv726k"))&&u(e,"class",C),(!A||Y[0]&16384|Y[1]&524288&&E!==(E=W[50]?W[14]:null))&&u(e,"title",E),(!A||Y[0]&262144)&&u(e,"data-id",W[18]),(!A||Y[1]&16384)&&u(e,"style",W[45]),(!A||Y[1]&524320)&&ye(e,"disabled",W[50]),(!A||Y[1]&33)&&ye(e,"single",W[31]===1),(!A||Y[0]&256|Y[1]&32)&&ye(e,"open",W[8]),(!A||Y[0]&128|Y[1]&32)&&ye(e,"invalid",W[7])},i(W){if(!A){q(P,W);for(let Y=0;Y<B.length;Y+=1)q(o[Y]);q(F,W),q(K),q(w),q(ne),A=!0}},o(W){X(P,W);for(let Y=0;Y<o.length;Y+=1)X(o[Y]);X(F,W),X(K),X(w),X(ne),A=!1},d(W){W&&g(e),n[96](null),P&&P.d(W);for(let Y=0;Y<o.length;Y+=1)o[Y].d();n[101](null),F&&F.d(W),K&&K.d(),~G&&x[G].d(),ne&&ne.d(),n[115](null),S=!1,ht(I)}}}const y0=()=>!1;function k0(n,e,t){let r,{$$slots:a={},$$scope:l}=e,{activeIndex:i=null}=e,{activeOption:o=null}=e,{createOptionMsg:c="Create this option..."}=e,{allowUserOptions:s=!1}=e,{allowEmpty:f=!1}=e,{autocomplete:p="off"}=e,{autoScroll:m=!0}=e,{breakpoint:h=800}=e,{defaultDisabledTitle:d="This option is disabled"}=e,{disabled:b=!1}=e,{disabledInputTitle:v="This input is disabled"}=e,{duplicateOptionMsg:y="This option is already selected"}=e,{duplicates:G=!1}=e,{key:w=N=>`${mt(N)}`.toLowerCase()}=e,{filterFunc:k=(N,ze)=>ze?`${mt(N)}`.toLowerCase().includes(ze.toLowerCase()):!0}=e,{valType:C}=e,{closeDropdownOnSelect:E="desktop"}=e,{form_input:A=null}=e,{highlightMatches:S=!0}=e,{id:I=null}=e,{input:M=null}=e,{inputClass:D=""}=e,{inputStyle:P=null}=e,{inputmode:B=null}=e,{invalid:H=!1}=e,{liActiveOptionClass:V=""}=e,{liActiveUserMsgClass:F=""}=e,{liOptionClass:K=""}=e,{liOptionStyle:$=null}=e,{liSelectedClass:x=""}=e,{liSelectedStyle:me=null}=e,{liUserMsgClass:ne=""}=e,{loading:W=!1}=e,{matchingOptions:Y=[]}=e,{maxOptions:ie=void 0}=e,{maxSelect:j=null}=e,{maxSelectMsg:J=(N,ze)=>ze>1?`${N}/${ze}`:""}=e,{maxSelectMsgClass:he=""}=e,{name:re=null}=e,{noMatchingOptionsMsg:Se="No matching options"}=e,{open:We=!1}=e,{options:Ge}=e,{outerDiv:Me=null}=e,{outerDivClass:ae=""}=e,{parseLabelsAsHtml:ke=!1}=e,{pattern:ue=null}=e,{placeholder:Fe=null}=e,{removeAllTitle:$e="Remove all"}=e,{removeBtnTitle:Be="Remove"}=e,{minSelect:Ue=null}=e,{required:Ke=!1}=e,{resetFilterOnAdd:St=!0}=e,{searchText:Ne=""}=e,{selected:Ce=Ge?.filter(N=>N instanceof Object&&N?.preselected).slice(0,j??void 0)??[]}=e,{sortSelected:st=!1}=e,{selectedOptionsDraggable:Gt=!st}=e,{style:et=null}=e,{ulOptionsClass:qe=""}=e,{ulSelectedClass:Je=""}=e,{ulSelectedStyle:Ht=null}=e,{ulOptionsStyle:Et=null}=e,{value:Vt=null}=e;const Ut=N=>{t(67,Vt=j===1?N[0]??null:N)},Cn=N=>{j===1?t(5,Ce=N?[N]:[]):t(5,Ce=N??[])};let Zt=!1;Ge?.length>0||(s||W||b||f?Ge=[]:console.error("MultiSelect received no options")),j!==null&&j<1&&console.error(`MultiSelect's maxSelect must be null or positive integer, got ${j}`),Array.isArray(Ce)||console.error(`MultiSelect's selected prop should always be an array, got ${Ce}`),j&&typeof Ke=="number"&&Ke>j&&console.error(`MultiSelect maxSelect=${j} < required=${Ke}, makes it impossible for users to submit a valid form`),ke&&s&&console.warn("Don't combine parseLabelsAsHtml and allowUserOptions. It's susceptible to XSS attacks!"),st&&Gt&&console.warn("MultiSelect's sortSelected and selectedOptionsDraggable should not be combined as any user re-orderings of selected options will be undone by sortSelected on component re-renders."),s&&!c&&c!==null&&console.error(`MultiSelect has allowUserOptions=${s} but createOptionMsg=${c} is falsy. This prevents the "Add option" <span> from showing up, resulting in a confusing user experience.`),ie&&(typeof ie!="number"||ie<0||ie%1!=0)&&console.error(`MultiSelect's maxOptions must be undefined or a positive integer, got ${ie}`);const Qe=Fr();let gt=!1,Ft;if(i!==null&&!Y[i])throw`Run time error, activeIndex=${i} is out of bounds, matchingOptions.length=${Y.length}`;function pt(N,ze){j&&j>1&&Ce.length>=j&&t(51,Zt=!0),!isNaN(Number(N))&&typeof Ce.map(mt)[0]=="number"&&(N=Number(N));const Ze=Ce.map(w).includes(w(N));if((j===null||j===1||Ce.length<j)&&(G||!Ze)){if(!Ge.includes(N)&&[!0,"append"].includes(s)&&Ne.length>0&&(typeof Ge[0]=="object"?N={label:Ne}:(["number","undefined"].includes(typeof Ge[0])&&!isNaN(Number(Ne))?N=Number(Ne):N=Ne,Qe("create",{option:N})),s==="append"&&t(3,Ge=[...Ge,N])),St&&t(4,Ne=""),["",void 0,null].includes(N)){console.error(`MultiSelect: encountered falsy option ${N}`);return}j===1?t(5,Ce=[N]):(t(5,Ce=[...Ce,N]),st===!0?t(5,Ce=Ce.sort(($t,It)=>{const[qt,Kt]=[mt($t),mt(It)];return`${qt}`.localeCompare(`${Kt}`)})):typeof st=="function"&&t(5,Ce=Ce.sort(st)));const rt=Ce.length===j,Rt=E===!0||E==="desktop"&&Ft<h;rt||Rt?yt(ze):Rt||M?.focus(),Qe("add",{option:N}),Qe("change",{option:N,type:"add"}),t(7,H=!1),A?.setCustomValidity("")}}function _t(N){if(Ce.length===0)return;const ze=Ce.findIndex(rt=>w(rt)===w(N));let[Ze]=Ce.splice(ze,1);if(Ze===void 0&&s&&(Ze=typeof Ge[0]?{label:N}:N),Ze===void 0)return console.error(`Multiselect can't remove selected option ${JSON.stringify(N)}, not found in selected list`);t(5,Ce=[...Ce]),t(7,H=!1),A?.setCustomValidity(""),Qe("remove",{option:Ze}),Qe("change",{option:Ze,type:"remove"})}function Tt(N){b||(t(8,We=!0),N instanceof FocusEvent||M?.focus(),Qe("open",{event:N}))}function yt(N){t(8,We=!1),M?.blur(),t(0,i=null),Qe("close",{event:N})}async function Ot(N){if(N.key==="Escape"||N.key==="Tab")yt(N),t(4,Ne="");else if(N.key==="Enter")N.preventDefault(),o?(Ce.includes(o)?_t(o):pt(o,N),t(4,Ne="")):s&&Ne.length>0?pt(Ne,N):Tt(N);else if(["ArrowDown","ArrowUp"].includes(N.key)){if(i===null&&Y.length>0){t(0,i=0);return}else if(s&&!Y.length&&Ne.length>0){t(52,gt=!gt);return}else if(i===null)return;N.preventDefault();const ze=N.key==="ArrowUp"?-1:1;if(t(0,i=(i+ze)%Y.length),i<0&&t(0,i=Y.length-1),m){await Ts();const Ze=document.querySelector("ul.options > li.active");Ze&&Ze.scrollIntoViewIfNeeded?.()}}else N.key==="Backspace"&&Ce.length>0&&!Ne?_t(Ce.at(-1)):Y.length>0&&t(0,i=0)}function Ct(){Qe("removeAll",{options:Ce}),Qe("change",{options:Ce,type:"removeAll"}),t(5,Ce=[]),t(4,Ne="")}const Pt=N=>ze=>{["Enter","Space"].includes(ze.code)&&(ze.preventDefault(),N())};function At(N){Me&&!Me.contains(N.target)&&yt(N)}let Mt=null;const sn=N=>ze=>{if(!ze.dataTransfer)return;ze.dataTransfer.dropEffect="move";const Ze=parseInt(ze.dataTransfer.getData("text/plain")),rt=[...Ce];Ze<N?(rt.splice(N+1,0,rt[Ze]),rt.splice(Ze,1)):(rt.splice(N,0,rt[Ze]),rt.splice(Ze+1,1)),t(5,Ce=rt),t(54,Mt=null)},un=N=>ze=>{ze.dataTransfer&&(ze.dataTransfer.effectAllowed="move",ze.dataTransfer.dropEffect="move",ze.dataTransfer.setData("text/plain",`${N}`))};let Wt;function zn(N){if(!S||typeof CSS>"u"||!CSS.highlights)return;CSS.highlights.clear();const ze=N?.target?.value.trim().toLowerCase();if(!ze)return;const Ze=document.createTreeWalker(Wt,NodeFilter.SHOW_TEXT,{acceptNode:It=>It?.textContent===Se?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),rt=[];let Rt=Ze.nextNode();for(;Rt;)rt.push(Rt),Rt=Ze.nextNode();const $t=rt.map(It=>{const qt=It.textContent?.toLowerCase(),Kt=[];let en=0;for(;qt&&en<qt.length;){const zt=qt.indexOf(ze,en);if(zt===-1)break;Kt.push(zt),en=zt+ze.length}return Kt.map(zt=>{const tn=new Range;return tn.setStart(It,zt),tn.setEnd(It,zt+ze.length),tn})});CSS.highlights.set("sms-search-matches",new Highlight(...$t.flat()))}function Nn(N){dt.call(this,n,N)}function Ln(N){dt.call(this,n,N)}function Vn(N){dt.call(this,n,N)}function Fn(N){dt.call(this,n,N)}function On(N){dt.call(this,n,N)}function Wn(N){dt.call(this,n,N)}function qn(N){dt.call(this,n,N)}function Bn(N){dt.call(this,n,N)}function An(N){dt.call(this,n,N)}function jn(N){dt.call(this,n,N)}function Hn(N){dt.call(this,n,N)}function fn(N){dt.call(this,n,N)}function pn(N){dt.call(this,n,N)}function mn(N){dt.call(this,n,N)}function hn(N){dt.call(this,n,N)}function Un(N){dt.call(this,n,N)}function Zn(){t(53,Ft=window.innerWidth)}function Yn(N){He[N?"unshift":"push"](()=>{A=N,t(1,A)})}const Kn=()=>{t(7,H=!0);let N;j&&j>1&&Number(Ke)>1?N=`Please select between ${Ke} and ${j} options`:Number(Ke)>1?N=`Please select at least ${Ke} options`:N="Please select an option",A?.setCustomValidity(N)},Xn=N=>_t(N),Jn=N=>_t(N),Qn=N=>t(54,Mt=N);function xn(N){He[N?"unshift":"push"](()=>{M=N,t(6,M)})}function dr(){Ne=this.value,t(4,Ne)}function br(N){Zt=N,t(51,Zt)}const Oe=(N,ze,Ze)=>{N||pt(ze,Ze)},Yt=(N,ze)=>{N||t(0,i=ze)},gn=(N,ze)=>{N||t(0,i=ze)},dn=()=>t(0,i=null),$n=()=>t(0,i=null),er=N=>{s&&pt(Ne,N)},Mn=()=>t(52,gt=!0),tr=()=>t(52,gt=!0),bn=()=>t(52,gt=!1),_n=()=>t(52,gt=!1);function yn(N){He[N?"unshift":"push"](()=>{Wt=N,t(55,Wt)})}function kn(N){He[N?"unshift":"push"](()=>{Me=N,t(9,Me)})}return n.$$set=N=>{"activeIndex"in N&&t(0,i=N.activeIndex),"activeOption"in N&&t(68,o=N.activeOption),"createOptionMsg"in N&&t(10,c=N.createOptionMsg),"allowUserOptions"in N&&t(11,s=N.allowUserOptions),"allowEmpty"in N&&t(69,f=N.allowEmpty),"autocomplete"in N&&t(12,p=N.autocomplete),"autoScroll"in N&&t(70,m=N.autoScroll),"breakpoint"in N&&t(71,h=N.breakpoint),"defaultDisabledTitle"in N&&t(13,d=N.defaultDisabledTitle),"disabled"in N&&t(50,b=N.disabled),"disabledInputTitle"in N&&t(14,v=N.disabledInputTitle),"duplicateOptionMsg"in N&&t(15,y=N.duplicateOptionMsg),"duplicates"in N&&t(16,G=N.duplicates),"key"in N&&t(17,w=N.key),"filterFunc"in N&&t(72,k=N.filterFunc),"valType"in N&&t(73,C=N.valType),"closeDropdownOnSelect"in N&&t(74,E=N.closeDropdownOnSelect),"form_input"in N&&t(1,A=N.form_input),"highlightMatches"in N&&t(75,S=N.highlightMatches),"id"in N&&t(18,I=N.id),"input"in N&&t(6,M=N.input),"inputClass"in N&&t(19,D=N.inputClass),"inputStyle"in N&&t(20,P=N.inputStyle),"inputmode"in N&&t(21,B=N.inputmode),"invalid"in N&&t(7,H=N.invalid),"liActiveOptionClass"in N&&t(22,V=N.liActiveOptionClass),"liActiveUserMsgClass"in N&&t(23,F=N.liActiveUserMsgClass),"liOptionClass"in N&&t(24,K=N.liOptionClass),"liOptionStyle"in N&&t(25,$=N.liOptionStyle),"liSelectedClass"in N&&t(26,x=N.liSelectedClass),"liSelectedStyle"in N&&t(27,me=N.liSelectedStyle),"liUserMsgClass"in N&&t(28,ne=N.liUserMsgClass),"loading"in N&&t(29,W=N.loading),"matchingOptions"in N&&t(2,Y=N.matchingOptions),"maxOptions"in N&&t(30,ie=N.maxOptions),"maxSelect"in N&&t(31,j=N.maxSelect),"maxSelectMsg"in N&&t(32,J=N.maxSelectMsg),"maxSelectMsgClass"in N&&t(33,he=N.maxSelectMsgClass),"name"in N&&t(34,re=N.name),"noMatchingOptionsMsg"in N&&t(35,Se=N.noMatchingOptionsMsg),"open"in N&&t(8,We=N.open),"options"in N&&t(3,Ge=N.options),"outerDiv"in N&&t(9,Me=N.outerDiv),"outerDivClass"in N&&t(36,ae=N.outerDivClass),"parseLabelsAsHtml"in N&&t(37,ke=N.parseLabelsAsHtml),"pattern"in N&&t(38,ue=N.pattern),"placeholder"in N&&t(39,Fe=N.placeholder),"removeAllTitle"in N&&t(40,$e=N.removeAllTitle),"removeBtnTitle"in N&&t(41,Be=N.removeBtnTitle),"minSelect"in N&&t(42,Ue=N.minSelect),"required"in N&&t(43,Ke=N.required),"resetFilterOnAdd"in N&&t(76,St=N.resetFilterOnAdd),"searchText"in N&&t(4,Ne=N.searchText),"selected"in N&&t(5,Ce=N.selected),"sortSelected"in N&&t(77,st=N.sortSelected),"selectedOptionsDraggable"in N&&t(44,Gt=N.selectedOptionsDraggable),"style"in N&&t(45,et=N.style),"ulOptionsClass"in N&&t(46,qe=N.ulOptionsClass),"ulSelectedClass"in N&&t(47,Je=N.ulSelectedClass),"ulSelectedStyle"in N&&t(48,Ht=N.ulSelectedStyle),"ulOptionsStyle"in N&&t(49,Et=N.ulOptionsStyle),"value"in N&&t(67,Vt=N.value),"$$scope"in N&&t(116,l=N.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&32&&Ut(Ce),n.$$.dirty[2]&32&&Cn(Vt),n.$$.dirty[0]&196664|n.$$.dirty[2]&1024&&t(2,Y=Ge.filter(N=>k(N,Ne)&&(!Ce.map(w).includes(w(N))||G))),n.$$.dirty[0]&5&&t(68,o=Y[i??-1]??null),n.$$.dirty[0]&32&&t(56,r=N=>Ce.map(mt).includes(N)),n.$$.dirty[0]&2|n.$$.dirty[1]&4096&&A?.setCustomValidity("")},[i,A,Y,Ge,Ne,Ce,M,H,We,Me,c,s,p,d,v,y,G,w,I,D,P,B,V,F,K,$,x,me,ne,W,ie,j,J,he,re,Se,ae,ke,ue,Fe,$e,Be,Ue,Ke,Gt,et,qe,Je,Ht,Et,b,Zt,gt,Ft,Mt,Wt,r,pt,_t,Tt,Ot,Ct,Pt,At,sn,un,zn,Vt,o,f,m,h,k,C,E,S,St,st,a,Nn,Ln,Vn,Fn,On,Wn,qn,Bn,An,jn,Hn,fn,pn,mn,hn,Un,Zn,Yn,Kn,Xn,Jn,Qn,xn,dr,br,Oe,Yt,gn,dn,$n,er,Mn,tr,bn,_n,yn,kn,l]}class el extends Ie{constructor(e){super(),De(this,e,k0,_0,Ae,{activeIndex:0,activeOption:68,createOptionMsg:10,allowUserOptions:11,allowEmpty:69,autocomplete:12,autoScroll:70,breakpoint:71,defaultDisabledTitle:13,disabled:50,disabledInputTitle:14,duplicateOptionMsg:15,duplicates:16,key:17,filterFunc:72,valType:73,closeDropdownOnSelect:74,form_input:1,highlightMatches:75,id:18,input:6,inputClass:19,inputStyle:20,inputmode:21,invalid:7,liActiveOptionClass:22,liActiveUserMsgClass:23,liOptionClass:24,liOptionStyle:25,liSelectedClass:26,liSelectedStyle:27,liUserMsgClass:28,loading:29,matchingOptions:2,maxOptions:30,maxSelect:31,maxSelectMsg:32,maxSelectMsgClass:33,name:34,noMatchingOptionsMsg:35,open:8,options:3,outerDiv:9,outerDivClass:36,parseLabelsAsHtml:37,pattern:38,placeholder:39,removeAllTitle:40,removeBtnTitle:41,minSelect:42,required:43,resetFilterOnAdd:76,searchText:4,selected:5,sortSelected:77,selectedOptionsDraggable:44,style:45,ulOptionsClass:46,ulSelectedClass:47,ulSelectedStyle:48,ulOptionsStyle:49,value:67},null,[-1,-1,-1,-1,-1])}}function v0(n=!0){const e=this,t=new IntersectionObserver(function([r]){const a=r.intersectionRatio;if(a<1){const l=a<=0&&n?"center":"nearest";e.scrollIntoView({block:l,inline:l})}this.disconnect()});return t.observe(e),t}typeof Element<"u"&&!Element.prototype?.scrollIntoViewIfNeeded&&typeof IntersectionObserver<"u"&&(Element.prototype.scrollIntoViewIfNeeded=v0);function $c(n,e,t){return n<e?e:n>t?t:n}function w0(n){let e,t,r,a,l,i,o,c,s;return{c(){e=R("div"),t=R("div"),r=R("div"),a=U(),l=R("div"),i=U(),o=R("div"),this.h()},l(f){e=z(f,"DIV",{class:!0});var p=T(e);t=z(p,"DIV",{class:!0});var m=T(t);r=z(m,"DIV",{class:!0,style:!0}),T(r).forEach(g),a=Z(m),l=z(m,"DIV",{class:!0,"data-which":!0,"data-content":!0,style:!0}),T(l).forEach(g),i=Z(m),o=z(m,"DIV",{class:!0,"data-which":!0,"data-content":!0,style:!0}),T(o).forEach(g),m.forEach(g),p.forEach(g),this.h()},h(){u(r,"class","body svelte-1ht0p6"),fe(r,"left",100*n[5]+"%"),fe(r,"right",100*(1-n[4])+"%"),u(l,"class","handle svelte-1ht0p6"),u(l,"data-which","start"),u(l,"data-content","0"),fe(l,"left",100*n[5]+"%"),u(o,"class","handle svelte-1ht0p6"),u(o,"data-which","end"),u(o,"data-content","100"),fe(o,"left",100*n[4]+"%"),u(t,"class","slider svelte-1ht0p6"),u(e,"class","double-range-container svelte-1ht0p6")},m(f,p){L(f,e,p),_(e,t),_(t,r),n[13](r),_(t,a),_(t,l),n[14](l),_(t,i),_(t,o),n[15](o),n[16](t),c||(s=[rn(tl.call(null,r)),de(r,"dragmove",Nt(or(n[7]))),rn(tl.call(null,l)),de(l,"dragmove",Nt(or(es(n[6]("start"))))),rn(tl.call(null,o)),de(o,"dragmove",Nt(or(es(n[6]("end")))))],c=!0)},p(f,[p]){p&32&&fe(r,"left",100*f[5]+"%"),p&16&&fe(r,"right",100*(1-f[4])+"%"),p&32&&fe(l,"left",100*f[5]+"%"),p&16&&fe(o,"left",100*f[4]+"%")},i:ge,o:ge,d(f){f&&g(e),n[13](null),n[14](null),n[15](null),n[16](null),c=!1,ht(s)}}}function G0(n,e){let t;return(...r)=>{clearTimeout(t),t=setTimeout(()=>n(...r),e)}}function es(n,e){let t=!1;return(...r)=>{t||(n(...r),t=!0,setTimeout(()=>t=!1,e))}}function ts(n){return`${Math.round(n*2)/2} stars`}function tl(n){let e,t;function r(i){i.type==="touchstart"&&(i=i.touches[0]),e=i.clientX,t=i.clientY,n.dispatchEvent(new CustomEvent("dragstart",{detail:{x:e,y:t}})),window.addEventListener("mousemove",a),window.addEventListener("mouseup",l),window.addEventListener("touchmove",a),window.addEventListener("touchend",l)}function a(i){i.type==="touchmove"&&(i=i.changedTouches[0]);const o=i.clientX-e,c=i.clientY-t;e=i.clientX,t=i.clientY,n.dispatchEvent(new CustomEvent("dragmove",{detail:{x:e,y:t,dx:o,dy:c}}))}function l(){n.dispatchEvent(new CustomEvent("dragend",{detail:{x:e,y:t}})),window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",l),window.removeEventListener("touchmove",a),window.removeEventListener("touchend",l)}return n.addEventListener("mousedown",r),n.addEventListener("touchstart",r),{destroy(){n.removeEventListener("mousedown",r),n.removeEventListener("touchstart",r)}}}function S0(n,e,t){let r,a,{start:l=0}=e,{end:i=1}=e,{min:o=0}=e,{max:c=1}=e,{valType:s}=e,f,p,m,h,d;function b(A){return o+A*(c-o)}function v(A){return function(S){const{left:I,right:M}=h.getBoundingClientRect(),D=M-I,P=Math.min(Math.max((S.detail.x-I)/D,0),1);cancelAnimationFrame(d),d=requestAnimationFrame(()=>{A==="start"?(t(8,l=b(P)),t(9,i=Math.max(i,l))):(t(8,l=Math.min(l,b(P))),t(9,i=b(P)))}),G(l,i,s)}}function y(A){const{width:S}=m.getBoundingClientRect(),{left:I,right:M}=h.getBoundingClientRect(),D=M-I,P=f.getBoundingClientRect().left,B=$c(P+A.detail.dx-I,0,D-S),H=$c(B+S,S,D),V=B/D,F=H/D;t(8,l=b(V)),t(9,i=b(F)),G(l,i,s)}const G=G0((A,S,I)=>{I=="price"?El.set([A,S]):I=="rating"?Cl.set([A,S]):Al.set([A,S])},50);function w(A){He[A?"unshift":"push"](()=>{m=A,t(2,m)})}function k(A){He[A?"unshift":"push"](()=>{f=A,t(0,f)})}function C(A){He[A?"unshift":"push"](()=>{p=A,t(1,p)})}function E(A){He[A?"unshift":"push"](()=>{h=A,t(3,h)})}return n.$$set=A=>{"start"in A&&t(8,l=A.start),"end"in A&&t(9,i=A.end),"min"in A&&t(10,o=A.min),"max"in A&&t(11,c=A.max),"valType"in A&&t(12,s=A.valType)},n.$$.update=()=>{n.$$.dirty&3328&&t(5,r=(l-o)/(c-o)),n.$$.dirty&3584&&t(4,a=(i-o)/(c-o)),n.$$.dirty&4353&&f?.setAttribute("data-content",s=="price"?`$${Math.round(l)}`:s=="rating"?`${ts(l)}`:`${Math.round(l)}`),n.$$.dirty&4610&&p?.setAttribute("data-content",s=="price"?`$${Math.round(i)}`:s=="rating"?`${ts(i)}`:`${Math.round(i)}`)},[f,p,m,h,a,r,v,y,l,i,o,c,s,w,k,C,E]}class nl extends Ie{constructor(e){super(),De(this,e,S0,w0,Ae,{start:8,end:9,min:10,max:11,valType:12})}}function E0(n){let e,t,r=n[3].length+"",a,l,i,o,c=Math.round(n[4]/n[3].length*100)+"",s,f,p,m,h,d,b,v,y,G,w,k,C,E,A,S,I,M,D,P,B="Price",H,V,F,K,$,x="Rating",me,ne,W,Y,ie,j="Year",J,he,re;function Se(ue){n[14](ue)}let We={options:n[5],valType:"animal",placeholder:"All animals",removeAllTitle:"Remove all animals"};n[0]!==void 0&&(We.selected=n[0]),b=new el({props:We}),He.push(()=>ln(b,"selected",Se));function Ge(ue){n[15](ue)}let Me={options:n[6],valType:"type",placeholder:"All types",removeAllTitle:"Remove all types"};n[1]!==void 0&&(Me.selected=n[1]),w=new el({props:Me}),He.push(()=>ln(w,"selected",Ge));function ae(ue){n[16](ue)}let ke={options:n[7],valType:"country",placeholder:"All countries",removeAllTitle:"Remove all countries"};return n[2]!==void 0&&(ke.selected=n[2]),A=new el({props:ke}),He.push(()=>ln(A,"selected",ae)),V=new nl({props:{start:3,end:150,min:3,max:150,valType:"price"}}),ne=new nl({props:{start:2.5,end:5,min:2.5,max:5,valType:"rating"}}),he=new nl({props:{start:1850,end:2023,min:1850,max:2023,valType:"years"}}),{c(){e=R("p"),t=ee("Now showing "),a=ee(r),l=ee(" total wines. "),i=ee(n[4]),o=ee(" ("),s=ee(c),f=ee("%) have below avg. price and above avg. rating"),p=U(),m=R("div"),h=R("div"),d=R("div"),oe(b.$$.fragment),y=U(),G=R("div"),oe(w.$$.fragment),C=U(),E=R("div"),oe(A.$$.fragment),I=U(),M=R("div"),D=R("div"),P=R("label"),P.textContent=B,H=U(),oe(V.$$.fragment),F=U(),K=R("div"),$=R("label"),$.textContent=x,me=U(),oe(ne.$$.fragment),W=U(),Y=R("div"),ie=R("label"),ie.textContent=j,J=U(),oe(he.$$.fragment),this.h()},l(ue){e=z(ue,"P",{class:!0});var Fe=T(e);t=te(Fe,"Now showing "),a=te(Fe,r),l=te(Fe," total wines. "),i=te(Fe,n[4]),o=te(Fe," ("),s=te(Fe,c),f=te(Fe,"%) have below avg. price and above avg. rating"),Fe.forEach(g),p=Z(ue),m=z(ue,"DIV",{id:!0,class:!0});var $e=T(m);h=z($e,"DIV",{class:!0});var Be=T(h);d=z(Be,"DIV",{class:!0});var Ue=T(d);pe(b.$$.fragment,Ue),Ue.forEach(g),y=Z(Be),G=z(Be,"DIV",{class:!0});var Ke=T(G);pe(w.$$.fragment,Ke),Ke.forEach(g),C=Z(Be),E=z(Be,"DIV",{class:!0});var St=T(E);pe(A.$$.fragment,St),St.forEach(g),Be.forEach(g),I=Z($e),M=z($e,"DIV",{class:!0});var Ne=T(M);D=z(Ne,"DIV",{class:!0});var Ce=T(D);P=z(Ce,"LABEL",{class:!0,"data-svelte-h":!0}),Xe(P)!=="svelte-1regy9d"&&(P.textContent=B),H=Z(Ce),pe(V.$$.fragment,Ce),Ce.forEach(g),F=Z(Ne),K=z(Ne,"DIV",{class:!0});var st=T(K);$=z(st,"LABEL",{class:!0,"data-svelte-h":!0}),Xe($)!=="svelte-10ofj9f"&&($.textContent=x),me=Z(st),pe(ne.$$.fragment,st),st.forEach(g),W=Z(Ne),Y=z(Ne,"DIV",{class:!0});var Gt=T(Y);ie=z(Gt,"LABEL",{class:!0,"data-svelte-h":!0}),Xe(ie)!=="svelte-14kmryv"&&(ie.textContent=j),J=Z(Gt),pe(he.$$.fragment,Gt),Gt.forEach(g),Ne.forEach(g),$e.forEach(g),this.h()},h(){u(e,"class","svelte-6q3fy8"),u(d,"class","filter svelte-6q3fy8"),u(G,"class","filter svelte-6q3fy8"),u(E,"class","filter svelte-6q3fy8"),u(h,"class","select-wrapper svelte-6q3fy8"),u(P,"class","svelte-6q3fy8"),u(D,"class","filter svelte-6q3fy8"),u($,"class","svelte-6q3fy8"),u(K,"class","filter svelte-6q3fy8"),u(ie,"class","svelte-6q3fy8"),u(Y,"class","filter svelte-6q3fy8"),u(M,"class","range-wrapper svelte-6q3fy8"),u(m,"id","filters"),u(m,"class","svelte-6q3fy8")},m(ue,Fe){L(ue,e,Fe),_(e,t),_(e,a),_(e,l),_(e,i),_(e,o),_(e,s),_(e,f),L(ue,p,Fe),L(ue,m,Fe),_(m,h),_(h,d),ce(b,d,null),_(h,y),_(h,G),ce(w,G,null),_(h,C),_(h,E),ce(A,E,null),_(m,I),_(m,M),_(M,D),_(D,P),_(D,H),ce(V,D,null),_(M,F),_(M,K),_(K,$),_(K,me),ce(ne,K,null),_(M,W),_(M,Y),_(Y,ie),_(Y,J),ce(he,Y,null),re=!0},p(ue,[Fe]){(!re||Fe&8)&&r!==(r=ue[3].length+"")&&we(a,r),(!re||Fe&16)&&we(i,ue[4]),(!re||Fe&24)&&c!==(c=Math.round(ue[4]/ue[3].length*100)+"")&&we(s,c);const $e={};!v&&Fe&1&&(v=!0,$e.selected=ue[0],an(()=>v=!1)),b.$set($e);const Be={};!k&&Fe&2&&(k=!0,Be.selected=ue[1],an(()=>k=!1)),w.$set(Be);const Ue={};!S&&Fe&4&&(S=!0,Ue.selected=ue[2],an(()=>S=!1)),A.$set(Ue)},i(ue){re||(q(b.$$.fragment,ue),q(w.$$.fragment,ue),q(A.$$.fragment,ue),q(V.$$.fragment,ue),q(ne.$$.fragment,ue),q(he.$$.fragment,ue),re=!0)},o(ue){X(b.$$.fragment,ue),X(w.$$.fragment,ue),X(A.$$.fragment,ue),X(V.$$.fragment,ue),X(ne.$$.fragment,ue),X(he.$$.fragment,ue),re=!1},d(ue){ue&&(g(e),g(p),g(m)),se(b),se(w),se(A),se(V),se(ne),se(he)}}}function C0(n,e,t){let r,a,l,i,o,c,s,f;Q(n,mr,I=>t(3,a=I)),Q(n,Al,I=>t(8,l=I)),Q(n,Cl,I=>t(9,i=I)),Q(n,El,I=>t(10,o=I)),Q(n,Nl,I=>t(11,c=I)),Q(n,Ll,I=>t(12,s=I)),Q(n,Vl,I=>t(13,f=I));const p=Ee.filter(I=>I.price<=150),m=Ee.filter(I=>I.price<=150&&I.topgroup!=="none"&&I.topgroup!=="human"&&I.topgroup!=="bat"&&I.topgroup!=="marsupial"&&I.topgroup!=="monkey"&&I.topgroup!=="mustelid-like/rodent-like"),h=["amphibian/reptile","bear","bird","canine","cat","cattle/camelus","deer-like","fish-like","horse","human","insect","marine invertebrate","mythical","pachyderm","rabbit","ram-like","suid"],d=["Dessert","Fortified","Red","Rose","Sparkling","White"],b=["Argentina","Australia","Austria","Chile","France","Georgia","Germany","Hungary","Italy","New Zealand","North Macedonia","Portugal","Romania","South Africa","Spain","Switzerland","United States","Uruguay"];let v=[],y=[],G=[];function w(I,M){M=="animal"?Vl.set(I):M=="type"?Ll.set(I):Nl.set(I)}function k(I,M,D,P,B,H){const V=I.length>0,F=M.length>0,K=D.length>0,$=P.length===2,x=B.length===2,me=H.length===2,ne=m.filter(W=>!(V&&!W.topgroup.split(",").map(ie=>ie.trim()).some(ie=>I.includes(ie))||F&&!M.includes(W.type)||K&&!D.includes(W.country)||$&&(W.price<P[0]||W.price>P[1])||x&&(W.rating<B[0]||W.rating>B[1])||me&&W.year!==""&&(W.year<H[0]||W.year>H[1])));mr.set(ne)}function C(I){let M=ft(p,B=>B.price),D=ft(p,B=>B.rating);return I.filter(B=>B.price<M&&B.rating>D).length}function E(I){v=I,t(0,v)}function A(I){y=I,t(1,y)}function S(I){G=I,t(2,G)}return n.$$.update=()=>{n.$$.dirty&1&&w(v,"animal"),n.$$.dirty&2&&w(y,"type"),n.$$.dirty&4&&w(G,"country"),n.$$.dirty&16128&&k(f,s,c,o,i,l),n.$$.dirty&8&&t(4,r=C(a))},[v,y,G,a,r,h,d,b,l,i,o,c,s,f,E,A,S]}class A0 extends Ie{constructor(e){super(),De(this,e,C0,E0,Ae,{})}}function ns(n,e,t){const r=n.slice();r[32]=e[t],r[37]=t;const a=r[32].map(o=>({x:+o.rating,y:+o.price}));r[33]=a;const l=r[23](r[33]);r[34]=l;const i=Wr().x(o=>r[4](o[0])).y(o=>r[3](o[1]))(r[34]);return r[35]=i,r}function rs(n,e,t){const r=n.slice();return r[38]=e[t],r[37]=t,r}function rl(n){const e=n.slice(),t=e[12](e[38]);e[40]=t;const r=e[13](e[38]);return e[41]=r,e}function as(n,e,t){const r=n.slice();return r[38]=e[t],r[37]=t,r}function al(n){const e=n.slice(),t=e[12](e[38]);e[40]=t;const r=e[13](e[38]);return e[41]=r,e}function ls(n){let e,t,r,a;return{c(){e=be("circle"),this.h()},l(l){e=_e(l,"circle",{id:!0,class:!0,cx:!0,cy:!0,r:!0,fill:!0,opacity:!0}),T(e).forEach(g),this.h()},h(){u(e,"id",t=`circle-${n[38].id}`),u(e,"class","circle-explore inactive svelte-1fabve5"),u(e,"cx",r=n[40]),u(e,"cy",a=n[41]),u(e,"r",4),u(e,"fill","#363B45"),u(e,"opacity",0)},m(l,i){L(l,e,i)},p(l,i){i[0]&256&&t!==(t=`circle-${l[38].id}`)&&u(e,"id",t),i[0]&4352&&r!==(r=l[40])&&u(e,"cx",r),i[0]&8448&&a!==(a=l[41])&&u(e,"cy",a)},d(l){l&&g(e)}}}function is(n,e){let t,r=!e[2].includes(e[38]),a,l=r&&ls(al(e));return{key:n,first:null,c(){t=le(),l&&l.c(),a=le(),this.h()},l(i){t=le(),l&&l.l(i),a=le(),this.h()},h(){this.first=t},m(i,o){L(i,t,o),l&&l.m(i,o),L(i,a,o)},p(i,o){e=i,o[0]&260&&(r=!e[2].includes(e[38])),r?l?l.p(al(e),o):(l=ls(al(e)),l.c(),l.m(a.parentNode,a)):l&&(l.d(1),l=null)},d(i){i&&(g(t),g(a)),l&&l.d(i)}}}function os(n){let e,t,r,a;return{c(){e=be("circle"),this.h()},l(l){e=_e(l,"circle",{id:!0,class:!0,cx:!0,cy:!0,r:!0,fill:!0,opacity:!0}),T(e).forEach(g),this.h()},h(){u(e,"id",t=`circle-${n[38].id}`),u(e,"class","circle-explore active svelte-1fabve5"),u(e,"cx",r=n[40]),u(e,"cy",a=n[41]),u(e,"r",4),u(e,"fill",n[0]),u(e,"opacity",.8)},m(l,i){L(l,e,i)},p(l,i){i[0]&256&&t!==(t=`circle-${l[38].id}`)&&u(e,"id",t),i[0]&4352&&r!==(r=l[40])&&u(e,"cx",r),i[0]&8448&&a!==(a=l[41])&&u(e,"cy",a),i[0]&1&&u(e,"fill",l[0])},d(l){l&&g(e)}}}function cs(n,e){let t,r=e[2].includes(e[38]),a,l=r&&os(rl(e));return{key:n,first:null,c(){t=le(),l&&l.c(),a=le(),this.h()},l(i){t=le(),l&&l.l(i),a=le(),this.h()},h(){this.first=t},m(i,o){L(i,t,o),l&&l.m(i,o),L(i,a,o)},p(i,o){e=i,o[0]&260&&(r=e[2].includes(e[38])),r?l?l.p(rl(e),o):(l=os(rl(e)),l.c(),l.m(a.parentNode,a)):l&&(l.d(1),l=null)},d(i){i&&(g(t),g(a)),l&&l.d(i)}}}function ss(n){let e,t=ve(n[7]),r=[];for(let a=0;a<t.length;a+=1)r[a]=fs(ns(n,t,a));return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=le()},l(a){for(let l=0;l<r.length;l+=1)r[l].l(a);e=le()},m(a,l){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(a,l);L(a,e,l)},p(a,l){if(l[0]&8388760){t=ve(a[7]);let i;for(i=0;i<t.length;i+=1){const o=ns(a,t,i);r[i]?r[i].p(o,l):(r[i]=fs(o),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(a){a&&g(e),je(r,a)}}}function us(n){let e,t;return{c(){e=be("path"),this.h()},l(r){e=_e(r,"path",{class:!0,d:!0}),T(e).forEach(g),this.h()},h(){u(e,"class","expRegression fade svelte-1fabve5"),u(e,"d",t=n[35])},m(r,a){L(r,e,a)},p(r,a){a[0]&152&&t!==(t=r[35])&&u(e,"d",t)},d(r){r&&g(e)}}}function fs(n){let e,t=n[35]&&us(n);return{c(){e=be("g"),t&&t.c(),this.h()},l(r){e=_e(r,"g",{class:!0});var a=T(e);t&&t.l(a),a.forEach(g),this.h()},h(){u(e,"class","random-lines")},m(r,a){L(r,e,a),t&&t.m(e,null)},p(r,a){r[35]?t?t.p(r,a):(t=us(r),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(r){r&&g(e),t&&t.d()}}}function ps(n){let e,t=n[5]&&ms(n);return{c(){e=be("g"),t&&t.c(),this.h()},l(r){e=_e(r,"g",{class:!0});var a=T(e);t&&t.l(a),a.forEach(g),this.h()},h(){u(e,"class","lines")},m(r,a){L(r,e,a),t&&t.m(e,null)},p(r,a){r[5]?t?t.p(r,a):(t=ms(r),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(r){r&&g(e),t&&t.d()}}}function ms(n){let e;return{c(){e=be("path"),this.h()},l(t){e=_e(t,"path",{class:!0,d:!0}),T(e).forEach(g),this.h()},h(){u(e,"class","expRegression svelte-1fabve5"),u(e,"d",n[5])},m(t,r){L(t,e,r)},p(t,r){r[0]&32&&u(e,"d",t[5])},d(t){t&&g(e)}}}function M0(n){let e,t,r,a,l,i,o,c,s,f,p,m,h,d,b,v,y,G,w,k=Te(Ee,P0)+"",C,E,A,S,I,M,D,P=Te(Ee,R0)+"",B,H,V,F,K,$,x=[],me=new Map,ne,W=[],Y=new Map,ie,j,J,he=ve(n[8][0]);const re=ae=>ae[38].id;for(let ae=0;ae<he.length;ae+=1){let ke=as(n,he,ae),ue=re(ke);me.set(ue,x[ae]=is(ue,ke))}let Se=ve(n[8][0]);const We=ae=>ae[38].id;for(let ae=0;ae<Se.length;ae+=1){let ke=rs(n,Se,ae),ue=We(ke);Y.set(ue,W[ae]=cs(ue,ke))}let Ge=n[1]&&n[6]&&n[2].length<1059&&n[2].length>=10&&ss(n),Me=n[6]&&n[2].length>=10&&ps(n);return{c(){e=be("g"),t=be("rect"),o=U(),c=be("g"),s=be("line"),d=be("line"),y=U(),G=be("text"),w=ee("Med. price ($"),C=ee(k),E=ee(")"),I=U(),M=be("text"),D=ee("Med. rating ("),B=ee(P),H=ee(" stars)"),K=U(),$=be("g");for(let ae=0;ae<x.length;ae+=1)x[ae].c();ne=le();for(let ae=0;ae<W.length;ae+=1)W[ae].c();ie=U(),Ge&&Ge.c(),j=U(),Me&&Me.c(),J=le(),this.h()},l(ae){e=_e(ae,"g",{class:!0});var ke=T(e);t=_e(ke,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,opacity:!0}),T(t).forEach(g),ke.forEach(g),o=Z(ae),c=_e(ae,"g",{class:!0});var ue=T(c);s=_e(ue,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),T(s).forEach(g),d=_e(ue,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),T(d).forEach(g),ue.forEach(g),y=Z(ae),G=_e(ae,"text",{class:!0,x:!0,y:!0,"text-anchor":!0,fill:!0});var Fe=T(G);w=te(Fe,"Med. price ($"),C=te(Fe,k),E=te(Fe,")"),Fe.forEach(g),I=Z(ae),M=_e(ae,"text",{class:!0,x:!0,y:!0,transform:!0,"text-anchor":!0,fill:!0});var $e=T(M);D=te($e,"Med. rating ("),B=te($e,P),H=te($e," stars)"),$e.forEach(g),K=Z(ae),$=_e(ae,"g",{});var Be=T($);for(let Ue=0;Ue<x.length;Ue+=1)x[Ue].l(Be);ne=le();for(let Ue=0;Ue<W.length;Ue+=1)W[Ue].l(Be);Be.forEach(g),ie=Z(ae),Ge&&Ge.l(ae),j=Z(ae),Me&&Me.l(ae),J=le(),this.h()},h(){u(t,"class","highlight-quadrant"),u(t,"x",r=n[4](ft(n[22],hs))),u(t,"y",a=n[3](ft(n[22],gs))),u(t,"width",l=n[4](ft(n[22],ds))),u(t,"height",i=n[9]-n[3](ft(n[22],bs))),u(t,"fill","#363B45"),u(t,"opacity","0.5"),u(e,"class","median-markings active"),u(s,"class","priceAVG svelte-1fabve5"),u(s,"x1",f=0-n[10].left),u(s,"y1",p=n[3](ft(n[22],_s))),u(s,"x2",m=n[11]+n[10].right),u(s,"y2",h=n[3](ft(n[22],ys))),u(d,"class","ratingAVG svelte-1fabve5"),u(d,"x1",b=n[4](ft(n[22],ks))),u(d,"y1",0),u(d,"x2",v=n[4](ft(n[22],vs))),u(d,"y2",n[9]),u(c,"class","lines"),u(G,"class","label svelte-1fabve5"),u(G,"x",A=n[11]-4),u(G,"y",S=n[3](Te(Ee,ws))-28),u(G,"text-anchor","end"),u(G,"fill","white"),u(M,"class","label svelte-1fabve5"),u(M,"x",V=n[4](Te(Ee,Gs))-140),u(M,"y",-20),u(M,"transform",F=`rotate(-90, ${n[4](Te(Ee,Ss))}, 0)`),u(M,"text-anchor","start"),u(M,"fill","white")},m(ae,ke){L(ae,e,ke),_(e,t),L(ae,o,ke),L(ae,c,ke),_(c,s),_(c,d),L(ae,y,ke),L(ae,G,ke),_(G,w),_(G,C),_(G,E),L(ae,I,ke),L(ae,M,ke),_(M,D),_(M,B),_(M,H),L(ae,K,ke),L(ae,$,ke);for(let ue=0;ue<x.length;ue+=1)x[ue]&&x[ue].m($,null);_($,ne);for(let ue=0;ue<W.length;ue+=1)W[ue]&&W[ue].m($,null);L(ae,ie,ke),Ge&&Ge.m(ae,ke),L(ae,j,ke),Me&&Me.m(ae,ke),L(ae,J,ke)},p(ae,ke){ke[0]&16&&r!==(r=ae[4](ft(ae[22],hs)))&&u(t,"x",r),ke[0]&8&&a!==(a=ae[3](ft(ae[22],gs)))&&u(t,"y",a),ke[0]&16&&l!==(l=ae[4](ft(ae[22],ds)))&&u(t,"width",l),ke[0]&520&&i!==(i=ae[9]-ae[3](ft(ae[22],bs)))&&u(t,"height",i),ke[0]&1024&&f!==(f=0-ae[10].left)&&u(s,"x1",f),ke[0]&8&&p!==(p=ae[3](ft(ae[22],_s)))&&u(s,"y1",p),ke[0]&3072&&m!==(m=ae[11]+ae[10].right)&&u(s,"x2",m),ke[0]&8&&h!==(h=ae[3](ft(ae[22],ys)))&&u(s,"y2",h),ke[0]&16&&b!==(b=ae[4](ft(ae[22],ks)))&&u(d,"x1",b),ke[0]&16&&v!==(v=ae[4](ft(ae[22],vs)))&&u(d,"x2",v),ke[0]&512&&u(d,"y2",ae[9]),ke[0]&2048&&A!==(A=ae[11]-4)&&u(G,"x",A),ke[0]&8&&S!==(S=ae[3](Te(Ee,ws))-28)&&u(G,"y",S),ke[0]&16&&V!==(V=ae[4](Te(Ee,Gs))-140)&&u(M,"x",V),ke[0]&16&&F!==(F=`rotate(-90, ${ae[4](Te(Ee,Ss))}, 0)`)&&u(M,"transform",F),ke[0]&12548&&(he=ve(ae[8][0]),x=pr(x,ke,re,1,ae,he,me,$,Pl,is,ne,as)),ke[0]&12549&&(Se=ve(ae[8][0]),W=pr(W,ke,We,1,ae,Se,Y,$,Pl,cs,null,rs)),ae[1]&&ae[6]&&ae[2].length<1059&&ae[2].length>=10?Ge?Ge.p(ae,ke):(Ge=ss(ae),Ge.c(),Ge.m(j.parentNode,j)):Ge&&(Ge.d(1),Ge=null),ae[6]&&ae[2].length>=10?Me?Me.p(ae,ke):(Me=ps(ae),Me.c(),Me.m(J.parentNode,J)):Me&&(Me.d(1),Me=null)},i:ge,o:ge,d(ae){ae&&(g(e),g(o),g(c),g(y),g(G),g(I),g(M),g(K),g($),g(ie),g(j),g(J));for(let ke=0;ke<x.length;ke+=1)x[ke].d();for(let ke=0;ke<W.length;ke+=1)W[ke].d();Ge&&Ge.d(ae),Me&&Me.d(ae)}}}const I0=99;function D0(n,e){return[...n].sort(()=>Math.random()-.5).slice(0,e)}function T0(n,e,t){return t.map(()=>D0(n,e))}const hs=n=>n.rating,gs=n=>n.price,ds=n=>n.rating,bs=n=>n.price,_s=n=>n.price,ys=n=>n.price,ks=n=>n.rating,vs=n=>n.rating,P0=n=>n.price,ws=n=>n.price,R0=n=>n.rating,Gs=n=>n.rating,Ss=n=>n.rating;function z0(n,e,t){let r,a,l,i,o,c,s,f,p,m,h,d,b,v;Q(n,Al,x=>t(25,l=x)),Q(n,Cl,x=>t(26,i=x)),Q(n,El,x=>t(27,o=x)),Q(n,mr,x=>t(2,c=x));const{data:y,xGet:G,yGet:w,xScale:k,yScale:C,width:E,height:A,padding:S,xDomain:I,yDomain:M}=ct("LayerCake");Q(n,y,x=>t(8,p=x)),Q(n,G,x=>t(12,b=x)),Q(n,w,x=>t(13,v=x)),Q(n,k,x=>t(4,f=x)),Q(n,C,x=>t(3,s=x)),Q(n,E,x=>t(11,d=x)),Q(n,A,x=>t(9,m=x)),Q(n,S,x=>t(10,h=x));const D=p[1],P=Ee.filter(x=>x.price<=150);let{r:B=10}=e,{fill:H="#4E5B7B"}=e,{addRandom:V=!1}=e,F;const K=Array.from({length:I0+1},(x,me)=>me),$=qr().x(x=>x.x).y(x=>x.y);return n.$$set=x=>{"r"in x&&t(24,B=x.r),"fill"in x&&t(0,H=x.fill),"addRandom"in x&&t(1,V=x.addRandom)},n.$$.update=()=>{n.$$.dirty[0]&24&&t(5,F=Wr().x(x=>f(x[0])).y(x=>s(x[1]))(D)),n.$$.dirty[0]&4&&t(7,r=P!==0?T0(P,c.length,K):void 0),n.$$.dirty[0]&234881024&&t(6,a=o[0]==3&&o[1]==150&&i[0]==2.5&&i[1]==5&&l[0]==1850&&l[1]==2023)},[H,V,c,s,f,F,a,r,p,m,h,d,b,v,y,G,w,k,C,E,A,S,P,$,B,l,i,o]}class N0 extends Ie{constructor(e){super(),De(this,e,z0,M0,Ae,{r:24,fill:0,addRandom:1},null,[-1,-1])}}function L0(n,e,t){let r,a,l,i,o,c;const{data:s,xGet:f,yGet:p,width:m,height:h}=ct("LayerCake");Q(n,s,w=>t(13,i=w)),Q(n,f,w=>t(12,l=w)),Q(n,p,w=>t(11,a=w)),Q(n,m,w=>t(15,c=w)),Q(n,h,w=>t(14,o=w));const{ctx:d}=ct("canvas");Q(n,d,w=>t(10,r=w));let{r:b=4}=e,{fill:v="#ccc"}=e,{stroke:y="#000"}=e,{strokeWidth:G=0}=e;return n.$$set=w=>{"r"in w&&t(6,b=w.r),"fill"in w&&t(7,v=w.fill),"stroke"in w&&t(8,y=w.stroke),"strokeWidth"in w&&t(9,G=w.strokeWidth)},n.$$.update=()=>{n.$$.dirty&65472&&r&&(nu(r,c,o),r.clearRect(0,0,c,o),i.forEach(w=>{r.beginPath(),r.arc(l(w),a(w),b,0,2*Math.PI,!1),Pe(d,r.lineWidth=G,r),Pe(d,r.strokeStyle=y,r),r.stroke(),Pe(d,r.fillStyle=v,r),r.fill()}))},[s,f,p,m,h,d,b,v,y,G,r,a,l,i,o,c]}class V0 extends Ie{constructor(e){super(),De(this,e,L0,null,Ae,{r:6,fill:7,stroke:8,strokeWidth:9})}}function F0(n){let e,t,r,a;return e=new Tl({props:{gridlines:!0,ticks:5}}),r=new Ra({props:{gridlines:!0,ticks:4}}),{c(){oe(e.$$.fragment),t=U(),oe(r.$$.fragment)},l(l){pe(e.$$.fragment,l),t=Z(l),pe(r.$$.fragment,l)},m(l,i){ce(e,l,i),L(l,t,i),ce(r,l,i),a=!0},p:ge,i(l){a||(q(e.$$.fragment,l),q(r.$$.fragment,l),a=!0)},o(l){X(e.$$.fragment,l),X(r.$$.fragment,l),a=!1},d(l){l&&g(t),se(e,l),se(r,l)}}}function O0(n){let e,t;return e=new V0({props:{r:10,fill:"#38425D"}}),{c(){oe(e.$$.fragment)},l(r){pe(e.$$.fragment,r)},m(r,a){ce(e,r,a),t=!0},p:ge,i(r){t||(q(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function W0(n){let e,t,r,a;return e=new N0({props:{r:6,fill:"#38425D",addRandom:!0}}),r=new lu({props:{stroke:"#333"}}),{c(){oe(e.$$.fragment),t=U(),oe(r.$$.fragment)},l(l){pe(e.$$.fragment,l),t=Z(l),pe(r.$$.fragment,l)},m(l,i){ce(e,l,i),L(l,t,i),ce(r,l,i),a=!0},p:ge,i(l){a||(q(e.$$.fragment,l),q(r.$$.fragment,l),a=!0)},o(l){X(e.$$.fragment,l),X(r.$$.fragment,l),a=!1},d(l){l&&g(t),se(e,l),se(r,l)}}}function q0(n){let e,t,r,a,l,i;return e=new gr({props:{$$slots:{default:[F0]},$$scope:{ctx:n}}}),r=new Wp({props:{$$slots:{default:[O0]},$$scope:{ctx:n}}}),l=new gr({props:{$$slots:{default:[W0]},$$scope:{ctx:n}}}),{c(){oe(e.$$.fragment),t=U(),oe(r.$$.fragment),a=U(),oe(l.$$.fragment)},l(o){pe(e.$$.fragment,o),t=Z(o),pe(r.$$.fragment,o),a=Z(o),pe(l.$$.fragment,o)},m(o,c){ce(e,o,c),L(o,t,c),ce(r,o,c),L(o,a,c),ce(l,o,c),i=!0},p(o,c){const s={};c&1024&&(s.$$scope={dirty:c,ctx:o}),e.$set(s);const f={};c&1024&&(f.$$scope={dirty:c,ctx:o}),r.$set(f);const p={};c&1024&&(p.$$scope={dirty:c,ctx:o}),l.$set(p)},i(o){i||(q(e.$$.fragment,o),q(r.$$.fragment,o),q(l.$$.fragment,o),i=!0)},o(o){X(e.$$.fragment,o),X(r.$$.fragment,o),X(l.$$.fragment,o),i=!1},d(o){o&&(g(t),g(a)),se(e,o),se(r,o),se(l,o)}}}function Es(n){let e,t;return e=new Vr({props:{padding:{top:20,right:0,bottom:20,left:0},x:_l,y:bl,data:[n[2],n[0]],xDomain:[2,5],yDomain:[0,150],$$slots:{default:[q0]},$$scope:{ctx:n}}}),{c(){oe(e.$$.fragment)},l(r){pe(e.$$.fragment,r)},m(r,a){ce(e,r,a),t=!0},p(r,a){const l={};a&1&&(l.data=[r[2],r[0]]),a&1024&&(l.$$scope={dirty:a,ctx:r}),e.$set(l)},i(r){t||(q(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Cs(n){let e,t=n[1].year+"",r,a,l,i=n[1].name+"",o,c,s,f,p=n[1].winery+"",m,h,d,b,v=n[1].type+"",y,G,w,k,C=n[1].country+"",E,A,S,I,M=n[1].topgroup+"",D,P,B,H,V=n[1].price+"",F,K,$,x,me=n[1].rating+"",ne,W,Y,ie;return{c(){e=R("p"),r=ee(t),a=U(),l=R("p"),o=ee(i),c=U(),s=R("p"),f=ee("Winery: "),m=ee(p),h=U(),d=R("p"),b=ee("Type: "),y=ee(v),G=U(),w=R("p"),k=ee("Country:"),E=ee(C),A=U(),S=R("p"),I=ee("Animal: "),D=ee(M),P=U(),B=R("p"),H=ee("Price: $"),F=ee(V),K=U(),$=R("p"),x=ee("Rating: "),ne=ee(me),W=U(),Y=R("img"),this.h()},l(j){e=z(j,"P",{});var J=T(e);r=te(J,t),J.forEach(g),a=Z(j),l=z(j,"P",{});var he=T(l);o=te(he,i),he.forEach(g),c=Z(j),s=z(j,"P",{});var re=T(s);f=te(re,"Winery: "),m=te(re,p),re.forEach(g),h=Z(j),d=z(j,"P",{});var Se=T(d);b=te(Se,"Type: "),y=te(Se,v),Se.forEach(g),G=Z(j),w=z(j,"P",{});var We=T(w);k=te(We,"Country:"),E=te(We,C),We.forEach(g),A=Z(j),S=z(j,"P",{});var Ge=T(S);I=te(Ge,"Animal: "),D=te(Ge,M),Ge.forEach(g),P=Z(j),B=z(j,"P",{});var Me=T(B);H=te(Me,"Price: $"),F=te(Me,V),Me.forEach(g),K=Z(j),$=z(j,"P",{});var ae=T($);x=te(ae,"Rating: "),ne=te(ae,me),ae.forEach(g),W=Z(j),Y=z(j,"IMG",{src:!0}),this.h()},h(){Ye(Y.src,ie="https://"+n[1].imageUrl)||u(Y,"src",ie)},m(j,J){L(j,e,J),_(e,r),L(j,a,J),L(j,l,J),_(l,o),L(j,c,J),L(j,s,J),_(s,f),_(s,m),L(j,h,J),L(j,d,J),_(d,b),_(d,y),L(j,G,J),L(j,w,J),_(w,k),_(w,E),L(j,A,J),L(j,S,J),_(S,I),_(S,D),L(j,P,J),L(j,B,J),_(B,H),_(B,F),L(j,K,J),L(j,$,J),_($,x),_($,ne),L(j,W,J),L(j,Y,J)},p(j,J){J&2&&t!==(t=j[1].year+"")&&we(r,t),J&2&&i!==(i=j[1].name+"")&&we(o,i),J&2&&p!==(p=j[1].winery+"")&&we(m,p),J&2&&v!==(v=j[1].type+"")&&we(y,v),J&2&&C!==(C=j[1].country+"")&&we(E,C),J&2&&M!==(M=j[1].topgroup+"")&&we(D,M),J&2&&V!==(V=j[1].price+"")&&we(F,V),J&2&&me!==(me=j[1].rating+"")&&we(ne,me),J&2&&!Ye(Y.src,ie="https://"+j[1].imageUrl)&&u(Y,"src",ie)},d(j){j&&(g(e),g(a),g(l),g(c),g(s),g(h),g(d),g(G),g(w),g(A),g(S),g(P),g(B),g(K),g($),g(W),g(Y))}}}function B0(n){let e,t,r,a=[n[2],n[0]],l,i,o,c=Es(n),s=n[1]!==void 0&&Cs(n);return{c(){e=R("section"),t=R("div"),r=R("div"),c.c(),l=U(),i=R("div"),s&&s.c(),this.h()},l(f){e=z(f,"SECTION",{id:!0,class:!0});var p=T(e);t=z(p,"DIV",{class:!0});var m=T(t);r=z(m,"DIV",{class:!0,id:!0,style:!0});var h=T(r);c.l(h),h.forEach(g),m.forEach(g),l=Z(p),i=z(p,"DIV",{class:!0});var d=T(i);s&&s.l(d),d.forEach(g),p.forEach(g),this.h()},h(){u(r,"class","chart-container svelte-fm9fq7"),u(r,"id","scatterplot"),fe(r,"pointer-events","none"),u(t,"class","chart-wrapper svelte-fm9fq7"),u(i,"class","tooltip-details svelte-fm9fq7"),u(e,"id","scatter-explore"),u(e,"class","svelte-fm9fq7")},m(f,p){L(f,e,p),_(e,t),_(t,r),c.m(r,null),_(e,l),_(e,i),s&&s.m(i,null),o=!0},p(f,[p]){p&1&&Ae(a,a=[f[2],f[0]])?(Le(),X(c,1,1,ge),Ve(),c=Es(f),c.c(),q(c,1),c.m(r,null)):c.p(f,p),f[1]!==void 0?s?s.p(f,p):(s=Cs(f),s.c(),s.m(i,null)):s&&(s.d(1),s=null)},i(f){o||(q(c),o=!0)},o(f){X(c),o=!1},d(f){f&&g(e),c.d(f),s&&s.d()}}}const bl="price",_l="rating";function j0(n,e,t){let r,a,l,i;Q(n,mr,s=>t(4,l=s)),Q(n,Gu,s=>t(1,i=s));const o=Ee.filter(s=>s.price<=150&&s.topgroup!=="human"&&s.topgroup!=="none");l.forEach(s=>{s[_l]=+s[_l],s[bl]=+s[bl]});const c=qr().x(s=>s.x).y(s=>s.y);return n.$$.update=()=>{n.$$.dirty&16&&t(3,r=l.map(s=>({x:+s.rating,y:+s.price}))),n.$$.dirty&8&&t(0,a=c(r))},[a,i,o,r,l]}class H0 extends Ie{constructor(e){super(),De(this,e,j0,B0,Ae,{})}}function U0(n){let e,t,r,a,l,i,o;return t=new A0({}),a=new H0({}),{c(){e=R("section"),oe(t.$$.fragment),r=U(),oe(a.$$.fragment),this.h()},l(c){e=z(c,"SECTION",{id:!0,class:!0});var s=T(e);pe(t.$$.fragment,s),r=Z(s),pe(a.$$.fragment,s),s.forEach(g),this.h()},h(){u(e,"id","explore"),u(e,"class","svelte-12qymik")},m(c,s){L(c,e,s),ce(t,e,null),_(e,r),ce(a,e,null),l=!0,i||(o=[rn(Ia.call(null,e)),de(e,"enter",n[0]),de(e,"exit",Z0)],i=!0)},p:ge,i(c){l||(q(t.$$.fragment,c),q(a.$$.fragment,c),l=!0)},o(c){X(t.$$.fragment,c),X(a.$$.fragment,c),l=!1},d(c){c&&g(e),se(t),se(a),i=!1,ht(o)}}}function Z0(){}function Y0(n){const e=Ee.filter(r=>r.price<=150&&r.topgroup!=="human"&&r.topgroup!=="none");function t(){mr.set(e)}return[t]}class K0 extends Ie{constructor(e){super(),De(this,e,Y0,U0,Ae,{})}}function As(n,e,t){const r=n.slice();return r[14]=e[t],r[16]=t,r}function Ms(n){let e,t;return e=new Eu({props:{showArrows:!0}}),e.$on("tap",n[8]),{c(){oe(e.$$.fragment)},l(r){pe(e.$$.fragment,r)},m(r,a){ce(e,r,a),t=!0},p:ge,i(r){t||(q(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function X0(n){let e,t,r;return e=new _h({props:{animal:n[14]}}),{c(){oe(e.$$.fragment),t=U()},l(a){pe(e.$$.fragment,a),t=Z(a)},m(a,l){ce(e,a,l),L(a,t,l),r=!0},p:ge,i(a){r||(q(e.$$.fragment,a),r=!0)},o(a){X(e.$$.fragment,a),r=!1},d(a){a&&g(t),se(e,a)}}}function Is(n){let e,t;return e=new Cu({props:{$$slots:{default:[X0]},$$scope:{ctx:n}}}),{c(){oe(e.$$.fragment)},l(r){pe(e.$$.fragment,r)},m(r,a){ce(e,r,a),t=!0},p(r,a){const l={};a&131072&&(l.$$scope={dirty:a,ctx:r}),e.$set(l)},i(r){t||(q(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function J0(n){let e,t,r=ve(n[4]),a=[];for(let i=0;i<r.length;i+=1)a[i]=Is(As(n,r,i));const l=i=>X(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=le()},l(i){for(let o=0;o<a.length;o+=1)a[o].l(i);e=le()},m(i,o){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(i,o);L(i,e,o),t=!0},p(i,o){if(o&16){r=ve(i[4]);let c;for(c=0;c<r.length;c+=1){const s=As(i,r,c);a[c]?(a[c].p(s,o),q(a[c],1)):(a[c]=Is(s),a[c].c(),q(a[c],1),a[c].m(e.parentNode,e))}for(Le(),c=r.length;c<a.length;c+=1)l(c);Ve()}},i(i){if(!t){for(let o=0;o<r.length;o+=1)q(a[o]);t=!0}},o(i){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)X(a[o]);t=!1},d(i){i&&g(e),je(a,i)}}}function Q0(n){let e;return{c(){e=R("div"),this.h()},l(t){e=z(t,"DIV",{class:!0}),T(e).forEach(g),this.h()},h(){u(e,"class","summary")},m(t,r){L(t,e,r)},d(t){t&&g(e)}}}function x0(n){let e,t,r,a,l='<p class="wine-name svelte-1czy7su"></p> <p class="winery-name svelte-1czy7su"></p> <p class="animal svelte-1czy7su"></p> <p class="type svelte-1czy7su"></p> <div class="price-rating svelte-1czy7su"><p class="price svelte-1czy7su"></p> <p class="rating svelte-1czy7su"></p></div>';return{c(){e=R("img"),r=U(),a=R("div"),a.innerHTML=l,this.h()},l(i){e=z(i,"IMG",{src:!0,class:!0}),r=Z(i),a=z(i,"DIV",{class:!0,"data-svelte-h":!0}),Xe(a)!=="svelte-1jpu2ji"&&(a.innerHTML=l),this.h()},h(){Ye(e.src,t="")||u(e,"src",t),u(e,"class","svelte-1czy7su"),u(a,"class","deets svelte-1czy7su")},m(i,o){L(i,e,o),L(i,r,o),L(i,a,o)},d(i){i&&(g(e),g(r),g(a))}}}function $0(n){let e=!1,t=()=>{e=!1},r,a,l,i,o,c,s,f,p,m,h,d,b,v,y,G,w,k,C,E,A,S,I,M;wt(n[7]),i=new x1({}),c=new Im({}),p=new Eh({});let D=n[2]&&Ms(n),P={$$slots:{default:[J0]},$$scope:{ctx:n}};d=new Su({props:P}),n[9](d),v=new Mh({}),k=new Lt({props:{name:"x",size:"1.5rem"}});function B(F,K){if(F[3]=="bottle")return x0;if(F[3]=="histo")return Q0}let H=B(n),V=H&&H(n);return A=new K0({}),{c(){a=R("div"),l=U(),oe(i.$$.fragment),o=U(),oe(c.$$.fragment),s=U(),f=R("div"),oe(p.$$.fragment),m=U(),D&&D.c(),h=U(),oe(d.$$.fragment),b=U(),oe(v.$$.fragment),y=U(),G=R("div"),w=R("button"),oe(k.$$.fragment),C=U(),V&&V.c(),E=U(),oe(A.$$.fragment),this.h()},l(F){a=z(F,"DIV",{id:!0,class:!0}),T(a).forEach(g),l=Z(F),pe(i.$$.fragment,F),o=Z(F),pe(c.$$.fragment,F),s=Z(F),f=z(F,"DIV",{class:!0});var K=T(f);pe(p.$$.fragment,K),m=Z(K),D&&D.l(K),h=Z(K),pe(d.$$.fragment,K),K.forEach(g),b=Z(F),pe(v.$$.fragment,F),y=Z(F),G=z(F,"DIV",{id:!0,class:!0});var $=T(G);w=z($,"BUTTON",{class:!0});var x=T(w);pe(k.$$.fragment,x),x.forEach(g),C=Z($),V&&V.l($),$.forEach(g),E=Z(F),pe(A.$$.fragment,F),this.h()},h(){u(a,"id","gradient"),u(a,"class","svelte-1czy7su"),u(f,"class","cards svelte-1czy7su"),u(w,"class","close svelte-1czy7su"),u(G,"id","universal-tooltip"),u(G,"class","svelte-1czy7su")},m(F,K){L(F,a,K),L(F,l,K),ce(i,F,K),L(F,o,K),ce(c,F,K),L(F,s,K),L(F,f,K),ce(p,f,null),_(f,m),D&&D.m(f,null),_(f,h),ce(d,f,null),L(F,b,K),ce(v,F,K),L(F,y,K),L(F,G,K),_(G,w),ce(k,w,null),_(G,C),V&&V.m(G,null),L(F,E,K),ce(A,F,K),S=!0,I||(M=[de(window,"scroll",()=>{e=!0,clearTimeout(r),r=setTimeout(t,100),n[7]()}),rn(Ia.call(null,f)),de(f,"enter",n[10]),de(f,"exit",n[11]),de(w,"click",n[6])],I=!0)},p(F,[K]){K&1&&!e&&(e=!0,clearTimeout(r),scrollTo(window.pageXOffset,F[0]),r=setTimeout(t,100)),F[2]?D?(D.p(F,K),K&4&&q(D,1)):(D=Ms(F),D.c(),q(D,1),D.m(f,h)):D&&(Le(),X(D,1,1,()=>{D=null}),Ve());const $={};K&131072&&($.$$scope={dirty:K,ctx:F}),d.$set($),H!==(H=B(F))&&(V&&V.d(1),V=H&&H(F),V&&(V.c(),V.m(G,null)))},i(F){S||(q(i.$$.fragment,F),q(c.$$.fragment,F),q(p.$$.fragment,F),q(D),q(d.$$.fragment,F),q(v.$$.fragment,F),q(k.$$.fragment,F),q(A.$$.fragment,F),S=!0)},o(F){X(i.$$.fragment,F),X(c.$$.fragment,F),X(p.$$.fragment,F),X(D),X(d.$$.fragment,F),X(v.$$.fragment,F),X(k.$$.fragment,F),X(A.$$.fragment,F),S=!1},d(F){F&&(g(a),g(l),g(o),g(s),g(f),g(b),g(y),g(G),g(E)),se(i,F),se(c,F),se(p),D&&D.d(),n[9](null),se(d),se(v,F),se(k),V&&V.d(),se(A,F),I=!1,ht(M)}}}function eg(n,e,t){let r;Q(n,Ca,v=>t(3,r=v)),ct("copy");const a=["amphibian/reptile","bear","bird","bug","canine","cat","cattle","deer","fish","horse","marine invertebrate","mythical creature","pachyderm","pig","rabbit","ram"];let l,i=!1,o;function c(v){v==="left"?l.prev():l.next(),Ns.update(y=>v==="left"?Math.max(0,y-1):v==="right"?Math.min(a.length-1,y+1):y)}function s(){Lr("#universal-tooltip").classed("visible",!1)}function f(v){v!==void 0&&Lr("#universal-tooltip").classed("visible",!1)}function p(){t(0,o=window.pageYOffset)}const m=v=>c(v.detail);function h(v){He[v?"unshift":"push"](()=>{l=v,t(1,l)})}const d=()=>t(2,i=!0),b=()=>t(2,i=!1);return n.$$.update=()=>{n.$$.dirty&1&&f(o)},[o,l,i,r,a,c,s,p,m,h,d,b]}class tg extends Ie{constructor(e){super(),De(this,e,eg,$0,Ae,{})}}const ng="Charles Dar-wine",rg="<a href=https://pudding.cool/author/fox-meyer/>Fox Meyer</a> with <a href=https://pudding.cool/author/jan-diehm/>Jan Diehm</a>",ag=[{text:"You’ve got $40 max to spend on a wine for a special occasion. Which wine are you buying?",instructions:"Just pick a random one for me.",cat:"Nice pick, <span class=bold>lions</span>. You’ve got regal tastes. Wines featuring cats come with a high price tag and are more highly rated. <br><br><span class=bold>How do we know? Keep scrolling.</span>",cattle:"Ah, a <span class=bold>cow</span>. Homely. Wines featuring cattle are more likely to be cheap and of lower quality. <br><br><span class=bold>How do we know? Keep scrolling.</span>",bird:"Lovely, a <span class=bold>songbird</span>. Birds are one of the most common animals featured on wine labels — they’re  in the middle of the pack for both price and quality. <br><br><span class=bold>How do we know? Keep scrolling.</span>",catPrice:"<span class=bold>Cats</span>, including lions, were among the most expensive animals with a median price of $34.99 a bottle.",cattlePrice:"Wines with <span class=bold>cattle</span> on them had among the lowest median prices at $22.49.",birdPrice:"With a median price of $25.99 a bottle, <span class=bold>birds</span> nearly aligned with the median price for all animals at $26.99.",catRating:"<span class=bold>Cats</span> were also among the most highly rated wines at 4.1 stars.",cattleRating:"<span class=bold>Cattle</span> were also among the lowest rated wines at 3.9 stars.",birdRating:"<span class=bold>Birds</span> again aligned with the overall median at 4 stars."}],lg=[{type:"text",value:"You’ve got $40 max to spend on a wine for a special occasion. Which wine are you buying?"},{type:"text",value:"Step 2"},{type:"text",value:"We scraped 9,300 wines off the popular app <a href=https://www.vivino.com/>Vivino</a> and used <a href=https://platform.openai.com/docs/guides/vision>Chat-GPT Vision</a> to help us categorize the animals on the labels with this prompt: <span class=prompt>This image is a wine label. Do you see any animals or humans on it?<a href=#methods></span> <span class=instructions >Read more in the methods.</span></a>"},{type:"text",value:"Sometimes it was spot on. It correctly identified all of these labels as birds even though the artistic styles are different."},{type:"text",value:"But other times, we had to manually review and edit. GPT was particularly bad with pachyderms. It also struggled when animals weren’t the focal point and with what counted as an “animal.” Sometimes anthropomorphic or mythical creatures and insects were included, sometimes not."},{type:"text",value:"After cleaning up the data we grouped the animals into broad categories based more on common perception than binomial nomenclature (genus and species) — sorry science purists — and omitted categories with fewer than 20 animals, leaving us with these 16 groupings. Here’s your <span class=selected-animal-span>original animal</span>."},{type:"text",value:"To get a general understanding of the wines, we found the median price of each animal group."},{type:"text",value:"And then we found the rating."},{type:"text",value:"But that only gets us so far. What we really care about are the steals, wines whose <span class=bold>price is below the median</span> and whose <span class=bold>rating is above the median</span>. This is the…"}],ig=[{type:"text",value:"The median price and ratings show us something important: what we all <span class=bold>assume</span> expense and quality look like."},{type:"text",value:"Regal, roaring lions? Expensive."},{type:"text",value:"Strange, unseemly frogs? Probably cheap. Certainly not hundreds of dollars."},{type:"text",value:"As we’ll see, there are patterns and exceptions. But what became most clear over the course of our study was that the question was not simply about predicting price: it was about predicting <span class=bold>value</span>."},{type:"text",value:"If your budget is ten dollars, your budget is ten dollars – it doesn’t matter if you know which animals are expensive. A much more useful thing to know is which animals are <span class=bold>undervalued</span>, the ones that tend to stay cheap, even as quality increases."},{type:"text",value:"For that, let’s dive deeper into the data."}],og=[{block:[{type:"text",value:"Instead of looking at price and rating independently, let’s look at them together using a scatterplot. Price is on the y axis here, so the more expensive the wine, the closer to the top. Rating is on the x axis and the higher quality wines are toward the right."},{type:"text",value:"The <span class=selected-bottle-circle-span>animal group you selected</span> is circled in red."}]},{block:[{type:"text",value:"Wines with farm animals like cattle and pigs have both lower ratings and lower prices."}]},{block:[{type:"text",value:"While bottles featuring cats, bears, and mythical creatures (oh my!) have higher prices and higher ratings."}]},{block:[{type:"text",value:"Overall, the median price for wines with animals on the label ($26.99) was $3 cheaper than wines without animals ($29.99), but both groups had a median rating of 4 stars."}]},{block:[{type:"text",value:"Let’s zoom out so that we’re looking at the medians in the scale of all wines under $150. We figured that if you’re spending more than $150 on a bottle of wine, you’re probably not choosing based on the label anyway."}]},{block:[{type:"text",value:"Then, let’s explode the chart so we can see all 1,409 animal wines we identified. Here’s the <span class=selected-bottle-circle-span>original bottle</span> you selected."}]},{block:[{type:"text",value:"The wines follow an <span class=median-line-span>exponential trend</span>, which means that as price increases, so does rating."}]},{block:[{type:"text",value:"To find the steals — the wines at or below the median price and at or above the median rating — we’re going to divide the scatterplot into 4 quadrants."}]},{block:[{type:"text",value:"What we really want to look out for are wines in the <span class=sweet-rect-span>bottom right corner</span>."},{type:"text",value:"These are the steals."}]},{block:[{type:"text",value:"Let’s take a closer look at our 3 starting animals. Here are all the birds. 16.5% of them are steals."}]},{block:[{type:"text",value:"And here are the cattle. 13% are steals."}]},{block:[{type:"text",value:"Last up, the cats. 10.3% are steals."},{type:"text",value:"Let’s go back to our bottle line up to see the percentage of steals in each animal grouping."}]},{block:[{type:"text",value:"STEAL LINEUP"}]},{block:[{type:"text",value:"But, this is just our definition of steal. What’s yours?"},{type:"text",value:"<span class=slider-span>Use the sliders to set your own limits.</span>"}]}],cg=[{animal:"amphibian/reptile",priceComments:"<span class=more-span>More</span> likely to be between $10–19.99 and between $60–69.99, <span class=less-span>less</span> likely to be between $20–29.99",ratingComments:"<span class=more-span>More</span> likely to be rated between 3.6–4 stars, <span class=less-span>less</span> likely to be rated between 4.1–4.5 stars",typeComments:"<span class=more-span>More</span> likely to be a white wine, <span class=less-span>less</span> likely to be a rose or sparkling wine",countryComments:"<span class=more-span>More</span> likely to be from the United States and Australia, <span class=less-span>less</span> likely to be from France or Italy",text:[]},{animal:"bear",priceComments:"<span class=more-span>More</span> likely to be between $10–19.99 and between $30–39.99, <span class=less-span>less</span> likely to be between $20–29.99",ratingComments:"<span class=more-span>More</span> likely to be rated between 4.1–4.5 stars, <span class=less-span>less</span> likely to be rated between 3.6–4 stars",typeComments:"<span class=more-span>More</span> likely to be a white wine",countryComments:"<span class=more-span>More</span> likely to be from the United States, <span class=less-span>less</span> likely to be from France or Italy",text:[]},{animal:"bird",priceComments:"<span class=more-span>More</span> likely to be between $10–19.99",ratingComments:"Ratings for bird wines follow the overall distribution",typeComments:"Types of wine for bird wines follow the overall distribution",countryComments:"<span class=less-span>Less</span> likely to be from France",text:[{type:"text",value:"Birds are absolutely everywhere in the wine world, so much so that we actually broke their category into subgroups, revealing more trends."},{type:"text",value:"<button class=summary-btn id=raptor-btn>Raptors</button> or birds of prey had the steepest curve and some of the highest prices, meaning you should probably avoid them if you’re looking for a deal. <button class=summary-btn id=songbird-btn>Songbirds</button> offered a much better prospect."},{type:"text",value:"Not only do they tend to fall below the line – with 22.4% in the sweet spot – but their gentle curve means there are actually more songbirds at higher ratings than there are eagles and other raptors – and quite a few of these clock in at around $25."},{type:"text",value:"Of the big two bird categories, songbirds were clearly the smarter choice, being a better indication of both value and quality."},{type:"text",value:"<button class=summary-btn id=junglefowl-btn>Junglefowl</button> (chickens) and <button class=summary-btn id=gamebird-btn>game birds</button> are a good bet for this as well, but they lack some of the higher-scoring drops."},{type:"text",value:"Gulls, while rare, offered a promising trend. Only 11 <button class=summary-btn id=shorebird-btn>shorebirds</button> were recorded, but over half plotted in the golden quadrant, so they may be worth keeping an eye on."},{type:"text",value:"There’s also the <button class=summary-btn id=duck-btn>duck</button>. Across all entries, ducks had some of the most reliable plotting of any animal, falling very near the average across all prices. It was one of few animals that offered more reliability as price increased."},{type:"text",value:"All that to say: if you’re looking to match your extra $20 spend with an increase in quality, buy ducks. Maybe owls, as well."}]},{animal:"bug",priceComments:"<span class=more-span>More</span> likely to be between $10–19.99 and $20–19.99",ratingComments:"<span class=more-span>More</span> likely to be rated between 3.1–3.5 stars and 3.6–4 stars, <span class=less-span>less</span> likely to be rated between 4.1–4.5 stars",typeComments:"<span class=more-span>More</span> likely to be a white or rose wine, <span class=less-span>less</span> likely to be a red wine",countryComments:"<span class=less-span>Less</span> likely to be from France",text:[]},{animal:"canine",priceComments:"Prices for canine wines follow the overall distribution",ratingComments:"<span class=more-span>More</span> likely to be rated between 3.6–4 stars, <span class=less-span>less</span> likely to be rated between 4.1–4.5 stars",typeComments:"Types of wines for canine wines follow the overall distribution",countryComments:"<span class=more-span>More</span> likely to be from South Africa, <span class=less-span>less</span> likely to be from France",text:[]},{animal:"cat",priceComments:"<span class=more-span>More</span> likely to be $150 and above, <span class=more-span>less</span> likely to be between $10–19.99",ratingComments:"<span class=more-span>More</span> likely to be rated between 4.1–4.5 stars, <span class=less-span>less</span> likely to be rated between 3.6–4 stars",typeComments:"<span class=more-span>More</span> likely to be a red wine, <span class=less-span>less</span> likely to be a rose or white wine",countryComments:"<span class=more-span>More</span> likely to be from France, <span class=less-span>less</span> likely to be from the United States",text:[{type:"text",value:"Of the 217 cats we found, 161 of them were heraldic lions, so this is basically their graph."}]},{animal:"cattle",priceComments:"<span class=more-span>More</span> likely to be between $10–19.99, <span class=less-span>less</span> likely to be between $30–39.99",ratingComments:"<span class=more-span>More</span> likely to be rated between 3.6–4 stars, <span class=less-span>less</span> likely to be rated between 4.1–4.5 stars",typeComments:"<span class=more-span>More</span> likely to be a red wine, <span class=less-span>less</span> likely to be a rose wine",countryComments:"<span class=more-span>More</span> likely to be from Spain, Argentina, and Chile, <span class=less-span>less</span> likely to be from France",text:[]},{animal:"deer",priceComments:"<span class=more-span>More</span> likely to be between $10–19.99 and $30–39.99 , <span class=less-span>less</span> likely to be between $20–29.99",ratingComments:"<span class=more-span>More</span> likely to be rated between 3.6–4 stars",typeComments:"<span class=more-span>More</span> likely to be a red wine, <span class=less-span>less</span> likely to be a sparkling wine",countryComments:"<span class=more-span>More</span> likely to be from the United States and South Africa, <span class=more-span>Less</span> likely to be from France and Italy",text:[]},{animal:"fish",priceComments:"<span class=more-span>More</span> likely to be between $10–19.99 and $20–29.99",ratingComments:"<span class=more-span>More</span> likely to be rated between 3.6–4 stars, <span class=lore-span>less</span> likely to be rated between 4.1–4.5 stars",typeComments:"<span class=more-span>More</span> likely to be a white wine, <span class=less-span>less</span> likely to be a red wine",countryComments:"<span class=more-span>More</span> likely to be from Australia, <span class=less-span>less</span> likely to be from France and Italy",text:[]},{animal:"horse",priceComments:"<span class=more-span>More</span> likely to be between $10–19.99, <span class=less-span>less</span> likely to be between $20–29.99",ratingComments:"Ratings for horse wines follow the overall distribution",typeComments:"Types of wines for horse wines follow the overall distribution",countryComments:"<span class=more-span>More</span> likely to be from Italy, <span class=less-span>less</span> likely to be from France and Spain",text:[]},{animal:"marine invertebrate",priceComments:"<span class=more-span>More</span> likely to be between $10–19.99 and $30–39.99",ratingComments:"<span class=more-span>More</span> likely to be rated between 3.6–4 stars, <span class=less-span>less</span> likely to be rated between 4.1–4.5 stars",typeComments:"<span class=more-span>More</span> likely to be a white wine, <span class=less-span>less</span> likely to be a red wine",countryComments:"<span class=more-span>More</span> likely to be from Spain and New Zealand, <span class=less-span>less</span> likely to be from the United States",text:[]},{animal:"mythical creature",priceComments:"Prices for mythical creature wines follow the overall distribution",ratingComments:"<span class=more-span>More</span> likely to be rated between 4.1–4.5 stars, <span class=less-span>less</span> likely to be rated between 3.6–4 stars",typeComments:"Types of wines for mythical creature wines follow the overall distribution",countryComments:"<span class=more-span>More</span> likely to be from Italy",text:[{type:"text",value:"In terms of sheer price, mythical animals ruled the roost. Sure, you can find a $25, 4-star mythical creature. But if you had to guess the price of a <button class=summary-btn id=unicorn-btn>unicorn</button>, it’s just as likely to be a hundred dollars as it is forty. Maybe the price is worth it, though, as mythical creatures were reserved for the good stuff: only one entry below a 3.5."},{type:"text",value:"Mythical creatures had the steepest overall curve of any category, but something interesting happens around the $35 mark. Up until this point, they’re actually a great signpost – not a single entry above the line. But past $35, the majority of entries shift above the line, indicating that they’re overvalued. The problem is, if you’re just looking for a good buy, you’ll have to sift through all the mythical creatures at the top end of that spectrum."}]},{animal:"pachyderm",priceComments:"<span class=more-span>More</span> likely to be between $10–19.99, $20–39.99 and $150 and above",ratingComments:"<span class=more-span>More</span> likely to be rated between 3.1–3.5 stars and 3.6–4 stars, <span class=less-span>less</span> likely to be rated between 4.1–4.5 stars",typeComments:"<span class=more-span>More</span> likely to be a white wine, <span class=less-span>less</span> likely to be a red wine",countryComments:"<span class=more-span>More</span> likely to be from South Africa, <span class=less-span>less</span> likely to be from France or Spain",text:[]},{animal:"pig",priceComments:"<span class=more-span>More</span> likely to be between $10–19.99 and $30–39.99",ratingComments:"<span class=more-span>More</span> likely to be rated between 3.6–4 stars, <span class=less-span>less</span> likely to be rated between 4.1–4.5 stars",typeComments:"<span class=more-span>More</span> likely to be a rose wine, <span class=less-span>less</span> likely to be a white wine",countryComments:"<span class=more-span>More</span> likely to be from Portugal, <span class=less-span>less</span> likely to be from the United States",text:[]},{animal:"rabbit",priceComments:"<span class=more-span>More</span> likely to be between $20–29.99 and $30–39.99",ratingComments:"<span class=more-span>More</span> likely to be rated between 3.6–4 stars",typeComments:"Types of wines for rabbit wines follow the overall distribution",countryComments:"<span class=more-span>More</span> likely to be from Spain, Germany, and Austria <span class=less-span>less</span> likely to be from France and the United States",text:[]},{animal:"ram",priceComments:"<span class=more-span>More</span> likely to be between $10–19.99",ratingComments:"<span class=more-span>More</span> likely to be rated between 3.6–4 stars, <span class=less-span>less</span> likely to be rated between 4.1–4.5 stars",typeComments:"<span class=more-span>More</span> likely to be a white wine, <span class=less-span>less</span> likely to be a red wine",countryComments:"<span class=more-span>More</span> likely to be from South Africa, <span class=less-span>less</span> likely to be from the United States",text:[]}],sg=[{type:"text",value:"In the end, one bottle had to emerge victorious. Looking at the entire graph, and focussing on the bottom-right corner, a few bottles stand out as great deals. Below $20, the highest-ranked wines scored 4.3, but these were all dessert or sparkling wines."},{type:"text",value:"For the best bet on a standard, dinner-ready, red or white wine, the crown goes to Mount Fishtail’s sauvignon blanc, from New Zealand’s Marlborough region. It’s a lovely label, and a lovely drop."},{type:"text",value:"New Zealand wines are delicious and, ultimately, a better predictor of quality than any of the animals we looked at. Across all categories and variables, the only dataset that maintained its price as the quality increased was New Zealand wines. When in doubt, buy Kiwi."},{type:"text",value:"I spent years trying to find the perfect animal wine. We looked at 10,000 bottles and spent a year tweaking the dataset. In the end, it turned out that the very best in the world was being grown on a vineyard at the seat of Mount Fishtail, tucked away in the Marlborough Ranges, a short jaunt across the Cook Strait from Wellington, which is where I wrote this article. I can see them now, as I raise a glass of this splendid sav."},{type:"text",value:"Cheers to that vindication, and cheers to Mount Fishtail."}],ug=[{type:"text",value:"Initial text data was manually collected across several New Zealand supermarkets. With hypothesis in hand, we expanded to programmatic collection."},{type:"text",value:"To get our initial list of wines, we queried <a href=https://www.vivino.com/webapi/explore/explore?country_code=US&currency_code=USD&grap%5B%E2%80%A6%5Dsc&price_range_max=10000&price_range_min=0&page=1&language=en>Vivino’s API</a> using different types of filters similar to what a user sees on <a href=https://www.vivino.com/webapi/explore/explore?country_code=US&currency_code=USD&grap%5B%E2%80%A6%5Dsc&price_range_max=10000&price_range_min=0&page=1&language=en>their website or app</a> and excluded any duplicates. The filters included things like wine types (Red, White, Rose, etc.), price range ($0–$10000+), and average rating (0–5 stars). For each wine, we collected the following: Vivino ID, name, year, winery, country, region, type, rating, number of ratings, price, currency, and an image of the label."},{type:"text",value:"To avoid over-prioritizing wines whose brands included animals, we limited each brand to one wine per type (Dessert, Fortified, Red, Rose, Sparkling, White), choosing the wine with the most number of ratings as a proxy for which wine would be more well known. This gave us a list of 9,314 wines."},{type:"text",value:"We then fed the label images into the OpenAI API (<span class=code>gpt-4-vision-preview</span model). We tested several prompts from the open-ended, including open-end questions like <span class=code>What’s on this image?,</span> but ultimately the prompt that worked the best was <span class=code>This image is a wine label. Do you see any animals or humans on it? On a scale of 0-1, with 0 being 'not certain at all' and 1 being 'very certain', how sure are you?</span>"},{type:"text",value:"This provided us with responses that looked something like this: <span class=code>I do not see any animals or humans on the wine label. The label contains text and a small emblem at the top, but there are no discernible figures of humans or animals. I am very certain about this assessment; so on the scale from 0 to 1, my confidence level is 1.</span> Occasionally, GPT would respond with something like <span class=code>I'm sorry, I can't assist with these requests.</span> In those cases we reran the prompt or manually reviewed the label. We ended up abandoning GPT’s certainty prediction because it wildly swung toward the poles: only 0.6% of the wines had confidence scores of something other than 0 or 1."},{type:"text",value:"We then manually reviewed a subset of wines to check GPT’s accuracy. GPT was particularly bad with pachyderms. It also struggled when animals weren’t the focal point and with what counted as an “animal.” Sometimes anthropomorphic or mythical creatures and insects were included, sometimes not. Knowing these shortcomings, we paid more attention to manually reviewing these types of labels. There still may be a few labels that slipped through the cracks, but overall this should be a solid sample."},{type:"text",value:"We ended up identifying 1,488 animal wines, or about ⅙ of all wines. We then manually grouped them into larger categories. Some animals rolled up, others did not. For example:"}],fg=[{animal:"lion",subgroup:"big cat",topgroup:"cat"},{animal:"hawk",subgroup:"raptor",topgroup:"bird"},{animal:"ant",subgroup:"walking insect",topgroup:"bug"}],pg=[{animal:"horse",subgroup:"horse",topgroup:"horse"},{animal:"bear",subgroup:"bear",topgroup:"bear"},{animal:"fish",subgroup:"fish",topgroup:"fish"}],mg=[{type:"text",value:"This opened up a lot of existential questions about what constitutes an animal, like “Is a duck a bird?” or “Is a Zebra a horse?” We tried to strike a balance between common perception and scientific naming with binomial nomenclature (genus and species)."},{type:"text",value:"We limited our analysis to animal groupings with at least 20 wines, knocking out things like bats, monkeys, marsupials, and rodents."}],Ds={bylineFake:ng,byline:rg,opening:ag,steps:lg,postIntro:ig,chartScroll:og,summaryCards:cg,outro:sg,methodsA:ug,methodsExChange:fg,methodsExSame:pg,methodsB:mg};function hg(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.15.1"),console.log("build: 2025-03-12-17:44"),console.log("--- --- --- --- --- ---")}function gg(n){let e,t,r,a;return e=new Vu({props:{title:n[1],description:n[2],url:n[3],preloadFont:n[0],keywords:n[4]}}),r=new tg({}),{c(){oe(e.$$.fragment),t=U(),oe(r.$$.fragment)},l(l){pe(e.$$.fragment,l),t=Z(l),pe(r.$$.fragment,l)},m(l,i){ce(e,l,i),L(l,t,i),ce(r,l,i),a=!0},p:ge,i(l){a||(q(e.$$.fragment,l),q(r.$$.fragment,l),a=!0)},o(l){X(e.$$.fragment,l),X(r.$$.fragment,l),a=!1},d(l){l&&g(t),se(e,l),se(r,l)}}}function dg(n,e,t){let{data:r}=e;hg();const a=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:l,description:i,url:o,keywords:c}=Ds;return ma("copy",Ds),ma("data",r.data),n.$$set=s=>{"data"in s&&t(5,r=s.data)},[a,l,i,o,c,r]}class Ag extends Ie{constructor(e){super(),De(this,e,dg,gg,Ae,{data:5})}}export{Ag as component};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["../chunks/lucide-svelte.5v8IhGDE.js","../chunks/scheduler.UCKdZ23Y.js","../chunks/index.w5d_eoIb.js","../chunks/Tap.LZGeCBtl.js","../chunks/index.-TYdB1u-.js","../chunks/each.27yXlK1x.js","../assets/Tap.LsFOX7_N.css","../chunks/main.V3IhYKWe.js","../chunks/_commonjsHelpers.5-cIlDoe.js","../assets/main.e5N44rey.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
