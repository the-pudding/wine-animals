import{t as q,a as z}from"./index.w5d_eoIb.js";import{r as B}from"./scheduler.UCKdZ23Y.js";function G(e){return e?.length!==void 0?e:Array.from(e)}function C(e,i){e.d(1),i.delete(e.key)}function D(e,i){q(e,1,1,()=>{i.delete(e.key)})}function H(e,i){e.f(),C(e,i)}function I(e,i){e.f(),D(e,i)}function J(e,i,x,M,v,y,d,S,m,A,l,j){let a=e.length,f=y.length,o=a;const h={};for(;o--;)h[e[o].key]=o;const c=[],r=new Map,u=new Map,g=[];for(o=f;o--;){const n=j(v,y,o),t=x(n);let s=d.get(t);s?M&&g.push(()=>s.p(n,i)):(s=A(t,n),s.c()),r.set(t,c[o]=s),t in h&&u.set(t,Math.abs(o-h[t]))}const p=new Set,k=new Set;function w(n){z(n,1),n.m(S,l),d.set(n.key,n),l=n.first,f--}for(;a&&f;){const n=c[f-1],t=e[a-1],s=n.key,_=t.key;n===t?(l=n.first,a--,f--):r.has(_)?!d.has(s)||p.has(s)?w(n):k.has(_)?a--:u.get(s)>u.get(_)?(k.add(s),w(n)):(p.add(_),a--):(m(t,d),a--)}for(;a--;){const n=e[a];r.has(n.key)||m(n,d)}for(;f;)w(c[f-1]);return B(g),c}export{I as a,C as d,G as e,H as f,D as o,J as u};
