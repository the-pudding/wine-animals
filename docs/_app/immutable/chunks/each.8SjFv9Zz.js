import{t as q,a as z}from"./index._4gniNZF.js";import{r as B}from"./scheduler.Lapqn5QW.js";function G(e){return e?.length!==void 0?e:Array.from(e)}function C(e,i){e.d(1),i.delete(e.key)}function D(e,i){z(e,1,1,()=>{i.delete(e.key)})}function H(e,i){e.f(),C(e,i)}function I(e,i){e.f(),D(e,i)}function J(e,i,x,M,v,y,d,S,m,A,l,j){let o=e.length,f=y.length,a=o;const h={};for(;a--;)h[e[a].key]=a;const c=[],r=new Map,u=new Map,g=[];for(a=f;a--;){const n=j(v,y,a),t=x(n);let s=d.get(t);s?M&&g.push(()=>s.p(n,i)):(s=A(t,n),s.c()),r.set(t,c[a]=s),t in h&&u.set(t,Math.abs(a-h[t]))}const p=new Set,k=new Set;function w(n){q(n,1),n.m(S,l),d.set(n.key,n),l=n.first,f--}for(;o&&f;){const n=c[f-1],t=e[o-1],s=n.key,_=t.key;n===t?(l=n.first,o--,f--):r.has(_)?!d.has(s)||p.has(s)?w(n):k.has(_)?o--:u.get(s)>u.get(_)?(k.add(s),w(n)):(p.add(_),o--):(m(t,d),o--)}for(;o--;){const n=e[o];r.has(n.key)||m(n,d)}for(;f;)w(c[f-1]);return B(g),c}export{I as a,G as e,H as f,J as u};
